/*! Andrew.Mobile.Plugin by jQuery MobileWebApp Script v1.0.0 Stable --- Copyright Andrew.Kim | (c) 20170808 ~ 20180320 andrew.mobile.plugin.min.js license */
/*! Coding by Andrew.Kim (E-mail: andrewkim365@qq.com) */
if("undefined"==typeof jQuery){throw new Error("Andrew Mobile Plugin's JavaScript requires jQuery")}jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return j/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return j/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});function Andrew_Config(b){var a=$.extend({MaskStyle:[],touchstart:true,ButtonLink:true,fixedBar:true,WechatHeader:false,Orientation:true,Prompt:"",Topdblclick:true},b);Andrew_sUserAgent();if(a.MaskStyle){$("body").addClass("ak-mask_"+a.MaskStyle[0]+" ak-mask_"+a.MaskStyle[1])}if(a.Topdblclick==true){$("header h1").bind("touchstart",function(){$("main").animate({scrollTop:0},500);return false});$("header h1").bind("dblclick",function(){$("main").animate({scrollTop:0},500);return false})}if(a.Orientation==true){window.addEventListener("onorientationchange" in window?"orientationchange":"resize",function(){if(window.orientation===180||window.orientation===0){$(".ak-landscape").remove();$("main").addClass("scrolling")}if(window.orientation===90||window.orientation===-90){$("input").blur();$("textarea").blur();$("body").append('<div class="ak-landscape">'+a.Prompt+"</div>");$("main").removeClass("scrolling")}},false)}if(a.touchstart==true){document.body.addEventListener("touchstart",function(){});$("main").addClass("scrolling")}else{$("*").removeClass("touchstart")}if(a.WechatHeader==true){if(IsWechat){$("header").hide().remove();$("main").css({"height":"auto","position":"relative","margin-top":0});if($("footer").hasClass("dis_none_im")){$("main").css({"padding-bottom":0})}else{$("main").css({"padding-bottom":$("footer").outerHeight()})}}else{Andrew_mainHeight()}}else{Andrew_mainHeight()}if(a.fixedBar==true){Andrew_InputFocus()}if(a.ButtonLink==true){Andrew_HashSharp(false)}else{$("*").removeAttr("data-href")}}function Andrew_Router(c){var b=$.extend({Router:false,tailClass:"",success:function(){},error:function(){},changePage:function(){}},c);function a(){if($("footer").find("dfn").length==0){$("footer").children().before("<dfn />");$("footer").children("dfn").addClass("dis_none_im")}if($("ak-header").length>0){if($("ak-header").attr("data-display")=="false"){$("header").addClass("dis_none_im")}else{if($("ak-header").children().length>0){$("header").html($("ak-header").children().clone())}$("header").removeClass("dis_none_im")}$("ak-header").remove()}else{$("header").addClass("dis_none_im")}if($("ak-footer").length>0){if($("ak-footer").attr("data-display")=="false"){$("footer").addClass("dis_none_im")}else{if($("ak-footer").children().length>0){$("footer").children("dfn").html($("ak-footer").children().clone());$("footer").children("dfn").removeClass("dis_none_im")}else{$("footer").children("dfn").addClass("dis_none_im")}$("footer").removeClass("dis_none_im")}$("ak-footer").remove()}else{$("footer").children("dfn").addClass("dis_none_im");$("footer").addClass("dis_none_im")}Andrew_RouterResize(b);Andrew_HashSharp(true)}if(b.Router==true){$(window).each(function(){if(location.hash.substring(1)!=""){htmlobj=$.ajax({url:location.hash.substring(1),async:false,success:function(){hash=location.hash.substring(1);b.success(hash);$("main").show()},error:function(){hash=location.hash.substring(1);b.error(hash);$("main").hide()}});$("main").html(htmlobj.responseText);a();Andrew_InputFocus()}$(window).resize(function(){Andrew_RouterResize(b);Andrew_InputFocus()});b.changePage(location.hash.substring(1))});$(window).bind("hashchange",function(){var d=$("footer").children("menu").find("button");d.each(function(){if(location.hash==$(this).attr("data-href")||location.hash.substring(1)==$(this).attr("data-href")){$("footer").removeClass("dis_none_im")}});if(location.hash.substring(1)!=""){htmlobj=$.ajax({url:location.hash.substring(1),async:false,success:function(){hash=location.hash.substring(1);b.success(hash);$("main").show();Andrew_InputFocus()},error:function(){hash=location.hash.substring(1);b.error(hash);$("main").hide()}});$("main").html(htmlobj.responseText);a();Andrew_InputFocus();$("main").animate({"scrollTop":0},100);$("body").children("div").remove();$("body").find(".ak-mask").remove()}else{window.location.reload()}b.changePage(location.hash.substring(1))})}}function Andrew_Menu(d){var c=$.extend({active_color:"",menu_icon:new Array(),menu_icon_active:new Array()},d);var b=$("footer").find("menu");var a=$("footer").find("menu").find("button");if(a.length>5){a.last().remove();b.addClass("length5")}else{b.addClass("length"+a.length)}a.each(function(){var e=$(this).index();$(this).children().eq(0).addClass(c.menu_icon[e]);$(this).children().removeClass(c.active_color);if(location.hash==$(this).attr("data-href")||location.hash.substring(1).split("?")[0]==$(this).attr("data-href")){a.children().eq(1).removeClass(c.active_color);$(this).children().eq(0).removeClass(c.menu_icon[e]);$(this).children().eq(0).addClass(c.menu_icon_active[e]).addClass(c.active_color);$(this).children().eq(1).addClass(c.active_color)}else{if(location.hash.substring(1).split("?ak")[0]==""){a.eq(0).children().eq(0).removeClass(c.menu_icon[0]).addClass(c.menu_icon_active[0]).addClass(c.active_color);a.eq(0).children().eq(1).addClass(c.active_color)}}})}function Andrew_sUserAgent(){var a=navigator.userAgent.toLowerCase();IsIpad=a.match(/ipad/i)=="ipad";IsIphone=a.match(/iphone os/i)=="iphone os";IsAndroid=a.match(/android/i)=="android";IsWechat=a.match(/MicroMessenger/i)=="micromessenger";IsUc7=a.match(/rv:1.2.3.4/i)=="rv:1.2.3.4";IsUc=a.match(/ucweb/i)=="ucweb";IsWM=a.match(/windows mobile/i)=="windows mobile"}function Andrew_InputFocus(){Andrew_sUserAgent();function b(){var d=0;if(document.documentElement&&document.documentElement.scrollTop){d=document.documentElement.scrollTop}else{if(document.body){d=document.body.scrollTop}}return d}function c(){if(IsIphone||IsIpad){$("main").removeClass("pb_100");$("footer").removeClass("minus_bottom_100")}else{if(IsAndroid){$("footer").removeClass("dis_opa_0")}}if($("header").length>0){$("header").css({"margin-top":0})}$("header").show()}function a(d){if(IsIphone||IsIpad){setTimeout(function(){$("main").animate({scrollTop:$("main").scrollTop()},100)},100);if($("header").length>0){setTimeout(function(){$("header").animate({"margin-top":b()-1})},200);$("main").on({touchmove:function(){$("header").css({"margin-top":0})}})}$("main").addClass("pb_100");$("footer").addClass("minus_bottom_100")}else{if(IsAndroid){if($("header").length>0){$("header").css({"margin-top":0})}setTimeout(function(){d.scrollIntoViewIfNeeded()},100)}}}$('main input[type="text"],main input[type="number"], main input[type="tel"], main input[type="email"]').on("focus",function(){var d=this;a(d)});$('main input[type="password"]').not('main input[type="password"][multiple]').on("focus",function(){var d=this;a(d)});$('main input[type="password"][multiple]').on("focus",function(d){d.preventDefault();if($("main").scrollTop()>0){$("header").hide()}$("footer").addClass("dis_opa_0")});$("main textarea").focus(function(){var d=this;a(d)});$('main input[type="text"],main input[type="number"], main input[type="tel"], main input[type="email"]').on("blur",function(){c()});$('main input[type="password"]').not('main input[type="password"][multiple]').on("blur",function(){c()});$('main input[type="password"][multiple]').on("blur",function(){c();$("footer").removeClass("dis_opa_0")});$("main textarea").on("blur",function(){c()});$("footer input").focus(function(e){e.preventDefault();$("header").on({touchmove:function(f){f.preventDefault();f.stopPropagation()}});$("footer").on({touchmove:function(f){f.preventDefault();f.stopPropagation()}});if(IsIphone||IsIpad){var d=this;$("main").on({touchmove:function(){document.activeElement.blur();if($("header").length>0){$("header").css({"margin-top":0})}}});if($("header").length>0){setTimeout(function(){if($("body").scrollTop()>0){$("header").animate({"margin-top":$("body").scrollTop()-($("header").height()/3)})}else{$("header").css({"margin-top":0})}},200)}if($("footer").length>0){$("footer").css({"margin-bottom":b()})}}});$("footer input").on("blur",function(){if(IsIphone||IsIpad){if($("header").length>0){$("header").css({"margin-top":0})}}})}function Andrew_mainHeight(){Andrew_sUserAgent();if($("header").hasClass("dis_none_im")&&!$("footer").hasClass("dis_none_im")){$("main").css({"margin-top":0,"margin-bottom":$("footer").outerHeight()});if(IsWechat&&IsAndroid){$("main").css({"height":"inherit"})}else{$("main").css({"height":$(window).height()-$("footer").outerHeight()})}}if(!$("header").hasClass("dis_none_im")&&$("footer").hasClass("dis_none_im")){$("main").css({"margin-top":$("header").outerHeight(),"margin-bottom":0});if(IsWechat&&IsAndroid){$("main").css({"height":"inherit"})}else{$("main").css({"height":$(window).height()-$("header").outerHeight()})}}if($("header").hasClass("dis_none_im")&&$("footer").hasClass("dis_none_im")){$("main").css({"margin-top":0,"margin-bottom":0});if(IsWechat&&IsAndroid){$("main").css({"height":"inherit"})}else{$("main").css({"height":$(window).height()})}}if(!$("header").hasClass("dis_none_im")&&!$("footer").hasClass("dis_none_im")){$("main").css({"margin-top":$("header").outerHeight(),"margin-bottom":$("footer").outerHeight()});if(IsWechat&&IsAndroid){$("main").css({"height":"inherit"})}else{$("main").css({"height":$(window).height()-($("header").outerHeight()+$("footer").outerHeight())})}}$("main").css({"top":"0","bottom":"0","left":"0","right":"0","position":"relative"})}function Andrew_Ajax(b){var a=$.extend({to:"",type:"POST",url:"",data:{},async:false,success:function(){},error:function(){}},b);htmlobj=$.ajax({type:a.type,url:a.url,data:a.data,async:a.async,success:function(c){a.success(c);if($(a.to)){$(a.to).html(htmlobj.responseText)}Andrew_HashSharp(true)},error:function(c){if($(a.to)){$(a.to).html(htmlobj.responseText)}a.error(c)}})}function Andrew_Loader(r){var f=$.extend({autoMode:true,maskBG:true,iconColor:"#ffffff",timeToHide:0,Loader:""},r);var n='<div class="ak-loading ak-Loader1">'+'<div class="ak-Loader-double-bounce1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-double-bounce2" style="background-color:'+f.iconColor+'"></div>'+"</div>";var m='<div class="ak-loading ak-Loader2">'+'<div class="ak-Loader-container ak-Loader-container1">'+'<div class="ak-Loader-circle1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle2" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle3" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle4" style="background-color:'+f.iconColor+'"></div>'+"</div>"+'<div class="ak-Loader-container ak-Loader-container2">'+'<div class="ak-Loader-circle1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle2" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle3" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle4" style="background-color:'+f.iconColor+'"></div>'+"</div>"+'<div class="ak-Loader-container ak-Loader-container3">'+'<div class="ak-Loader-circle1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle2" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle3" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circle4" style="background-color:'+f.iconColor+'"></div>'+"</div>"+"</div>";var l='<div class="ak-loading ak-Loader3">'+'<div class="ak-Loader-dot1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-dot2" style="background-color:'+f.iconColor+'"></div>'+"</div>";var j='<div class="ak-loading ak-Loader4" style="background-color:'+f.iconColor+'"></div>';var h='<div class="ak-loading ak-Loader5">'+'<div class="ak-Loader-cube1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-cube2" style="background-color:'+f.iconColor+'"></div>'+"</div>";var g='<div class="ak-loading ak-Loader6">'+'<div class="ak-Loader-rect1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-rect2" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-rect3" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-rect4" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-rect5" style="background-color:'+f.iconColor+'"></div>'+"</div>";var e='<div class="ak-loading ak-Loader7">'+'<div class="ak-Loader-circ1" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circ2" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circ3" style="background-color:'+f.iconColor+'"></div>'+'<div class="ak-Loader-circ4" style="background-color:'+f.iconColor+'"></div>'+"</div>";$(".ak-Loader").remove();$("body").append("<div class='ak-Loader press fix top_0 left_0 w_100 h_100 zindex_22'></div>");var q=$(".ak-Loader");if(f.maskBG==true){q.addClass("ak-mask")}$("main").removeClass("scrolling");q.each(function(){var s=f.Loader;switch(s){case"load_1":q.html(n);break;case"load_2":q.html(m);break;case"load_3":q.html(l);break;case"load_4":q.html(j);break;case"load_5":q.html(h);break;case"load_6":q.html(g);break;case"load_7":q.html(e);break}});var c=q.find(".ak-loading");var d=$(window).width();var a=$(window).height();var b=c.outerWidth();var p=c.outerHeight();var k={position:"absolute",left:(d/2)-(b/2),top:(a/2)-(p/2)};c.css(k);if(f==="destroy"){o()}if(f.autoMode==false){$.fn.Andrew_Loader("destroy")}else{setTimeout(function(){o()},f.timeToHide)}return;function o(){$(q).fadeOut();$("main").addClass("scrolling")}}function Andrew_Popupwin(e){option=$.extend({dom:"",position:"",effectIn:"",effectOut:"",hasMask:true,closeBtn:"",OneButton:"",maskPosition:"",toggleIcon:"",callback:function(){},scrollback:function(){}},e);if(option.dom){$(option.dom).css({"position":"fixed","z-index":parseInt(option.maskPosition)+1});f();$(window).resize(function(){f()})}if(option.position==="offset"){var d=$("main").scrollTop()+$(option.dom).outerHeight();$("main").scroll(function(k){var j=$(this).scrollTop();if(j<d){if($(option.OneButton).hasClass("ak-is_active")){a();$(option.dom).removeClass("dis_none")}else{$(option.dom).removeAttr("style")}}else{if(j>d){if($(option.OneButton).hasClass("ak-is_active")){a();$(option.dom).removeClass("dis_none")}else{$(option.dom).removeAttr("style")}}}option.scrollback($(option));k.preventDefault()})}if(option.hasMask){b();$("main").removeClass("scrolling")}if(option.maskPosition){$("#popup_mask").css({"z-index":option.maskPosition});if(option.position==="offset"){var h=$(option.OneButton).offset().top;var g=$(option.OneButton).outerHeight();$("#popup_mask").css({"top":h+g})}}if(option.OneButton){$(option.closeBtn).unbind("click");$(option.closeBtn).on("click",function(){a()});$(option.OneButton).toggleClass("ak-is_active");if($(option.OneButton).hasClass("ak-is_active")){b();if(option.position==="offset"){var c=$(option.OneButton).offset().top+$(option.OneButton).outerHeight();$(option.dom).css({"top":c})}$(option.dom).removeClass("animated "+option.effectOut).addClass("animated "+option.effectIn).removeClass("dis_none");if(option.toggleIcon){if(option.position!="offset"){$(option.OneButton).append("<i />");$(option.OneButton).children("i").eq(0).hide();$(option.OneButton).children("i").eq(1).addClass(option.toggleIcon)}}option.callback($(option))}else{a()}}else{$(option.dom).removeClass("animated "+option.effectOut).addClass("animated "+option.effectIn).removeClass("dis_none");b();option.callback($(option));$(option.closeBtn).unbind("click");$(option.closeBtn).on("click",function(j){j.preventDefault();a()})}function b(){if($("#popup_mask").length<1){$("main").append('<div id="popup_mask" class="ak-mask"></div>');$("#popup_mask").show()}}function f(){var o=$(window).width();var j=$(window).height();var k=$(option.dom).outerWidth();var n=$(option.dom).outerHeight();if(option.position==="top"){$(option.dom).css({"left":(o/2)-(k/2),"top":0})}else{if(option.position==="bottom"){$(option.dom).css({"left":(o/2)-(k/2),"bottom":0})}else{if(option.position==="left"){$(option.dom).css({"left":0,"top":0})}else{if(option.position==="right"){$(option.dom).css({"right":0,"top":0})}else{if(option.position==="offset"){var l=$(option.OneButton).offset().top;var m=$(option.OneButton).outerHeight();$(option.dom).css({"left":0,"top":l+m})}else{$(option.dom).css({"left":(o/2)-(k/2),"top":(j/2)-(n/2)})}}}}}}function a(){if(option.OneButton){$(option.dom).removeClass("animated "+option.effectIn).addClass("animated "+option.effectOut);$(option.OneButton).children("i").eq(0).show();$(option.OneButton).children("i").eq(1).remove();$(option.OneButton).removeClass(option.toggleIcon)}else{if(option.effectOut){$(option.dom).removeClass("animated "+option.effectIn).addClass("animated "+option.effectOut)}}setTimeout(function(){$("main").addClass("scrolling");$(option.OneButton).removeClass("ak-is_active");$("#popup_mask").fadeOut().remove();$(option.dom).addClass("dis_none").removeAttr("style")},700)}}function Andrew_CountDown(c,b){var a=$.extend({wait:10,Start_text:"",End_Text:"",callback:function(){}},b);var d=a.wait;if(d==0){c.removeAttr("disabled");c.html(a.End_Text);d=a.wait;a.callback(d)}else{c.attr("disabled","disabled");c.html(d+a.Start_text);d--;setTimeout(function(){Andrew_CountDown(c,{wait:d,Start_text:a.Start_text,End_Text:a.End_Text,callback:function(e){a.callback(e)}})},1000)}}function Andrew_HashSharp(form){$("*[data-href]").unbind("click");$("*[data-href]").click(function(){var hash_sharp=new RegExp("#");var hash_script=new RegExp("javascript");var question_mark=new RegExp("\\?");var akTime=new RegExp("ak=");if(hash_sharp.test($(this).attr("data-href"))){if(question_mark.test($(this).attr("data-href"))){if(akTime.test($(this).attr("data-href"))){window.location.href=changeURLArg($(this).attr("data-href"),"ak",new Date().getTime())}else{window.location.href=$(this).attr("data-href")+"&ak="+new Date().getTime()}}else{window.location.href=$(this).attr("data-href")+"?ak="+new Date().getTime()}}else{if(hash_script.test($(this).attr("data-href"))){location.replace($(this).attr("data-href"))}else{if(question_mark.test($(this).attr("data-href"))){if(akTime.test($(this).attr("data-href"))){window.location.href=changeURLArg("#"+$(this).attr("data-href"),"ak",new Date().getTime())}else{window.location.href="#"+$(this).attr("data-href")+"&ak="+new Date().getTime()}}else{window.location.href="#"+$(this).attr("data-href")+"?ak="+new Date().getTime()}}}});if(form==true){$("form[action]").each(function(){var hash_sharp=new RegExp("#");if(!hash_sharp.test($(this).attr("action"))){$(this).attr("action","#"+$(this).attr("action")+"?ak="+new Date().getTime())}})}function changeURLArg(url,arg,arg_val){var pattern=arg+"=([^&]*)";var replaceText=arg+"="+arg_val;if(url.match(pattern)){var tmp="/("+arg+"=)([^&]*)/gi";tmp=url.replace(eval(tmp),replaceText);return tmp}else{if(url.match("[?]")){return url+"&"+replaceText}else{return url+"?"+replaceText}}return url+"\n"+arg+"\n"+arg_val}var hash_sharps=new RegExp("\\?#");if(hash_sharps.test(window.location.href)){location.replace(window.location.href.replace("?#","#"))}}function Andrew_RouterResize(a){Andrew_sUserAgent();if($(a.tailClass).length>0){$(a.tailClass).prev().css({"margin-bottom":$(a.tailClass).outerHeight()+$(a.tailClass).outerHeight()/2});$("footer").addClass("dis_opa_0");if(IsWechat){$("body").removeClass("ovh");$("main").css({"padding-bottom":$(a.tailClass).outerHeight()});if($("header").hasClass("dis_none_im")){$("main").css({"margin-top":0})}else{$("main").css({"margin-top":$("header").outerHeight()})}}else{$("body").addClass("ovh");$("main").css({"padding-bottom":$(a.tailClass).outerHeight()});if($("header").hasClass("dis_none_im")){$("main").css({"margin-top":0,"height":$(window).height()-$(a.tailClass).outerHeight()})}else{$("main").css({"margin-top":$("header").outerHeight(),"height":$(window).height()-$("header").outerHeight()-$(a.tailClass).outerHeight()})}}$(a.tailClass).on({touchmove:function(b){b.preventDefault();b.stopPropagation()}});if(IsIphone||IsIpad){$('main input[type="text"],main input[type="number"], main input[type="tel"], main input[type="email"]').on("focus",function(){$(a.tailClass).addClass("dis_opa_0")});$('main input[type="password"]').not('main input[type="password"][multiple]').on("focus",function(){$(a.tailClass).addClass("dis_opa_0")});$('main input[type="password"][multiple]').on("focus",function(){$(a.tailClass).addClass("dis_opa_0")});$("main textarea").focus(function(){$(a.tailClass).addClass("dis_opa_0")});$('main input[type="text"],main input[type="number"], main input[type="tel"], main input[type="email"]').on("blur",function(){$(a.tailClass).removeClass("dis_opa_0")});$('main input[type="password"]').not('main input[type="password"][multiple]').on("blur",function(){$(a.tailClass).removeClass("dis_opa_0")});$('main input[type="password"][multiple]').on("blur",function(){$(a.tailClass).removeClass("dis_opa_0")});$("main textarea").on("blur",function(){$(a.tailClass).removeClass("dis_opa_0")})}}else{$("footer").removeClass("dis_opa_0");Andrew_mainHeight()}}function webToast(){var k={msg:"",postion:"bottom",time:1000};var e=".ak-webtoast";var d=e.substring(1,e.length);var n=arguments.length;var m=arguments[0];if(arguments.length>0){k.msg=arguments[0];k.msg=m;var l=arguments[1];var b=/(bottom|top|middle)/i;var a=/()/i;var p=/[1-9]\d*/;if(b.test(l)){k.postion=l}else{if(a.test(l)){k.mask=l}else{if(p.test(l)){k.time=l}}}var j=arguments[2];var p=/[1-9]\d*/;if(p.test(j)){k.time=j}if(a.test(j)){k.mask=j}}if("mask"==k.mask){var o="<div class='"+d+" animated fadeIn'><div class='ak-mask'></div><h3>"+k.msg+"</h3></div>"}else{var o="<div class='"+d+" animated fadeIn'><h3>"+k.msg+"</h3></div>"}if($(e).length<=0){$("body").append(o)}else{$(e).css("left","");if("mask"==k.mask){o="<div class='ak-mask'></div><h3>"+k.msg+"</h3>"}else{o="<h3>"+k.msg+"</h3>"}$(e).html(o)}var q=$(e).width(),f=$(window).width();$(e).fadeIn();$(e).css("left",(f-q)/2-20);if("bottom"==k.postion){$(e).css("bottom",50);$(e).css("top","")}else{if("top"==k.postion){$(e).css("bottom","");$(e).css("top",50)}else{if("middle"==k.postion){$(e).css("bottom","");$(e).css("top","");var g=$(e).height(),c=$(window).height();$(e).css("bottom",(c-g)/2-20)}}}setTimeout(function(){$(e).fadeOut().remove()},k.time)}(function(a){a.fn.Andrew_Textarea=function(e){var d=a.extend({maxlength:300,rows:6,topButton:"",onTextVal:function(){},TopbtnOK:function(){}},e);var c=a(this);if(c.length>0){c.each(function(){a(this).after('<span class="dis_block_im ovh abs center text_al_r text_08em">'+'<var class="text_08em" style="color: #f16a6a;">0</var>'+"/"+'<var class="text_08em mr_03em">'+d.maxlength+"</var>"+"</span>");a(this).next("span").css({"width":a(this).width(),"left":(a(window).width()-a(this).width())/2});a(this).attr("rows",d.rows).attr("maxlength",d.maxlength);a(this).parent().css({"padding-bottom":a(this).next("span").height()*1.2+"px"})});var b=0;c.on("input propertychange",function(l){if(b>=d.maxlength&&l.keyCode==8){return}else{var g=(a(this).val().replace(/<(.+?)>/gi,"&lt;$1&gt;")).replace(/\n/gi,"|");var f=g.split("|").length-1;var j=g.split("|").join("").length;a(this).attr("maxlength",d.maxlength+(f*2));b=j;if(b>=d.maxlength){b=d.maxlength}a(this).next("span").children("var").eq(0).html(b);var k=a(this).val();d.onTextVal(k);if(d.topButton!=""){if(b>0&&b<=d.maxlength){a(this).parents("form").find(":submit").addClass("dis_none_im");if(a("header").children("button.ak-txtbutton").length==0){var h=c.parents("form").find(":submit").text();a("header").append('<button type="button" class="ak-txtbutton press text_12em pr_3 text_al_r">'+h+"</button>");a("header").children("button.ak-txtbutton").addClass(d.topButton);a("header").children("button.ak-txtbutton").css({"position":"absolute","right":"0","z-index":"2"})}a("header").children("button.ak-txtbutton").unbind("click");a("header").children("button.ak-txtbutton").on("click",function(m){m.stopPropagation();a("header").children("button.ak-txtbutton").show();d.TopbtnOK(k)})}else{a(this).parents("form").find(":submit").removeClass("dis_none_im");a("header").children("button.ak-txtbutton").remove()}}}})}}}(jQuery));(function(a){a.fn.Andrew_ScrollFixed=function(c){var b=a.extend({ScrollFixed:false,zPosition:"1",animated:"slideInDown ani_05s",top:0},c);var d=a(this);if(b.ScrollFixed==true){e();a(window).resize(function(){e()});function e(){Andrew_sUserAgent();if(IsWechat){var g=a(window)}else{if(a("header").length!=0&&a("footer").length!=0){var g=a("main");var h=a("header").outerHeight()}else{var g=a(window);var h=0}}if(d.length>0){var f=d.offset().top}g.scroll(function(){if(a("header").length>0){var j=a(this).scrollTop()+a("header").outerHeight()}else{var j=a(this).scrollTop()}if(j>f){d.addClass("fix w_100 top_0 animated "+b.animated);d.css({"margin-top":h+b.top,"z-index":b.zPosition});if(a("header").hasClass("dis_none_im")){d.css({"margin-top":0})}}else{d.removeClass("fix w_100 top_0 animated "+b.animated);d.removeAttr("style")}});a('input[type="text"], input[type="password"], input[type="number"], input[type="tel"], input[type="email"]').focus(function(){if(d.hasClass("fix")){d.addClass("dis_none")}});a('input[type="text"], input[type="password"], input[type="number"], input[type="tel"], input[type="email"]').blur(function(){d.removeClass("dis_none")});a("textarea").focus(function(){if(d.hasClass("fix")){d.addClass("dis_none")}});a("textarea").blur(function(){d.removeClass("dis_none")})}}}}(jQuery));(function(d){var a={};var c={};a.opening=false;a._options={title:false,animateIn:"bounceInDown",animateOut:"bounceOutUp",onSubmit:false,onCancel:false,required:false,icon:false,inputbox:false,inputType:"",inputClass:"",placeholder:"",button_ok:"OK",button_cancel:"CANCEL"};a.tplBase='<div class="ak-dialog">';a.tplBase+='<div class="ak-dialog_container">';a.tplBase+="{{header}}";a.tplBase+='<div class="ak-dialog_content"><p>{{message}}</p>{{input}}</div>';a.tplBase+='<div class="ak-dialog_footer">{{button_cancel}} <button type="button" class="jq_btn bg_white button_ok c_title">{{btn_ok}}</button></div>';a.tplBase+="</div>";a.tplBase+="</div>";a.tplHeader='<div class="ak-dialog_header bor_bottom_dashed bor_gray_ddd {{icon}}"><h3 class="ml_05em">{{title}}</h3></div>';a.tplInput='<div class="ak-dialog_field">{{inputbox}}</div>';a.getTeplate=function(g,h,e){var f=a.tplBase;if(g!=="alert"){f=f.replace("{{button_cancel}}",'<button type="button" class="jq_btn bg_white button_cancel bor_right bor_gray_ddd">{{btn_cancel}}</button>')}else{f=f.replace("{{button_cancel}}","")}if(g=="prompt"){f=f.replace("{{input}}",a.tplInput)}else{f=f.replace("{{input}}","")}if(e.title){f=f.replace("{{header}}",a.tplHeader.replace("{{title}}",e.title))}else{f=f.replace("{{header}}","")}if(e.inputbox=="textarea"){f=f.replace("{{inputbox}}","<textarea />")}else{if(e.inputbox=="input"){if(e.inputType){f=f.replace("{{inputbox}}","<input type='"+e.inputType+"' />")}else{f=f.replace("{{inputbox}}","<input type='text' />")}}}f=f.replace("{{icon}}",e.icon);f=f.replace("{{btn_ok}}",e.button_ok);f=f.replace("{{btn_cancel}}",e.button_cancel);f=f.replace("{{message}}",h);return f};a.clear=function(){d("#alert_mask").length?d("#alert_mask").remove():"";d(".ak-dialog").length?d(".ak-dialog").remove():""};a.Dialog=function(){var e=this;e.close=function(){d("main").addClass("scrolling");if(e.options.animateOut){if(e.options.animateIn){e.container.find(".ak-dialog_container").removeClass(e.options.animateIn)}e.container.find(".ak-dialog_container").addClass("animated "+e.options.animateOut);setTimeout(function(){e.container.removeClass("is-active");e.container.remove();a.opening=false;d("#alert_mask").remove()},800)}else{e.container.remove();a.opening=false;d("#alert_mask").remove()}};e.addEvents=function(){e.btnOk.unbind("click");e.btnOk.on("click",function(g){g.preventDefault();var f=false;if(e.field.length){if(e.options.required==true&&!e.field.val().length){e.field.addClass("is-invalid");return false}else{e.field.removeClass("is-invalid");f=e.field.val()}}else{f=true}if(typeof e.options.onSubmit=="function"){e.options.onSubmit(f)}e.close()});e.btnCancel.unbind("click");e.btnCancel.on("click",function(g){g.preventDefault();var f=false;if(e.field.length&&e.field.val().length!==0){f=e.field.val()}if(typeof e.options.onCancel=="function"){e.options.onCancel(f)}e.close()})};this.init=function(h,j,g,f){if(a.opening){d("#alert_mask, .ak-dialog").remove()}a.clear();e.options=a.getOptions(g);d("body").append(a.getTeplate(h,j,e.options)+"<div id='alert_mask' class=\"ak-mask\"></div> ");e.container=d("body").find(".ak-dialog");d("main").removeClass("scrolling");e.btnOk=e.container.find(".button_ok");e.btnCancel=e.container.find(".button_cancel");if(g.inputbox=="textarea"){e.field=e.container.find("textarea")}else{e.field=e.container.find("input")}if(g.placeholder){e.field.attr("placeholder",g.placeholder);var k="";e.field.focus(function(){k=d(this).attr("placeholder");if(d(this)[0].type!="search"){d(this).removeAttr("placeholder")}d(this).blur(function(){d(this).attr("placeholder",k)})})}e.field.parents(".ak-dialog_content").children("p").addClass("ak-input_title");e.field.addClass(g.inputClass);if(f&&e.field.length){e.field.val(f)}e.container.addClass("ak-is_active").css({"top":(d(window).height()/2)-(e.container.height()/2)});if(e.options.animateIn){e.container.find(".ak-dialog_container").addClass("animated "+e.options.animateIn)}a.opening=true;e.addEvents()}};a.getOptions=function(e){var f=d.extend({},a._options);if(typeof e=="object"){d.each(e,function(g,h){f[g]!==undefined?f[g]=h:console.error('The option "'+g+'" not exist.')})}return f};var b=function(){var g=navigator.userAgent,f=g.indexOf("MSIE")>-1,e=f?/\d+/.exec(g.split(";")[1]):"no ie";return e<=8}();if(!b){alert=function(f,g){var f=f||"";var g=g||{};var e=new a.Dialog;e.init("alert",f,g)};confirm=function(f,g){var f=f||"";var g=g||{};var e=new a.Dialog;e.init("confirm",f,g)};prompt=function(g,e,h){var g=g||"";var h=h||{};var f=new a.Dialog;f.init("prompt",g,h,e)}}c.alert=function(f,g){var f=f||"";var g=g||{};var e=new a.Dialog;e.init("alert",f,g)};c.confirm=function(f,g){var f=f||"";var g=g||{};var e=new a.Dialog;e.init("confirm",f,g)};c.prompt=function(g,e,h){var g=g||"";var h=h||{};var f=new a.Dialog;f.init("prompt",g,h,e)};c.config=function(e){if(typeof e!=="object"){return false}d.each(e,function(f,g){a._options[f]!==undefined?a._options[f]=g:console.error('The option "'+f+'" not exist.')})};$ak=c}(jQuery));(function(b){var a=function(e,d){var c=this;c.$element=e,c.defaults={start:1,speed:500,interval:5000,autoPlay:false,dotShow:true,arrShow:true,dotClass:"",arrClass:"",ActiveClass:"bg_title",afterSlider:function(){}},c.clickable=true,c.options=b.extend({},c.defaults,d)};a.prototype={init:function(){var o=this,q=o.$element;var p=q.children("ul");var n=p.children("li");var m=n.length;var k=o.options.start;var c=0,e=0;if(o.options.arrShow){var l='<button type="button" class="ak-arr_prev">&lt;</button><button type="button" class="ak-arr_next">&gt;</button>';q.append(l);q.find("button").addClass(o.options.arrClass);q.find("button.ak-arr_prev").css({"left":q.find("button.ak-arr_prev").outerWidth()/2});q.find("button.ak-arr_next").css({"right":q.find("button.ak-arr_next").outerWidth()/2})}for(i=1;i<=m;i++){if(k==i){n.eq(k-1).addClass("dis_block_im")}}if(o.options.dotShow){var d="";for(i=1;i<=m;i++){if(k==i){d+='<li data-index="'+i+'" class="'+o.options.ActiveClass+'"></li>'}else{d+='<li data-index="'+i+'"></li>'}}var j="<ol>"+d+"</ol>";q.append(j)}var g=function(){q.addClass("ak-Slider");if(o.options.arrShow){var r=(q.outerHeight()-q.find("button").outerHeight())/2;q.find("button").css("top",r+"px")}if(o.options.dotShow){var u=q.children("ol");u.find("li").addClass(o.options.dotClass);var t=(m+1)*u.find("li").eq(0).outerWidth();var s=(q.outerWidth()-t)/2;u.css({"left":s+"px"})}};g();b(window).resize(function(){g()});if(o.options.arrShow){q.find(".ak-arr_next").unbind("click");q.find(".ak-arr_next").on("click",function(r){r.preventDefault();if(o.clickable){if(k>=m){k=1}else{k+=1}o.moveTo(k,"ak-arr_next")}});q.find(".ak-arr_prev").unbind("click");q.find(".ak-arr_prev").on("click",function(r){r.preventDefault();if(o.clickable){if(k==1){k=m}else{k-=1}o.moveTo(k,"ak-arr_prev")}})}if(o.options.dotShow){q.find("ol li").unbind("click");q.find("ol li").on("click",function(s){s.preventDefault();if(o.clickable){var r=b(this).data("index");if(r>k){dir="ak-arr_next"}else{dir="ak-arr_prev"}if(r!=k){k=r;o.moveTo(k,dir)}}})}if(o.options.autoPlay){var f;var h=function(){k++;if(k>m){k=1}o.moveTo(k,"ak-arr_next")};f=setInterval(h,o.options.interval);q.hover(function(){f=clearInterval(f)},function(){f=setInterval(h,o.options.interval)})}n.on({touchstart:function(r){c=r.originalEvent.touches[0].clientY;e=r.originalEvent.touches[0].clientX},touchend:function(u){var r=u.originalEvent.changedTouches[0].clientY,s=u.originalEvent.changedTouches[0].clientX,t=c-r,v=e-s;if(Math.abs(v)>Math.abs(t)){if(v>5){if(k>=m){k=1}else{k+=1}o.moveTo(k,"ak-arr_next")}else{if(k==1){k=m}else{k-=1}o.moveTo(k,"ak-arr_prev")}}c=null;e=null},touchmove:function(u){var r=u.originalEvent.changedTouches[0].clientY,s=u.originalEvent.changedTouches[0].clientX,t=c-r,v=e-s;if(Math.abs(v)>Math.abs(t)){u.preventDefault()}},mousedown:function(r){c=r.originalEvent.clientY;e=r.originalEvent.clientX},mouseup:function(u){var r=u.originalEvent.screenY,s=u.originalEvent.screenX,t=c-r,v=e-s;if(Math.abs(v)>Math.abs(t)){if(v>5){if(k>=m){k=1}else{k+=1}o.moveTo(k,"ak-arr_next")}else{if(k==1){k=m}else{k-=1}o.moveTo(k,"ak-arr_prev")}}c=null;e=null},mousemove:function(r){r.preventDefault()}})},moveTo:function(e,c){var j=this,l=j.$element;var f=j.clickable;var h=l.children("ol").find("li");var k=l.children("ul");var g=k.children("li");if(f){j.clickable=false;var d=l.width();if(c=="ak-arr_prev"){d=-1*d}k.children(".dis_block_im").stop().animate({left:-d},j.options.speed,function(){b(this).removeClass("dis_block_im")});g.eq(e-1).css("left",d+"px").addClass("dis_block_im").stop().animate({left:0},j.options.speed,function(){j.clickable=true});j.options.afterSlider(e);h.removeClass(j.options.ActiveClass);h.eq(e-1).addClass(j.options.ActiveClass)}else{return false}}};b.fn.Andrew_Slider=function(d){var c=new a(this,d);return this.each(function(){c.init()})}}(jQuery));(function(b){var a=function(d,c){this.$wrapper=d;this.$tab_list=this.$wrapper.children("nav").children("ul").children("li");this.$tabCont_art=this.$wrapper.children("article");this.$tabCont_wrap=this.$wrapper.children("article").children("div");this.$tab_cont=this.$tabCont_wrap.find("section");this.timer=null;this.playTimer=null;this.iNow=0;this.defaults={curDisplay:1,touchmode:false,mouse:"click",playDelay:1000,boxheight:false,navlength:false,fullclass:"bor_bottom2 bor_title c_title",emptyclass:"bor_bottom bor_gray_ddd",changeMethod:"default",autoPlay:false,callback:function(){}};this.opts=b.extend({},this.defaults,c)};a.prototype={inital:function(){var c=this;this.setData();this.tabInital();b(window).resize(function(){c.setData()});if(this.opts.mouse==="click"){this.$tab_list.unbind("click");this.$tab_list.click(function(){c.changeTab(b(this).index());c.iNow=b(this).index()})}else{if(this.opts.mouse==="hover"){this.$tab_list.hover(function(){var e=this;clearTimeout(c.timer);c.timer=setTimeout(function(){c.changeTab(b(e).index())},30);c.iNow=b(this).index()},function(){clearTimeout(c.timer)})}else{this.$tab_list.unbind("click");this.$tab_list.click(function(){c.changeTab(b(this).index());c.iNow=b(this).index()})}}if(this.opts.autoPlay){clearInterval(this.playTimer);this.playTimer=setInterval(function(){c.autoPlay()},this.opts.playDelay);this.$wrapper.hover(function(){},function(){c.playTimer=setInterval(function(){c.autoPlay()},this.opts.playDelay)})}var d=this.opts.curDisplay;if(this.opts.touchmode){this.$tab_cont.on({touchstart:function(f){touchStartY=f.originalEvent.touches[0].clientY;touchStartX=f.originalEvent.touches[0].clientX},touchend:function(k){var g=k.originalEvent.changedTouches[0].clientY,h=k.originalEvent.changedTouches[0].clientX,j=touchStartY-g,l=touchStartX-h,f=c.$tab_list.length;if(Math.abs(l)>Math.abs(j)){if(l>5){++d;if(d>f){d=1}c.$tab_list.eq(d-1).click()}else{--d;if(d==0){d=f}c.$tab_list.eq(d-1).click()}}touchStartY=null;touchStartX=null},touchmove:function(j){var f=j.originalEvent.changedTouches[0].clientY,g=j.originalEvent.changedTouches[0].clientX,h=touchStartY-f,k=touchStartX-g;if(Math.abs(k)>Math.abs(h)){j.preventDefault()}},mousedown:function(f){touchStartY=f.originalEvent.clientY;touchStartX=f.originalEvent.clientX},mouseup:function(k){var g=k.originalEvent.screenY,h=k.originalEvent.screenX,j=touchStartY-g,l=touchStartX-h,f=c.$tab_list.length;if(Math.abs(l)>Math.abs(j)){if(l>5){++d;if(d>f){d=1}c.$tab_list.eq(d-1).click()}else{--d;if(d==0){d=f}c.$tab_list.eq(d-1).click()}}touchStartY=null;touchStartX=null},mousemove:function(f){f.preventDefault()}})}},setData:function(){if(this.$tab_list.length==this.opts.navlength){this.$tab_list.removeClass("pl_1em pr_1em");this.$tab_list.parent("ul").removeClass("nav_line").addClass("nav_line_c");this.$tab_list.parent("ul").addClass("length"+this.$tab_list.length)}this.$tab_cont.css({"width":this.$tabCont_art.width()});if(this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.opts.boxheight});this.$tab_cont.css({height:this.opts.boxheight})}else{this.$tabCont_wrap.parent().css({"height":"auto"})}var d=this.$tab_cont.width();var e=this.$tab_cont.height();var c=this.$tab_cont.length;switch(this.opts.changeMethod){case"default":this.$tab_cont.css({display:"none"});break;case"horizontal":this.$tabCont_wrap.css({width:d*c});this.$tab_cont.addClass("fl");break;case"vertical":this.$tabCont_wrap.css({height:e*c});break;case"opacity":this.$tab_cont.css({display:"none"});break;default:this.$tab_cont.css({display:"none"});break}},tabInital:function(){var c=this.opts.curDisplay-1;this.$tab_list.removeClass(this.opts.fullclass);this.$tab_list.eq(c).addClass(this.opts.fullclass);this.opts.callback(this.$tab_cont.eq(c));if(this.opts.changeMethod!="vertical"){this.$tab_cont.css({"height":"0","margin-bottom":"1%"});this.$tab_cont.eq(c).css({"height":"auto"})}else{if(!this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.$tab_cont.eq(c).outerHeight()})}}if(this.opts.changeMethod==="default"||this.opts.changeMethod==="opacity"){this.$tab_cont.eq(c).css({display:"block"})}else{if(this.opts.changeMethod==="horizontal"){this.$tabCont_wrap.css({left:-c*this.$tab_cont.width()})}else{if(this.opts.changeMethod==="vertical"){this.$tabCont_wrap.css({top:-c*this.$tab_cont.height()})}else{this.$tab_cont.eq(c).css({display:"block"})}}}this.iNow=this.opts.curDisplay-1},changeTab:function(c){this.$tab_list.removeClass(this.opts.fullclass).addClass(this.opts.emptyclass).removeAttr("style");this.$tab_list.eq(c).removeClass(this.opts.emptyclass).addClass(this.opts.fullclass);this.opts.callback(this.$tab_cont.eq(c));if(this.opts.changeMethod!="vertical"){var d=this;setTimeout(function(){d.$tab_cont.css({"height":"0"});d.$tab_cont.eq(c).css({"height":"auto"})},500);this.$tab_cont.eq(c).css({"height":"auto"})}switch(this.opts.changeMethod){case"default":this.$tab_cont.css({display:"none"});this.$tab_cont.eq(c).css({display:"block"});if(this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.opts.boxheight});this.$tab_cont.stop().animate({height:this.opts.boxheight})}else{this.$tabCont_wrap.parent().stop().animate({"height":"auto"})}break;case"horizontal":this.$tabCont_wrap.stop().animate({left:this.$tab_cont.width()*-c});if(this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.opts.boxheight});this.$tab_cont.stop().animate({height:this.opts.boxheight})}else{this.$tabCont_wrap.parent().stop().animate({"height":"auto"})}break;case"vertical":this.$tabCont_wrap.stop().animate({top:this.$tab_cont.height()*-c});if(this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.opts.boxheight});this.$tab_cont.stop().animate({height:this.opts.boxheight})}else{this.$tabCont_wrap.parent().stop().animate({"height":"auto"})}break;case"opacity":this.$tab_cont.removeClass("rel").addClass("abs");this.$tab_cont.eq(c).removeClass("abs").addClass("rel");this.$tab_cont.stop().fadeOut();this.$tab_cont.eq(c).stop().fadeIn();if(this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.opts.boxheight});this.$tab_cont.stop().animate({height:this.opts.boxheight})}else{this.$tabCont_wrap.parent().stop().animate({"height":"auto"})}break;default:this.$tab_cont.css({display:"none"});this.$tab_cont.eq(c).css({display:"block"});if(this.opts.boxheight){this.$tabCont_wrap.parent().css({height:this.opts.boxheight});this.$tab_cont.stop().animate({height:this.opts.boxheight})}else{this.$tabCont_wrap.parent().stop().animate({"height":"auto"})}break}},autoPlay:function(){if(this.iNow===this.$tab_list.length-1){this.iNow=0}else{this.iNow++}this.changeTab(this.iNow)},constructor:a};b.fn.Andrew_Tabs=function(c){var d=new a(this,c);return d.inital()}}(jQuery));(function(a){a.fn.Andrew_Form=function(f){var e=a.extend({btn_delete:"",btn_delete_ico:"",btn_password:"",btn_password_ico_hide:"",btn_password_ico_show:"",placeholder:true,keyboard:true,passchek:"",passCallback:function(){},butCallback:function(){}},f);var h=a(this);var c=h.find(e.passchek);h.find(":submit").addClass("mb_5");h.find(":submit").unbind("click");h.keyup(function(k){k.preventDefault();var j=k.which;if(j==13){h.find(":submit").click()}});h.find(":submit").click(function(){if(e.passchek){if(c.length>1){if(c[0].value!=c[1].value){if(a(this).parents("form").find(e.passchek).length>0){e.passCallback();return false}}}}e.butCallback(a(this).parents("form"))});var d=h.find(e.btn_password);d.each(function(){var j=a(this);if(a(this).next("button").length<1){a(this).after('<button type="button" class="press top_0 right_0 abs text_al_r text_18em c_gray_ccc"></button>');a(this).next("button").addClass(e.btn_password_ico_hide);a(this).next("button").css({"height":j.outerHeight(),"margin-left":j.width()-j.next("button").width()});a(window).resize(function(){j.next("button").css({"height":j.outerHeight(),"margin-left":j.width()-j.next("button").width()})})}a(this).next("button").unbind("click");a(this).next("button").click(function(){a(this).toggleClass(e.btn_password_ico_hide+" "+e.btn_password_ico_show);if(a(this).hasClass(e.btn_password_ico_show)){a(this).prev("input").attr("type","text")}else{a(this).prev("input").attr("type","password")}})});var g=h.find(e.btn_delete);g.bind("input propertychange",function(){var j=a(this);if(a(this).val()>0){if(a(this).next("button[type=reset]").length<1){a(this).after("<button type=\"reset\" class='top_0 right_0 abs press'><i class='fr bg_gray_ccc c_white bor_rad_50 wh_18em line_h_18em text_08em text_al_c text_18em'></i></button>");a(this).next("button[type=reset]").css({"height":a(this).prev("input").outerHeight(),"margin-top":(a(this).height()-a(this).next("button[type=reset]").height())/2,"margin-left":a(this).width()-a(this).next("button[type=reset]").width()});a(window).resize(function(){j.next("button[type=reset]").css({"height":j.prev("input").outerHeight(),"margin-top":(j.height()-j.next("button[type=reset]").height())/2,"margin-left":j.width()-j.next("button[type=reset]").width()})});a(this).next("button[type=reset]").children("i").addClass(e.btn_delete_ico)}a(this).next("button[type=reset]").unbind("click");a(this).next("button[type=reset]").click(function(){a(this).prev("input").val("");a(this).remove()})}else{a(this).next("button[type=reset]").remove()}});if(e.placeholder==true){var b="";h.find("*[placeholder]").focus(function(){b=a(this).attr("placeholder");if(a(this)[0].type!="search"){a(this).removeAttr("placeholder")}a(this).blur(function(){a(this).attr("placeholder",b)})});a("input[type=button]").each(function(){var j=a(this);if(a(this).attr("placeholder")&&a(this).val()==""){a(this).parent().append("<label class='top_0  abs c_gray_ccc'></label>");a(this).next("label").html(a(this).attr("placeholder"));a(this).next("label").css({"width":a(this).outerWidth(),"min-width":"100%","height":a(this).outerHeight(),"line-height":a(this).outerHeight()+"px"});a(window).resize(function(){j.next("label").css({"width":j.outerWidth(),"min-width":"100%","height":j.outerHeight(),"line-height":j.outerHeight()+"px"})});a(this).next("label").unbind("click");a(this).next("label").click(function(){a(this).prev("input[type=button]").click()})}})}if(e.keyboard==true){h.find("*[readonly]").focus(function(){document.activeElement.blur()});h.find("*[maxlength]").each(function(){a(this).attr("oninput","if(value.length>"+a(this).attr("maxlength")+")value=value.slice(0,"+a(this).attr("maxlength")+")");a(this).on("input",function(){var j=a(this).val();if(j.length==a(this).attr("maxlength")){document.activeElement.blur()}})})}}}(jQuery));(function(a){a.fn.Andrew_Validate=function(c){var b=a.extend({opacity:"0.7",callback:function(){}},c);var d=a(this);d.find(":submit").css("opacity",b.opacity).attr("disabled","disabled");d.keyup(function(){var h=a(this).find(":required");var j=a(this).find(":submit");var f=[];for(var k=0;k<h.length;k++){var e=h[k].value==""?false:true;f.push(e)}var g=false;if(f.length==1){g=f[0]}else{if(f.length>1){g=f[0];for(var k=1;k<f.length;k++){g=g&&f[k]}}else{g=true}}if(!g){j.css("opacity",b.opacity);j.attr("disabled","disabled");b.callback(g)}else{j.css("opacity","1");j.removeAttr("disabled");b.callback(g)}})}}(jQuery));(function(b){function a(){}a.prototype.SecondCountDown=function(d){var c={};c.options={time:60,progress:function(){},started:function(){},breaked:function(){},end:function(){}};for(var e in d){c.options[e]=d[e]}c.timer=null;c.time=0;c._continueRun=true;c.start=function(){var h=this,j=h.options.time||60,g=0,f=1000,l=new Date().getTime(),k=h.options.time*1000;clearTimeout(h.timer);if(h.options.started&&(({}).toString.call(h.options.started)=="[object Function]")){h.options.started(j)}this._continueRun=true;h.timer=setTimeout(function(){if(h._continueRun){var m=0,n=f,o=arguments.callee;g++;m=new Date().getTime()-(l+g*f);m=(m<=0)?0:m;n=f-m;n=(n<=0)?0:n;j--;if(h.options.progress&&(({}).toString.call(h.options.progress)=="[object Function]")){h.options.progress(j)}h.time=j;h.timer=setTimeout(o,n);if((k-=f)<=0){clearTimeout(h.timer);if(h.options.end&&(({}).toString.call(h.options.end)=="[object Function]")){h.options.end(j)}h.time=j;return}}else{clearTimeout(h.timer)}},f)};c.abort=function(){this._continueRun=false;clearTimeout(this.timer);this.time--;if(this.options.breaked&&(({}).toString.call(this.options.breaked)=="[object Function]")){this.options.breaked(this.time)}};return c};a.prototype.verify=function(d,g){d=b(d);if(d.length>0){var f=this,h={},e={},c={time:60,event:"click",phone:"",ableClass:"c_title",unableClass:"c_gray_999",condition:function(){},progress:function(){},timeUp:function(){},abort:function(){},eventFn:function(){}};b.extend(c,g);d.on(c.event,function(){if(this.unabled){return}var k=true,j=c.phone;if(b.isFunction(c.condition)){k=c.condition.call(this,j)}else{k=c.condition(j)}if(!k){return}var l=this,m=b(l);h=f.SecondCountDown({time:c.time,progress:function(n){c.progress.call(l,n,j)},end:function(n){l.unabled=false;m.removeClass(c.unableClass);m.addClass(c.ableClass);c.timeUp.call(l,n,j)},breaked:function(n){l.unabled=false;m.removeClass(c.unableClass);m.addClass(c.ableClass);c.abort.call(l,n,j)}});h.start();this.timedown=h;l.unabled=true;m.removeClass(c.ableClass);m.addClass(c.unableClass);c.eventFn.call(this,j)})}};window.Andrew_GetVerifyCode=new a()}(jQuery));(function(a){a.fn.Andrew_StepOrder=function(f){var e=a.extend({stepNum:"",stepClass:new Array(),dashed_line:"bor_white bor_bottom_dashed2",progress:"bor_white bor_bottom2",callback:function(){}},f);var g=a(this);g.addClass("rel ovh");g.children().addClass("rel ovh");g.children().before("<cite /><cite />");g.children("cite").eq(0).addClass("dis_block rel w_100 "+e.dashed_line);g.children("cite").eq(1).addClass("dis_block rel "+e.progress);var d=g.children().children("li");var b=g.children().children("li").eq(0).children().eq(0);var c=g.children("cite").eq(0).outerHeight();d.each(function(){g.fadeIn();var h=a(this).children().eq(0);a(this).addClass("fl text_al_c");if(a(this).index()<=e.stepNum-1){a(this).addClass("ak-is_active")}if(a(this).hasClass("ak-is_active")){a(this).children().eq(0).addClass(e.stepClass[0]);a(this).children().eq(1).addClass(e.stepClass[1])}else{h.removeClass(e.stepClass[0]);h.next().removeClass(e.stepClass[1])}h.addClass("dis_block center text_al_c");g.children("cite").eq(0).css({"top":b.outerHeight()/2+c});g.children("cite").eq(1).css({"top":b.outerHeight()/2-c+c,"width":0}).animate({"width":g.find(".ak-is_active").last().children().eq(0).offset().left});a(window).resize(function(){g.children("cite").eq(0).css({"top":b.outerHeight()/2+c});g.children("cite").eq(1).css({"top":b.outerHeight()/2-c+c,"width":0}).animate({"width":g.find(".ak-is_active").last().children().eq(0).offset().left})})});e.callback(g)}}(jQuery));(function(f){var d={codeView:"",codeLength:"4",inputEle:""};var a={storeLable:"codeval",codeval:".ak-codeval"};f.Andrew_Codeval={ak_getCode:function(k){b(k);return c(a.storeLable,null)},ak_setCode:function(k){b(k);e(d.codeView,d.codeLength)},ak_validateCode:function(k){b(k);var l;l=f(d.inputEle).val();if(l.toUpperCase()==c(a.storeLable,null).toUpperCase()){return true}else{e(d.codeView,d.codeLength);return false}}};function b(k){f.extend(d,k)}function c(l,m){var k=f(a.codeval).get(0);if(m){f.data(k,l,m)}else{return f.data(k,l)}}function e(k,l){var n=j(d.codeLength);var m="";m+='<ol class="'+a.codeval.substring(1)+'" id="'+a.codeval.substring(1)+'" onclick="$.Andrew_Codeval.ak_setCode()">'+g(n)+"</ol>";f(k).html(m);f(k).css({"margin-top":(f(d.inputEle).outerHeight()-f(k).outerHeight())/2});f(window).resize(function(){f(k).css({"margin-top":(f(d.inputEle).outerHeight()-f(k).outerHeight())/2})});f(d.inputEle).attr("maxlength",d.codeLength);c(a.storeLable,n)}function g(o){var m=new Array();var k=new Array("#BF0C43","#E69A2A","#707F02","#18975F","#BC3087","#73C841","#780320","#90719B","#1F72D8","#D6A03C","#6B486E","#243F5F","#16BDB5");var n;for(var l=0;l<o.length;l++){n=Math.floor(Math.random()*k.length);m.push('<li style="color:'+k[n]+';">'+o.charAt(l)+"</li>")}return m.join("")}function j(k){var l;l=h(k);return l}function h(m){var n="";var k=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z");for(var l=0;l<m;l++){var o=Math.floor(Math.random()*k.length);if(o%2==0){n+=k[o].toLowerCase()}else{n+=k[o]}}return n}}(jQuery));(function(b){var c={itemWidth:null,multi:false,active:"",full:false,dataKey:"dataKey",change:null,click:null};b.fn.Andrew_ChooseList=function(d){var f=b(this),e=f.length;if(e===1){return new a(f,d)}if(e>1){f.each(function(g,h){new a(b(h),d)})}};function a(e,d){this.el=e;this._tag=this.el.prop("tagName").toLowerCase();this._opt=b.extend({},c,d);return this._init()}a.prototype={_init:function(){var e=this.el.data(this._opt.dataKey);if(e){return e}else{this.el.data(this._opt.dataKey,this)}this.multi=this.el.attr("data-multiple")?!!this.el.attr("data-multiple"):this._opt.multi;var f=this["_setHtml_"+this._tag];if(f){f.call(this)}var d=this._opt;this._items.each(function(){var h=this;var g=b(this);if(g.attr("data-checked")){g.addClass(d.active)}else{g.removeClass(d.active)}});this._bindEvent()},_setHtml_ul:function(){this._wrap=this.el;this._items=this.el.children("li");if(this._opt.itemWidth){this._items.css("width",this._opt.itemWidth)}},_bindEvent:function(){var d=this;d._wrap.find("li").unbind("click");d._wrap.on("click","li",function(){var e=b(this);if(e.hasClass("disabled")){return}if(!d.multi){var f=e.attr("data-value")||e.index();d.val(f);d._triggerClick(f,e)}else{e.toggleClass(d._opt.active);var f=[];d._items.each(function(g,h){var k=b(this);if(k.hasClass(d._opt.active)){k.attr("data-checked","true");var j=d._tag=="select"?k.attr("data-value"):k.index();f.push(j)}});d.val(f);d._triggerClick(f,e)}});return d},_triggerChange:function(e,d){d=d||this._wrap;this.change(e,d);if(typeof this._opt.change=="function"){this._opt.change.call(this,e,d)}},_triggerClick:function(e,d){this.click(e,d);if(typeof this._opt.click=="function"){this._opt.click.call(this,e,d)}},_val_ul:function(f){if(arguments.length===0){var j=this._wrap.children("li."+this._opt.active);if(!this.multi){return j.index()==-1?null:j.index()}else{if(j.length==0){return null}var l=this,k=[];j.each(function(m,n){var o=b(n);if(o.hasClass(l._opt.active)){o.attr("data-checked","true");k.push(o.index())}});return k}}var e=this._val_ul();if(!this.multi){var h=this._wrap.children("li").eq(f);if(!h.length){return this}h.addClass(this._opt.active).siblings("li").removeClass(this._opt.active);h.attr("data-checked","true").siblings("li").removeAttr("data-checked");if(f!==e){this._triggerChange(f,h)}}else{if(f==null||f==""||f==[]){this._items.removeClass(this._opt.active);this._items.removeAttr("data-checked")}else{f=typeof f=="object"?f:[f];this._items.removeClass(this._opt.active);this._items.removeAttr("data-checked");for(var g in f){var d=f[g];this._wrap.children("li").eq(d).addClass(this._opt.active);this._wrap.children("li").eq(d).attr("data-checked","true")}}if(f!==e){this._triggerChange(f)}}return this},val:function(){return this["_val_"+this._tag].apply(this,arguments)},change:function(e,d){},click:function(e,d){},hide:function(){this._wrap.hide();return this},show:function(){this._wrap.show();return this}}}(jQuery));(function(a){a.fn.Andrew_ChangeInput=function(c){var b=a.extend({text_input:new Array(),onChange:function(){}},c);var d=a(this);d.unbind("click");d.click(function(){var j=a(b.text_input[0]);var h=a(b.text_input[1]);var f="";var g=j.val();var e=h.val();f=g;j.val(e);h.val(f);b.onChange(e,f)})}}(jQuery));(function(a){a.fn.Andrew_ChangeIcon=function(d){var c=a.extend({multi_icon:false,text_color:new Array(),Change_icon:new Array(),clickBack:function(){}},d);var b=a(this);b.unbind("click");b.click(function(){var f=a(this);if(c.multi_icon==true){f.children().eq(0).addClass(c.text_color[1]);f.children().eq(1).toggleClass(c.text_color[1]+" "+c.text_color[0]);if(f.children().eq(1).hasClass(c.text_color[1])){f.children().find("i").eq(0).addClass(c.text_color[1]).removeClass(c.text_color[0]);f.children().find("i").eq(1).removeClass(c.text_color[1]).addClass(c.text_color[0]);c.clickBack("up",c,f)}else{f.children().find("i").eq(0).removeClass(c.text_color[1]).addClass(c.text_color[0]);f.children().find("i").eq(1).addClass(c.text_color[1]).removeClass(c.text_color[0]);c.clickBack("down",c,f)}}else{f.children().toggleClass(c.text_color[1]+" "+c.text_color[0]);var e=false;if(f.children().hasClass(c.text_color[1])){f.children().addClass(c.text_color[1]).removeClass(c.text_color[0]);f.children().find("i").addClass(c.Change_icon[1]).removeClass(c.Change_icon[0]);c.clickBack(true,c,f);e=true}else{f.children().removeClass(c.text_color[1]).addClass(c.text_color[0]);f.children().find("i").removeClass(c.Change_icon[1]).addClass(c.Change_icon[0]);c.clickBack(false,c,f);e=false}if(e==true){f.children().addClass(c.text_color[1]);f.children().find("i").addClass(c.text_color[1])}else{f.children().removeClass(c.text_color[1]);f.children().find("i").removeClass(c.text_color[1])}}})}}(jQuery));(function(a){a.fn.Andrew_Radio=function(c){var d={checkedClass:"bor_title border8",onChange:function(f){}};var b=a.extend(d,c||{});if(!this.parent("label").hasClass("ak-Radio")){this.wrap("<label />")}var e=this.parent("label");e.addClass("ak-Radio");e.attr("data-name",this.attr("name"));e.each(function(){var f=a(this);var g=a(this).data("name");if(f.find('input[type="radio"]').is(":checked")){var h=e.filter("[data-name='"+g+"']").not(f);f.addClass(b.checkedClass);h.removeClass(b.checkedClass);h.find('input[type="radio"]').removeAttr("checked")}f.unbind();f.on("change",function(){if(!a(this).hasClass(b.checkedClass)){a(this).addClass(b.checkedClass);a(this).children('input[type="radio"]').attr("checked","checked");e.filter("[data-name='"+g+"']").not(a(this)).removeClass(b.checkedClass);e.filter("[data-name='"+g+"']").not(a(this)).children('input[type="radio"]').removeAttr("checked")}b.onChange(a(this).children())})})};a.fn.Andrew_Checkbox=function(c){var e={checkedClass:"bg_title bor_title c_white",disabledClass:"bg_gray_ccc bor_gray_ccc c_white",onChange:function(f){}};var b=a.extend(e,c||{});if(!this.parent("label").hasClass("ak-Checkbox")){this.wrap("<label />")}var d=this.parent("label");d.addClass("ak-Checkbox");d.attr("data-name",this.attr("name"));d.css("margin-top",(d.parent().height()-d.height())/2);d.find('input[type="checkbox"]').css("margin-top","-"+(d.parent().height()-d.height())/2-1+"px");a(window).resize(function(){d.css("margin-top",(d.parent().height()-d.height())/2);d.find('input[type="checkbox"]').css("margin-top","-"+(d.parent().height()-d.height())/2-1+"px")});d.each(function(g){if(a(this).find('input[type="checkbox"]').attr("multiple")){var f=a(g.target)}else{var f=a(this)}if(f.find('input[type="checkbox"]').attr("checked")){f.addClass(b.checkedClass);f.find('input[type="checkbox"]').attr("checked","checked")}else{if(f.find('input[type="checkbox"]').is(":disabled")){f.addClass(b.disabledClass);f.find('input[type="checkbox"]').attr("checked","checked")}else{f.removeClass(b.checkedClass).removeClass(b.disabledClass);f.find('input[type="checkbox"]').removeAttr("checked")}}f.unbind();f.on("change",function(){if(f.find('input[type="checkbox"]').attr("checked")){f.find('input[type="checkbox"]').removeAttr("checked");f.removeClass(b.checkedClass)}else{f.find('input[type="checkbox"]').attr("checked","checked");f.addClass(b.checkedClass)}b.onChange(a(this).children()[0].checked)})})};a.fn.Andrew_Switch=function(c){var e={checkedClass:"bg_title",disabledClass:"dis_opa_05",onChange:function(f){}};var b=a.extend(e,c||{});var d=this;d.addClass("ak-Switch");if(d.parent().children("label").length<1){d.parent().append("<label />")}d.next("label").attr("data-name",this.attr("name"));d.each(function(){var f=a(this);f.next("label").css("margin-top",(f.next("label").parent().height()-d.next("label").height())/2);a(window).resize(function(){f.next("label").css("margin-top",(f.next("label").parent().height()-d.next("label").height())/2)});if(f.is(":checked")&&!f.is(":disabled")){f.next("label").addClass(b.checkedClass).removeClass(b.disabledClass)}else{if(!f.is(":checked")&&f.is(":disabled")){f.next("label").removeClass(b.checkedClass).addClass(b.disabledClass)}else{if(f.is(":disabled")||f.is(":checked")){f.next("label").addClass(b.disabledClass).addClass(b.checkedClass)}else{if(!f.is(":checked")&&!f.is(":disabled")){f.next("label").removeClass(b.checkedClass).removeClass(b.disabledClass)}}}}f.unbind();f.on("change",function(){a(this).next("label").toggleClass(b.checkedClass);b.onChange(a(this)[0].checked)})})}}(jQuery));(function(a){a.fn.Andrew_AllChecked=function(e){var f=a(this);var c=f.children().eq(0).children("dl").find(":checkbox");var b=f.children().eq(0).children("dl").next().children().children("dl").find(":checkbox");var g={toggleClass:"",callback:function(){}};var d=a.extend(g,e);c.prop("checked",false);c.parent("label").removeClass(d.toggleClass);c.unbind("click");c.click(function(){var h=a(this).parents("dl").next().find(":checkbox");if(a(this).prop("checked")){a.each(h,function(k,j){a(j).prop("checked",true);a(j).parent("label").addClass(d.toggleClass);d.callback(a(j))});c.prop("checked",true);c.parent("label").addClass(d.toggleClass)}else{a.each(h,function(k,j){a(j).prop("checked",false);a(j).parent("label").removeClass(d.toggleClass);d.callback(a(j))});c.prop("checked",false);c.parent("label").removeClass(d.toggleClass)}});b.unbind("click");b.click(function(){var h=a(this).parents("dl").parent().parent().find(":checkbox:checked").length;if(a(this).prop("checked")){a(this).parent("label").addClass(d.toggleClass)}else{a(this).parent("label").removeClass(d.toggleClass)}if(h==b.length){c.prop("checked",true);c.parent("label").addClass(d.toggleClass)}else{c.prop("checked",false);c.parent("label").removeClass(d.toggleClass)}d.callback(b)})}}(jQuery));(function(a){a.fn.Andrew_DropUpDown=function(d){var c=a.extend({curDisplay:"",active_toggle:"",up_ico:"",down_ico:"",callback:function(){}},d);function e(f){this.DropUpDown=f;this.initEvents()}e.prototype={initEvents:function(){var g=this;var f=g.DropUpDown.children("dl").children("dd:last-child");if(c.curDisplay){var h=g.DropUpDown.eq(c.curDisplay-1);h.addClass("ak-is_active");h.children("dl").addClass(c.active_toggle);h.children("dl").find("dd").last().children("i").removeClass(c.down_ico).addClass(c.up_ico)}f.each(function(){var j=a(this).parent("dl").parent("li");var k=j.children("dl").next();if(j.hasClass("ak-is_active")){k.show()}else{k.hide()}k.find("li").addClass("ml_3");j.children("dl").find("dd").last().unbind("click");j.children("dl").find("dd").last().click(function(){j.toggleClass("ak-is_active");if(j.children("dl").next().length>0){j.children("dl").toggleClass(c.active_toggle)}j.children("dl").find("dd").last().children("i").toggleClass(c.up_ico+" "+c.down_ico);if(j.hasClass("ak-is_active")){k.slideDown(300);c.callback(k)}else{k.slideUp(300)}})})}};var b=new e(a(this).children("li"))}}(jQuery));(function(b){var a=function(e,d){var c=this;c.$element=e;c.defaults={UpDownTouch:false,DelText:"",DelClass:"",ClickDelete:function(){},UpTouch:function(){},DownTouch:function(){}};c.options=b.extend({},c.defaults,d);this.init=this.options.init||this.init;this.touch=this.options.touch||this.touch};a.prototype={init:function(){var c=this,d=c.$element;var e=d.find("li");e.append("<button type='button' class='"+c.options.DelClass+"'></button>");e.children("article").addClass("ak_delete_art").css({"left":"0","position":"absolute"});e.children("button").addClass("ak_delete_btn").html(c.options.DelText);e.children("button").css({"right":"-"+e.children("button").outerWidth()+"px"});c.touch()},touch:function(){var d=this,f=d.$element;var g=f.find("li");var c=0,e=0;g.on({touchstart:function(h){c=h.originalEvent.touches[0].clientY;e=h.originalEvent.touches[0].clientX;b(this).children("button").on("touchstart",function(j){j.preventDefault();d.options.ClickDelete(b(this),b(this).parent(),b(this).parent().index())})},touchend:function(l){var h=l.originalEvent.changedTouches[0].clientY,j=l.originalEvent.changedTouches[0].clientX,k=c-h,m=e-j;if(d.options.UpDownTouch==true){if(Math.abs(m)<Math.abs(k)){if(k>5){d.options.UpTouch(b(this).parent());d.init()}else{d.options.DownTouch(b(this).parent());d.init()}}}if(Math.abs(m)>Math.abs(k)){if(m>5){g.children("article").css({"left":"0"});g.children("button").css({"right":"-"+g.children("button").outerWidth()+"px"});b(this).children("article").css({"left":"-"+b(this).children("button").outerWidth()+"px"});b(this).children("button").css({"display":"block","right":"0"})}else{b(this).children("article").css({"left":"0"});b(this).children("button").css({"right":"-"+b(this).children("button").outerWidth()+"px"})}}c=null;e=null},touchmove:function(l){var h=l.originalEvent.changedTouches[0].clientY,j=l.originalEvent.changedTouches[0].clientX,k=c-h,m=e-j;if(d.options.UpDownTouch==true){l.preventDefault()}else{if(Math.abs(m)>Math.abs(k)){l.preventDefault()}}},mousedown:function(h){c=h.originalEvent.clientY;e=h.originalEvent.clientX;b(this).children("button").unbind("click");b(this).children("button").on("click",function(j){j.preventDefault();d.options.ClickDelete(b(this),b(this).parent(),b(this).parent().index())})},mouseup:function(l){var h=l.originalEvent.screenY,j=l.originalEvent.screenX,k=c-h,m=e-j;if(Math.abs(m)>Math.abs(k)){if(m>5){g.children("article").css({"left":"0"});g.children("button").css({"right":"-"+g.children("button").outerWidth()+"px"});b(this).children("article").css({"left":"-"+b(this).children("button").outerWidth()+"px"});b(this).children("button").css({"display":"block","right":"0"})}else{b(this).children("article").css({"left":"0"});b(this).children("button").css({"right":"-"+b(this).children("button").outerWidth()+"px"})}}c=null;e=null},mousemove:function(h){h.preventDefault()}})}};b.fn.Andrew_TouchDelete=function(d){var c=new a(this,d);return this.each(function(){c.init()})}}(jQuery));(function(a){a.fn.Andrew_IntlTelInput=function(e){var d=a.extend({Title_Text:"",Close_btn:"",Close_Text:"",Close_Icon:"",list_Class:"",Nav_active:"",show_color:"",data:[],showBack:function(){},clickBack:function(){}},e);function b(f){this.el=f;this.initEvents()}b.prototype={initEvents:function(){var f=this;f.el.each(function(){a("body").append("<div class='ak-IntlTel'><datalist></datalist></div>");var v=a(".ak-IntlTel");var g=v.children("datalist");g.before("<h6></h6>");var r="<ol>\n";for(var h=0;h<d.data.length;h++){r+="<li>"+d.data[h].value+"</li>\n"}r+="</ol>";g.before(r);var m="";for(var n=0;n<d.data.length;n++){m+="<dl>";m+='<dt data-id="'+d.data[n].id+'">'+d.data[n].value+"</dt>";for(var l=0;l<d.data[n].child.length;l++){m+='<dd data-country="'+d.data[n].child[l].country+'" data-number="'+d.data[n].child[l].number+'" data-id="'+d.data[n].child[l].id+'">'+d.data[n].child[l].country+" "+d.data[n].child[l].number+"</dd>"}m+="</dl>"}g.html(m);var t=v.find("h6");var s=v.find("ol");var q=v.find("dl");if(a("header").length>0){v.append("<div class='ak-IntlTel_head'>"+"<button type='button' class='"+d.Close_btn+"'><i class='"+d.Close_Icon+"'></i>"+d.Close_Text+"</button>\n"+"<h1>"+d.Title_Text+"</h1>"+"</div>");var u=a("header").attr("class");var o=a("header h1").attr("class");v.find(".ak-IntlTel_head").addClass(u);v.find(".ak-IntlTel_head h1").addClass(o)}t.addClass(d.show_color).css({"height":a(window).height()});g.addClass("scrolling press").css({"margin-top":a(".ak-IntlTel_head").outerHeight(),"height":a(window).height()});s.css({"top":a(".ak-IntlTel_head").outerHeight()});a(window).resize(function(){t.addClass(d.show_color).css({"height":a(window).height()});g.addClass("scrolling press").css({"margin-top":a(".ak-IntlTel_head").outerHeight(),"height":a(window).height()});s.css({"top":a(".ak-IntlTel_head").outerHeight()})});q.find("dd").addClass(d.list_Class);var p=0;g.scroll(function(){var w=[];g.each(function(){for(var j=0;j<a(this).find("dl").length;j++){w.push(a(this).find("dl")[j].offsetTop)}});if(a(".ak-IntlTel_head").length>0){scrolltop=g.scrollTop()+a(".ak-IntlTel_head").outerHeight()}else{scrolltop=g.scrollTop()}for(var k=0;k<w.length;k++){if(scrolltop>=w[k]){s.find("li").removeClass(d.Nav_active);s.find("li").eq(k).addClass(d.Nav_active)}}p=g.scrollTop()});s.find("li").unbind("click");s.find("li").on("click",function(j){p+=q.eq(a(this).index()).offset().top-a(".ak-IntlTel_head").outerHeight()+2;j.stopPropagation();v.show();t.fadeIn();setTimeout(function(){t.fadeOut()},800);t.text(a(this).text());g.animate({scrollTop:p},500)});q.find("dd").unbind("click");q.find("dd").on("click",function(){var j=this;f.el.children("input").val(a(this).attr("data-number"));v.hide();f.el.removeClass("ak-is_active");d.clickBack(j)});a(this).unbind("click");a(this).on("click",function(j){a(this).toggleClass("ak-is_active");if(a(this).hasClass("ak-is_active")){v.show();d.showBack(v)}else{v.hide()}j.stopPropagation()});a(".ak-IntlTel_head").children("button").unbind("click");a(".ak-IntlTel_head").children("button").click(function(){f.el.removeClass("ak-is_active");v.hide()})})}};var c=new b(a(this))}}(jQuery));(function(a){a.fn.Andrew_NowTime=function(c){var b=a.extend({dateStyle:"yyyy-MM-dd hh:mm:ss"},c);var d=this;Date.prototype.Format=function(e){var g={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};if(/(y+)/.test(e)){e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var f in g){if(new RegExp("("+f+")").test(e)){e=e.replace(RegExp.$1,(RegExp.$1.length==1)?(g[f]):(("00"+g[f]).substr((""+g[f]).length)))}}return e};setInterval(function(){d.html(new Date().Format(b.dateStyle))},1000)}}(jQuery));(function(c){c.fn.Andrew_Substring=function(){c(this).blur(function(){this.value=b(this.value)})};function a(h){if(h.length<=3){return(h==""?"0":h)}else{var g=h.length%3;var e=(g==0?"":(h.substring(0,g)));for(var f=0;f<Math.floor(h.length/3);f++){if((g==0)&&(f==0)){e+=h.substring(g+3*f,g+3*f+3)}else{e+=""+h.substring(g+3*f,g+3*f+3)}}return(e)}}function d(e){e=Math.round(((e)-Math.floor(e))*100);return(e<10?".0"+e:"."+e)}function b(e){e=e.replace(/\,/g,"");if(isNaN(e)||e==""){return""}e=Math.round(e*100)/100;if(e<0){return"-"+a(Math.floor(Math.abs(e)-0)+"")+d(Math.abs(e)-0)}else{return a(Math.floor(e-0)+"")+d(e-0)}}}(jQuery));(function(b){b.fn.Andrew_CountTo=function(c){c=c||{};return b(this).each(function(){var e=b.extend({},b.fn.Andrew_CountTo.defaults,{from:b(this).data("from"),to:b(this).data("to"),speed:b(this).data("speed"),refreshInterval:b(this).data("refresh-interval"),decimals:b(this).data("decimals")},c);var k=Math.ceil(e.speed/e.refreshInterval),l=(e.to-e.from)/k;var m=this,h=b(this),g=0,j=e.from,f=h.data("Andrew_CountTo")||{};h.data("Andrew_CountTo",f);if(f.interval){clearInterval(f.interval)}f.interval=setInterval(n,e.refreshInterval);d(j);function n(){j+=l;g++;d(j);if(typeof(e.onUpdate)=="function"){e.onUpdate.call(m,j)}if(g>=k){h.removeData("Andrew_CountTo");clearInterval(f.interval);j=e.to;if(typeof(e.onComplete)=="function"){e.onComplete.call(m,j)}}}function d(p){var o=e.formatter.call(m,p,e);h.html(o)}})};b.fn.Andrew_CountTo.defaults={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:a,onUpdate:null,onComplete:null};function a(d,c){return d.toFixed(c.decimals)}}(jQuery));(function(a){a.fn.Andrew_Spinner=function(c){var b=a.extend({input_width:"100%",btn_wrap:"",btn_left:"",btn_right:"",maxNumber:999,clickBack:function(){}},c);var e=a(this);d();a(window).resize(function(){e.parent().find("input").css({"height":e.parent().children("button").outerHeight()});e.parent().css({"height":e.parent().children("button").height()});e.parent().css({"margin-top":(e.parent().parent().outerHeight()-e.parent().outerHeight())/2})});function d(){e.each(function(f){e.wrap('<div class="'+b.btn_wrap+'"></div>');e.before('<button type="button" class="minus '+b.btn_left+'"></button>');e.before('<button type="button" class="plus '+b.btn_right+'"></button>');e.parent().css({"overflow":"hidden","width":b.input_width,"height":e.parent().children("button").height(),"margin-top":(e.parent().outerHeight()-e.parent().children("button").outerHeight())/2});var g=a(this).parent().find("input");g.css({"width":"100%","height":a(this).parent().children("button").outerHeight(),"line-height":"100%","float":"inherit"});if(parseInt(g.val())<=1){a(this).parent().children(".minus").attr("disabled","disabled")}a(this).parent().children(".plus").unbind("click");a(this).parent().children(".plus").on("click",function(k){k.preventDefault();if(b.maxNumber){var h=parseInt(b.maxNumber-1)}else{var h=parseInt(999999)}var j=parseInt(g.val());if(h>j){a(this).parent().children(".minus").removeAttr("disabled","disabled");g.val(j+1)}else{if(h==j){a(this).attr("disabled","disabled");g.val(j+1)}else{if(h<j){g.parent().children(".minus").attr("disabled","disabled");g.parent().children(".plus").removeAttr("disabled","disabled");g.val(parseInt(1))}else{a(this).attr("disabled","disabled")}}}b.clickBack(j+1)});a(this).parent().children(".minus").unbind("click");a(this).parent().children(".minus").on("click",function(k){k.preventDefault();if(b.maxNumber){var h=parseInt(b.maxNumber)}else{var h=parseInt(999999)}var j=parseInt(g.val());if(h>=j){a(this).parent().children(".plus").removeAttr("disabled","disabled");g.val(j-1)}else{if(h<j){g.parent().children(".minus").attr("disabled","disabled");g.parent().children(".plus").removeAttr("disabled","disabled");g.val(parseInt(1))}else{a(this).attr("disabled","disabled")}}if(parseInt(g.val())<=1){g.val(parseInt(1));a(this).attr("disabled","disabled")}b.clickBack(j-1)})})}}}(jQuery));(function(a){a.Andrew_Ratyli=function(c,b){var d=this;d.$el=a(c);d.el=c;d.$el.data("Andrew_Ratyli",d);d.init=function(){d.options=a.extend({},a.Andrew_Ratyli.defaultOptions,b);d.options=a.extend({},d.options,d.$el.data());d.set(d.options.rate,true);d.$el.on("click","> *",function(g){if(!d.options.disable){var f=g.target;if(f.tagName!="span"){f=f.parentNode}d.options.onSignClick.call(d,f);var h=a(f).prevAll().length+1;d.set(h)}});d.$el.on("mouseenter","> *",function(g){var f=g.target;if(f.tagName!="span"){f=f.parentNode}if(!d.options.disable){a(f).addClass("rate-active");a(f).prevAll().addClass("rate-active")}d.options.onSignEnter.apply(null,[d.options.rate,f])});d.$el.on("mouseleave","> *",function(g){var f=g.target;if(f.tagName!="span"){f=f.parentNode}if(!d.options.disable){a(f).removeClass("rate-active");a(f).prevAll().removeClass("rate-active")}d.options.onSignLeave.apply(null,[d.options.rate,f])})};d.set=function(h,g){if(h<0||(h%1!=0)||h>d.options.ratemax){h=0}if(h==1&&d.options.rate==1&&d.options.unrateable==true&&!g){h=0}d.options.rate=h;d.$el.html("");if(d.options.rate!=0){d.$el.attr("data-rate",d.options.rate)}d.$el.attr("data-ratemax",d.options.ratemax);var f=0;while(f<d.options.ratemax){var e="";if(f<d.options.rate){e=d.signTemplate("full")}else{e=d.signTemplate("empty")}d.$el.append(e);f++}if(!g&&!d.options.disable){d.$el.attr("data-rate",h)}d.options.onRated.call(d,h,g);return d.options.rate};d.signTemplate=function(e){return"<span>"+d.options[e]+"</span>"};d.init()};a.Andrew_Ratyli.defaultOptions={disable:false,unrateable:false,full:"",empty:"",rate:0,ratemax:5,onSignEnter:function(){},onSignLeave:function(){},onSignClick:function(){},onRated:function(){}};a.fn.Andrew_Ratyli=function(b){return this.each(function(){(new a.Andrew_Ratyli(this,b))})}}(jQuery));(function(a){a.fn.Andrew_Favorite=function(c){var b=a.extend({likeMode:true,str:"+1",icon_defaultClass:"",icon_changeClass:"",textClass:"c_white text_12em ml_02em mr_02em",text_default:"Favorite",text_change:"Cancel",startSize:"12px",endSize:"30px",interval:600,color:"red",callback:function(){}},c);var d=a(this);d.each(function(){a(this).children("i").css({"*display":"inline","*zoom":"1"});if(b.likeMode==true){a(this).append("<i></i><span></span>(<em></em>)");a(this).children("i").addClass(b.icon_defaultClass);a(this).children("span").addClass(b.textClass).text(b.text_default);a(this).children("em").text(a(this).attr("data-value"));if(typeof(a(this).attr("favorite"))!="undefined"){if(a(this).attr("favorite")==1){a(this).children("i").removeClass(b.icon_defaultClass);a(this).children("i").addClass(b.icon_changeClass)}}}else{a(this).append("<i></i><span></span>");a(this).children("i").addClass(b.icon_defaultClass);a(this).children("span").addClass(b.textClass).text(b.text_default);if(typeof(a(this).attr("favorite"))!="undefined"){if(a(this).attr("favorite")==1){a(this).children("span").text(b.text_change);a(this).children("i").removeClass(b.icon_defaultClass);a(this).children("i").addClass(b.icon_changeClass)}}}});d.unbind("click");d.on("click",function(l){l.preventDefault();var h=a(this);if(b.likeMode==true){if(typeof(a(this).attr("favorite"))!="undefined"){if(a(this).attr("favorite")==1){return false}a(this).attr("favorite",1)}var g=parseInt(a(this).attr("data-value"))+1;a(this).attr("data-value",g);a(this).find("em").text(g);a(this).children("i").removeClass(b.icon_defaultClass);a(this).children("i").addClass(b.icon_changeClass);a("body").append("<span class='ak-NumLength press'>"+b.str+"</span>");var f=a(".ak-NumLength");a(window).resize(function(){var m=d.offset().left+d.width()/2;var e=d.offset().top-d.outerHeight()});var k=d.offset().left+d.width()/2;var j=d.offset().top-d.outerHeight();f.css({"position":"absolute","left":k,"top":j,"z-index":9999,"font-size":b.startSize,"line-height":b.endSize,"color":b.color});f.animate({"font-size":b.endSize,"opacity":"0","top":j-parseInt(b.endSize)},b.interval,function(){f.remove();b.callback(g,h)})}else{if(a(this).children("i").hasClass(b.icon_changeClass)){var g=parseInt(a(this).attr("data-value"))-1}else{var g=parseInt(a(this).attr("data-value"))+1}if(a(this).children("span").text()==b.text_default){a(this).children("span").text(b.text_change)}else{a(this).children("span").text(b.text_default)}a(this).attr("data-value",g);a(this).children("i").toggleClass(b.icon_defaultClass+" "+b.icon_changeClass);b.callback(g,h)}})}}(jQuery));(function(a){a.fn.extend({Andrew_Progress:function(b){var c={goalAmount:100,currentAmount:50,speed:1000,ColorStyle:"",textBefore:"",textAfter:"",milestoneNumber:70,milestoneClass:"ak-almostfull",callback:function(){}};var b=a.extend(c,b);return this.each(function(){var k=a(this);var f=parseInt(c.goalAmount);var h=parseInt(c.currentAmount);var e=(h/f)*100;var g=(e>c.milestoneNumber)?" "+c.milestoneClass:"";if(c.textAfter){var j='<li class="ak-progressBar"><span>'+c.textBefore+"<em>"+h+"</em>"+c.textAfter+"</span></li>"}else{var j='<li class="ak-progressBar"><span>'+c.textBefore+"</span></li>"}var d='<ol class="bg_in h_in dis_block_im ovh '+g+'">'+j+"</ol>";k.append(d);var l=k.children("ol").children("li");l.each(function(){a(".ak-progressBar").addClass(c.ColorStyle);a(this).html(a(this).html().replace(/\s/g," "));l.find("span").css({"line-height":l.height()+"px"});k.css("margin-top",(k.parent().height()-k.height())/2);a(window).resize(function(){l.find("span").css({"line-height":l.height()+"px"});k.css("margin-top",(k.parent().height()-k.height())/2)})});l.animate({width:e+"%"},c.speed,c.callback);if(typeof callback=="function"){callback.call(this)}})}})}(jQuery));(function(a){var b=a(window);a.fn.Andrew_Lazyload=function(c){var e=this;var f;var d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:""};function g(){var h=0;e.each(function(){var j=a(this);if(d.skip_invisible&&!j.is(":visible")){return}if(a.abovethetop(this,d)||a.leftofbegin(this,d)){}else{if(!a.belowthefold(this,d)&&!a.rightoffold(this,d)){j.trigger("appear");h=0}else{if(++h>d.failure_limit){return false}}}})}if(c){if(undefined!==c.failurelimit){c.failure_limit=c.failurelimit;delete c.failurelimit}if(undefined!==c.effectspeed){c.effect_speed=c.effectspeed;delete c.effectspeed}a.extend(d,c)}f=(d.container===undefined||d.container===window)?b:a(d.container);if(0===d.event.indexOf("scroll")){f.bind(d.event,function(){return g()})}this.each(function(){var h=this;var j=a(h);h.loaded=false;if(j.attr("src")===undefined||j.attr("src")===false){if(j.is("img")){j.attr("src",d.placeholder)}}j.one("appear",function(){if(!this.loaded){if(d.appear){var k=e.length;d.appear.call(h,k,d)}a("<img />").bind("load",function(){var m=j.attr("data-"+d.data_attribute);j.hide();if(j.is("img")){j.attr("src",m)}else{j.css("background-image","url('"+m+"')")}j[d.effect](d.effect_speed);h.loaded=true;var l=a.grep(e,function(o){return !o.loaded});e=a(l);if(d.load){var n=e.length;d.load.call(h,n,d)}}).attr("src",j.attr("data-"+d.data_attribute))}});if(0!==d.event.indexOf("scroll")){j.bind(d.event,function(){if(!h.loaded){j.trigger("appear")}})}});b.bind("resize",function(){g()});if((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)){b.bind("pageshow",function(h){if(h.originalEvent&&h.originalEvent.persisted){e.each(function(){a(this).trigger("appear")})}})}a(document).ready(function(){g()});return this};a.belowthefold=function(d,e){var c;if(e.container===undefined||e.container===window){c=(window.innerHeight?window.innerHeight:b.height())+b.scrollTop()}else{c=a(e.container).offset().top+a(e.container).height()}return c<=a(d).offset().top-e.threshold};a.rightoffold=function(d,e){var c;if(e.container===undefined||e.container===window){c=b.width()+b.scrollLeft()}else{c=a(e.container).offset().left+a(e.container).width()}return c<=a(d).offset().left-e.threshold};a.abovethetop=function(d,e){var c;if(e.container===undefined||e.container===window){c=b.scrollTop()}else{c=a(e.container).offset().top}return c>=a(d).offset().top+e.threshold+a(d).height()};a.leftofbegin=function(d,e){var c;if(e.container===undefined||e.container===window){c=b.scrollLeft()}else{c=a(e.container).offset().left}return c>=a(d).offset().left+e.threshold+a(d).width()};a.inviewport=function(c,d){return !a.rightoffold(c,d)&&!a.leftofbegin(c,d)&&!a.belowthefold(c,d)&&!a.abovethetop(c,d)};a.extend(a.expr[":"],{"below-the-fold":function(c){return a.belowthefold(c,{threshold:0})},"above-the-top":function(c){return !a.belowthefold(c,{threshold:0})},"right-of-screen":function(c){return a.rightoffold(c,{threshold:0})},"left-of-screen":function(c){return !a.rightoffold(c,{threshold:0})},"in-viewport":function(c){return a.inviewport(c,{threshold:0})},"above-the-fold":function(c){return !a.belowthefold(c,{threshold:0})},"right-of-fold":function(c){return a.rightoffold(c,{threshold:0})},"left-of-fold":function(c){return !a.rightoffold(c,{threshold:0})}})}(jQuery));(function(b){var a={};b.fn.Andrew_PreviewImage=function(e){var h=b.extend({uploadNum:0,webToast:"",messege:"",btn_ok:"",btn_cancel:"",box_title:new Array(),delbtnClass:"",box_icon:new Array(),Class:"",Del_icon:"",length_title:"",errorTip:"",addCallbak:function(){},delCallbak:function(){}},e);a=h;var g=b(this);g.addClass("ak-previewImage");b(a.delbtnClass).hide();g.find("input[type=file]").attr("accept","image/*");g.children("i").addClass(a.box_icon[0]);g.each(function(){b(a.delbtnClass).unbind("click");b(a.delbtnClass).click(function(j){if(b(a.delbtnClass).hasClass("ak-is_active")){b(a.delbtnClass).parents("ul").find("li span").hide();b(a.delbtnClass).removeClass("ak-is_active")}else{b(a.delbtnClass).parents("ul").find("li span").show();b(a.delbtnClass).addClass("ak-is_active")}})});g.bind("change",function(){if(a.uploadNum==h.length){webToast(h.length_title+""+h.length+"","middle","mask",10000);return false}var l=b(this).children("input")[0];if((a.uploadNum+l.files.length)>h.length){webToast(h.length_title+""+h.length+"","middle","mask",10000)}var k=[];for(var j=0;j<(h.length-a.uploadNum);j++){k.push(l.files[j])}c(l,k,h)});var d=b(this).outerWidth();var f=b(this).outerWidth()/3;g.children("figure").css({"width":d-f,"height":d-f,"line-height":d-f+"px","margin-top":(f/2)-2})};function c(h,d,l){var o=l.errorTip;var e={"jpeg":"/9j/4","gif":"R0lGOD","png":"iVBORw"};if(window.FileReader){for(var k=0,m;m=d[k];k++){var n=new FileReader();n.onload=function(f){var p=f.target.result;if(!j(p)){$ak.alert(o,{icon:"error",button_ok:l.btn_ok,button_cancel:l.btn_cancel,title:l.box_title[1]});return false}else{g(p,h);l.uploadNum++}};n.readAsDataURL(m)}}else{if(!/\.jpg$|\.png$|\.gif$/i.test(h.value)){$ak.alert(o,{icon:"error",button_ok:l.btn_ok,button_cancel:l.btn_cancel,title:l.box_title[1]});return false}else{g(h.value,h);l.uploadNum++}}function j(f){var q=f.indexOf(",")+1;for(var p in e){if(f.indexOf(e[p])===q){return p}}return null}function g(r,s){var q="<li class='rel fl mb_5'>"+"<figure class='img_auto "+a.Class+"' style='background-color: #eeeeee !important;'>"+"<img src="+r+" />"+"</figure>"+"<span class='pointer top_0 abs wh_12em line_h_12em text_14em text_al_c bor_rad_50 c_white "+a.Del_icon+"' style='background-color: rgba(255,0,0,1); z-index: 1'>"+"</span>"+"</li>";b(s).parents("li").before(q);b(a.delbtnClass).show();var p=b(s).parents("li");a.addCallbak(p.parent());var f=p.parent().find("li").find("span");f.hide().css({"margin-top":"-"+f.height()/3+"px","left":p.parent().find("figure").width()-(f.width()/2)});f.unbind("click");f.click(function(){var t=b(this);$ak.confirm(a.messege,{icon:"question",button_ok:a.btn_ok,button_cancel:a.btn_cancel,title:a.box_title[0],onSubmit:function(u){a.delCallbak(t.parent("li"));a.uploadNum--;if(a.uploadNum<1){b(a.delbtnClass).hide()}webToast(a.webToast,"bottom",1000)}})})}}}(jQuery));(function(b){var a={};b.fn.Andrew_PortraitImage=function(d){var f=b.extend({errorTip:"",btn_ok:"",box_title:"",addCallbak:function(){}},d);a=f;var e=b(this);e.addClass("ak-PortraitImage");e.find("input[type=file]").attr("accept","image/*");e.bind("change",function(){c(b(this).children("input")[0],f)});e.children("figure").css({"margin-top":(b(this).outerWidth()/3/2)-2});b(window).resize(function(){e.children("figure").css({"margin-top":(e.outerWidth()/3/2)-2})})};function c(g,j){var m=j.errorTip;var e={"jpeg":"/9j/4","gif":"R0lGOD","png":"iVBORw"};if(window.FileReader){for(var h=0,k;k=g.files[h];h++){var l=new FileReader();l.onload=function(f){var o=f.target.result;if(!n(o)){$ak.alert(m,{icon:"error",button_ok:j.btn_ok,title:j.box_title})}else{d(o,g)}};l.readAsDataURL(k)}}else{if(!/\.jpg$|\.png$|\.gif$/i.test(g.value)){$ak.alert(m,{icon:"error",button_ok:j.btn_ok,title:j.box_title})}else{d(g.value,g)}}function n(f){var p=f.indexOf(",")+1;for(var o in e){if(f.indexOf(e[o])===p){return o}}return null}function d(o,p){var f="<img src="+o+">";b(p).next().remove("i");b(p).next().html(f);b(p).unbind("click");b(p).click(function(){b(p).parent().children("img").attr("src",o)});a.addCallbak(b(p).next().find("img"))}}}(jQuery));(function(a){a.fn.Andrew_SnInput=function(c){var b=a.extend({default_active:false,input_length:1,callback:function(){}},c);var d=a(this).find("input");a(this).css({"display":"block","overflow":"hidden","position":"relative"});d.each(function(){d.css({"display":"block","overflow":"hidden","position":"relative","float":"left","text-align":"center"});if(b.default_active==true){d.first().focus()}d.attr("maxlength",b.input_length);d.focus(function(){a(this).addClass("bor_title bg_white")});d.blur(function(){a(this).removeClass("bor_title bg_white")});a(this).keyup(function(g){g=window.event||g;var f=g.keyCode||g.which;if(f==8){if(a(this).val().length<1){a(this).prev().focus();a(this).prev().focus(function(){var h=g.srcElement?g.srcElement:g.target;if(h.createTextRange){var e=h.createTextRange();e.moveStart("character",b.input_length);e.collapse(true);e.select()}})}}else{if(a(this).val().length>parseInt(b.input_length)-1){a(this).next().focus()}}this.value=this.value.replace(/[^a-z0-9]/i,"");this.value=this.value.toUpperCase()})});d.bind("keyup",function(){var g=true;var h="";if(d.val()>=1){a(this).addClass("c_black")}else{a(this).addClass("c_black")}for(var e=0;e<d.length;e++){if(""==d.eq(e).val()){g=false}}if(g){for(var e=0;e<d.length;e++){h+=d.eq(e).val()}if(h.length==(parseInt(b.input_length)*d.length)){b.callback(h)}}else{b.callback("")}})}}(jQuery));(function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend(true,{},b.fn.Andrew_Typeahead.defaults,c);this.$menu=b(this.options.menu).appendTo("body");this.shown=false;this.eventSupported=this.options.eventSupported||this.eventSupported;this.grepper=this.options.grepper||this.grepper;this.highlighter=this.options.highlighter||this.highlighter;this.lookup=this.options.lookup||this.lookup;this.matcher=this.options.matcher||this.matcher;this.render=this.options.render||this.render;this.init=this.options.init||this.init;this.ele_show=this.options.ele_show||this.ele_show;this.select=this.options.select||this.select;this.sorter=this.options.sorter||this.sorter;this.source=this.options.source||this.source;if(!this.source.length){var e=this.options.ajax;if(typeof e==="string"){this.ajax=b.extend({},b.fn.Andrew_Typeahead.defaults.ajax,{url:e})}else{this.ajax=b.extend({},b.fn.Andrew_Typeahead.defaults.ajax,e)}if(!this.ajax.url){this.ajax=null}}this.init();this.listen()};a.prototype={constructor:a,init:function(){var c=this;c.$element.bind("focus",function(){c.ele_show(1);c.$menu.children("ul").hide()});c.$element.bind("input propertychange",function(){c.ele_show(1);if(c.$menu.children("ul").find("li").length>0){c.$menu.children("ul").show()}else{c.$menu.children("ul").hide()}if(c.$element.val().length==0){c.$menu.children("ul").empty();c.$element.blur()}})},ele_show:function(c){var d=this;if(c){d.$menu.on("touchmove",function(e){e.preventDefault()})}else{d.$menu.unbind("touchmove")}d.$menu.css({"top":d.$element.parent().parent().outerHeight(),"left":"0","width":"100%"});d.$menu.children("ul").addClass("scrolling").css({"overflow-y":"scroll","height":b(window).height()});d.$element.parent().parent().addClass("ak-is_search w_100 zindex_show fix top_0 left_0");b("header").hide();b("main").addClass("mt_0").removeClass("scrolling");b(window).bind("hashchange",function(){d.$menu.remove();b("header").show();b("main").removeClass("mt_0").addClass("scrolling")});d.$menu.fadeIn();d.options.showCallBack(d.$menu);d.shown=true},eventSupported:function(c){var d=(c in this.$element);if(!d){this.$element.setAttribute(c,"return;");d=typeof this.$element[c]==="function"}return d},ajaxer:function(){var c=this,d=c.$element.val();if(d===c.query){return c}c.query=d;if(c.ajax.timerId){clearTimeout(c.ajax.timerId);c.ajax.timerId=null}if(!d||d.length<c.ajax.triggerLength){if(c.ajax.xhr){c.ajax.xhr.abort();c.ajax.xhr=null;c.ajaxToggleLoadClass(false)}return c.shown?c.hide():c}c.ajax.timerId=setTimeout(function(){b.proxy(c.ajaxExecute(d),c)},c.ajax.timeout);return c},ajaxExecute:function(d){this.ajaxToggleLoadClass(true);if(this.ajax.xhr){this.ajax.xhr.abort()}var e=this.ajax.preDispatch?this.ajax.preDispatch(d):{query:d};var c=(this.ajax.method==="post")?b.post:b.get;this.ajax.xhr=c(this.ajax.url,e,b.proxy(this.ajaxLookup,this));this.ajax.timerId=null},ajaxLookup:function(d){var c;this.ajaxToggleLoadClass(false);if(!this.ajax.xhr){return}if(this.ajax.preProcess){d=this.ajax.preProcess(d)}this.ajax.data=d;c=this.grepper(this.ajax.data);if(!c||!c.length){return this.shown?this.hide():this}this.ajax.xhr=null;return this.render(c.slice(0,this.options.items)).show()},ajaxToggleLoadClass:function(c){if(!this.ajax.loadingClass){return}this.$element.toggleClass(this.ajax.loadingClass,c)},lookup:function(e){var d=this,c;if(d.ajax){d.ajaxer()}else{d.query=d.$element.val();if(!d.query){return d.shown?d.hide():d}c=d.grepper(d.source);if(!c||!c.length){return d.shown?d.show():d}return d.render(c.slice(0,d.options.items)).show()}},grepper:function(e){var d=this,c;if(e&&e.length&&!e[0].hasOwnProperty(d.options.display)){return null}c=b.grep(e,function(f){return d.matcher(f[d.options.display],f)});return this.sorter(c)},matcher:function(c){return ~c.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var h=this,f=[],d=[],c=[],g;while(g=e.shift()){if(!g[h.options.display].toLowerCase().indexOf(this.query.toLowerCase())){f.push(g)}else{if(~g[h.options.display].indexOf(this.query)){d.push(g)}else{c.push(g)}}}return f.concat(d,c)},show:function(){var c=this;c.ele_show();this.$menu.bind("touchstart",function(){document.activeElement.blur()});return this},hide:function(){this.$element.parent().parent().removeClass("ak-is_search w_100 zindex_show fix top_0 left_0");b("header").show();b("main").removeClass("mt_0").addClass("scrolling");this.$menu.hide();this.shown=false;return this},highlighter:function(c){var d=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return c.replace(new RegExp("("+d+")","ig"),function(e,f){return"<strong>"+f+"</strong>"})},render:function(c){var d=this;this.$menu.html("<ul />");c=b(c).map(function(e,f){e=b(d.options.item).attr("data-value",f[d.options.val]);e.html(d.highlighter(f[d.options.display],f));return e[0]});c.first().addClass("ak-is_active");this.$menu.children("ul").html(c);return this},select:function(){var c=this;var d=this.$menu.find(".ak-is_active");setTimeout(function(){document.activeElement.blur();c.hide();c.$element.val(d.text()).change()},150);if(this.$element.val!=""){this.$menu.find("li").on("click",function(f){f.stopPropagation();c.hide()})}this.$menu.children("ul").empty();this.options.itemSelected(d,d.attr("data-value"),d.text());return},next:function(d){var e=this.$menu.find(".ak-is_active").removeClass("ak-is_active");var c=e.next();if(!c.length){c=b(this.$menu.find("li")[0])}c.addClass("ak-is_active")},prev:function(d){var e=this.$menu.find(".ak-is_active").removeClass("ak-is_active");var c=e.prev();if(!c.length){c=this.$menu.find("li").last()}c.addClass("ak-is_active")},listen:function(){this.$element.on("blur",b.proxy(this.blur,this)).on("input propertychange",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keypress,this))}else{this.$element.on("keypress",b.proxy(this.keypress,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this))},keyup:function(c){c.stopPropagation();c.preventDefault();switch(c.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:this.hide();break;default:this.lookup()}},keypress:function(c){c.stopPropagation();if(!this.shown){return}switch(c.keyCode){case 9:case 13:case 27:c.preventDefault();break;case 38:c.preventDefault();this.prev();break;case 40:c.preventDefault();this.next();break}},blur:function(d){var c=this;d.stopPropagation();d.preventDefault();if(c.$element.val().length==0){c.hide()}setTimeout(function(){document.activeElement.blur()},150)},click:function(c){c.stopPropagation();c.preventDefault();this.select()},mouseenter:function(c){this.$menu.find(".ak-is_active").removeClass("ak-is_active");b(c.currentTarget).addClass("ak-is_active")}};b.fn.Andrew_Typeahead=function(c){return this.each(function(){var f=b(this),e=f.data("ak_typeahead"),d=typeof c==="object"&&c;if(!e){f.data("ak_typeahead",(e=new a(this,d)))}if(typeof c==="string"){e[c]()}})};b.fn.Andrew_Typeahead.defaults={source:[],items:20,menu:'<div class="ak-typeahead"></div>',item:'<li class="touchstart"></li>',display:"name",val:"id",showCallBack:function(){},itemSelected:function(){},ajax:{url:null,timeout:300,method:"post",triggerLength:3,loadingClass:null,displayField:null,preDispatch:null,preProcess:null}};b.fn.Andrew_Typeahead.Constructor=a;b(function(){b("body").on("focus.ak_typeahead.data-api",'[data-provide="ak_typeahead"]',function(d){var c=b(this);if(c.data("ak_typeahead")){return}d.preventDefault();c.ak_typeahead(c.data())})})}(jQuery));(function(a){var b={item:3,autoWidth:false,slideMove:1,slideMargin:10,activeClass:"",dotClass:new Array(),useCSS:true,speed:400,auto:false,loop:false,pause:2000,pager:false,freeMove:true,swipeThreshold:40,responsive:[],onSliderClick:function(d,c){},onSliderLoad:function(c){}};a.fn.Andrew_lightSlider=function(c){if(this.length===0){return this}if(this.length>1){this.each(function(){a(this).Andrew_lightSlider(c)});return this}var d={},u=a.extend(true,{},b,c),l={},z=this;d.$el=this;var r=z.children(),q=a(window).width(),y=null,n=null,f=0,p=0,o=false,t=0,s="",x=0,k="width",e="margin-right",j=0,h=0,v=null,m=("ontouchstart" in document.documentElement);var g={};g.chbreakpoint=function(){q=a(window).width();if(u.responsive.length){var C;if(u.autoWidth===false){C=u.item}if(q<u.responsive[0].breakpoint){for(var B=0;B<u.responsive.length;B++){if(q<u.responsive[B].breakpoint){y=u.responsive[B].breakpoint;n=u.responsive[B]}}}if(typeof n!=="undefined"&&n!==null){for(var A in n.settings){if(n.settings.hasOwnProperty(A)){if(typeof l[A]==="undefined"||l[A]===null){l[A]=u[A]}u[A]=n.settings[A]}}}if(!a.isEmptyObject(l)&&q>u.responsive[0].breakpoint){for(var w in l){if(l.hasOwnProperty(w)){u[w]=l[w]}}}if(u.autoWidth===false){if(j>0&&h>0){if(C!==u.item){x=Math.round(j/((h+u.slideMargin)*u.slideMove))}}}}};g.calSW=function(){if(u.autoWidth===false){h=(t-((u.item*(u.slideMargin))-u.slideMargin))/u.item}};g.calWidth=function(B){var A=B===true?s.find(".ak-lslide").length:r.length;if(u.autoWidth===false){p=A*(h+u.slideMargin)}else{p=0;for(var w=0;w<A;w++){p+=(parseInt(r.eq(w).width())+u.slideMargin)}}return p};d={doCss:function(){var w=function(){var C=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var A=document.documentElement;for(var B=0;B<C.length;B++){if(C[B] in A.style){return true}}};if(u.useCSS&&w()){return true}return false},initialStyle:function(){var A=this;if(u.autoWidth){u.slideMove=1;u.item=1}if(u.loop){u.slideMove=1;u.freeMove=false}g.chbreakpoint();z.addClass("ak-lightSlider").wrap('<div class="ak-lSSlideOuter"><div class="ak-lSSlideWrapper"></div></div>');s=z.parent(".ak-lSSlideWrapper");t=z.outerWidth();r.addClass("ak-lslide");if(u.loop===true){g.calSW();g.clone=function(){if(g.calWidth(true)>t){var D=0,G=0;for(var C=0;C<r.length;C++){D+=(parseInt(z.find(".ak-lslide").eq(C).width())+u.slideMargin);G++;if(D>=(t+u.slideMargin)){break}}var H=u.autoWidth===true?G:u.item;if(H<z.find(".ak-lSSclone.ak-lSSleft").length){for(var F=0;F<z.find(".ak-lSSclone.ak-lSSleft").length-H;F++){r.eq(F).remove()}}if(H<z.find(".ak-lSSclone.ak-lSSright").length){for(var E=r.length-1;E>(r.length-1-z.find(".ak-lSSclone.ak-lSSright").length);E--){x--;r.eq(E).remove()}}for(var I=z.find(".ak-lSSclone.ak-lSSright").length;I<H;I++){z.find(".ak-lslide").eq(I).clone().removeClass("ak-lslide").addClass("ak-lSSclone ak-lSSright").appendTo(z);x++}for(var B=z.find(".ak-lslide").length-z.find(".ak-lSSclone.ak-lSSleft").length;B>(z.find(".ak-lslide").length-H);B--){z.find(".ak-lslide").eq(B-1).clone().removeClass("ak-lslide").addClass("ak-lSSclone ak-lSSleft").prependTo(z)}r=z.children()}else{if(r.hasClass("ak-lSSclone")){z.find(".ak-lSSclone").remove();A.move(z,0)}}};g.clone()}var w=0;r.on("click",function(){var F=z.find(".ak-lSSclone.ak-lSSleft").length;var E=z.find(".ak-lslide").length;var B=r.length;var D=a(this).index();w=D;if(D>=E+F){if(D!=B-1){w=D-E}}if(D<F){w=D+E}var C=w-F+1;u.onSliderClick(a(this),C);a(this).addClass("ak-is_active "+u.activeClass).siblings(r).removeClass("ak-is_active "+u.activeClass)});g.sSW=function(){f=r.length;if(u.autoWidth===false){r.css(k,h+"px")}r.css(e,u.slideMargin+"px");p=g.calWidth(false);z.css(k,p+"px");if(u.loop===true){if(o===false){x=z.find(".ak-lSSclone.ak-lSSleft").length}}};g.calL=function(){r=z.children();f=r.length};if(this.doCss()){s.addClass("ak-usingCss")}g.calL();g.calSW();g.sSW();if(u.loop===true){j=A.slideValue();this.move(z,j)}this.setHeight(z,false);if(u.loop===true){r.eq(x).addClass("ak-is_active "+u.activeClass)}else{r.first().addClass("ak-is_active "+u.activeClass)}},pager:function(){var A=this;g.createPager=function(){var D=s.find(".ak-lslide");var G=s.find(".ak-lslide").length;var F=0,E="",C=0;for(F=0;F<G;F++){if(!u.autoWidth){C=F*((h+u.slideMargin)*u.slideMove)}else{C+=((parseInt(D.eq(F).width())+u.slideMargin)*u.slideMove)}E+="<li>"+(F+1)+"</li>";if((C)>=p-t-u.slideMargin){F=F+1;var H=2;if(u.autoWidth){E+="<li>"+(F+1)+"</li>";H=1}if(F<H){E=null;s.parent().addClass("ak-noPager")}else{s.parent().removeClass("ak-noPager")}break}}var B=s.parent();B.find(".ak-lSPager").html(E);var I=B.find(".ak-lSPager").find("li");I.addClass(u.dotClass[0]);I.first().addClass("active "+u.dotClass[1]);I.on("click",function(){if(u.loop===true){x=x+(I.index(this)-B.find(".ak-lSPager").find("li.ak-is_active").index())}else{x=I.index(this)}z.mode(false);return false})};if(u.pager){var w="ak-lSpg";s.after('<ul class="ak-lSPager '+w+'"></ul>');g.createPager()}setTimeout(function(){g.init()},0)},setHeight:function(A){var C=null,B=this;if(u.loop){C=A.children(".ak-lslide ").first()}else{C=A.children().first()}var w=function(){var E=C.outerHeight(),F=0,D=E;A.css({"height":E+2+"px","padding-bottom":F+"%"})};w();if(C.find("img").length){if(C.find("img")[0].complete){w();if(!v){B.auto()}}}else{if(!v){B.auto()}}},active:function(B,C){var D=0;if(x*u.slideMove<f){B.removeClass("active "+u.dotClass[1]);if(C===true){D=x}else{D=x*u.slideMove}var A,w;if(C===true){A=B.length;w=A-1;if(D+1>=A){D=w}}if(u.loop===true){if(C===true){D=x-z.find(".ak-lSSclone.ak-lSSleft").length}else{D=x*u.slideMove}if(C===true){A=B.length;w=A-1;if(D+1===A){D=w}else{if(D+1>A){D=0}}}}B.eq(D).addClass("active "+u.dotClass[1])}else{B.removeClass("active "+u.dotClass[1]);B.eq(B.length-1).addClass("active "+u.dotClass[1])}},move:function(A,w){if(this.doCss()){A.css({"transform":"translate3d("+(-w)+"px, 0px, 0px)","-webkit-transform":"translate3d("+(-w)+"px, 0px, 0px)",})}else{A.css("position","relative").animate({left:-w+"px"},u.speed,"linear")}},slide:function(){var w=this;g.calSlide=function(){if(p>t){j=w.slideValue();if((j)>p-t-u.slideMargin){j=p-t-u.slideMargin}else{if(j<0){j=0}}w.move(z,j);if(u.loop===true){if(x>=(f-(z.find(".ak-lSSclone.ak-lSSleft").length/u.slideMove))){w.resetSlide(z.find(".ak-lSSclone.ak-lSSleft").length)}if(x===0){w.resetSlide(s.find(".ak-lslide").length)}}}};g.calSlide()},resetSlide:function(w){var A=this;setTimeout(function(){x=w;s.css("transition-duration","0ms");j=A.slideValue();d.move(z,j);setTimeout(function(){s.css("transition-duration",u.speed+"ms")},50)},u.speed+100)},slideValue:function(){var A=0;if(u.autoWidth===false){A=x*((h+u.slideMargin)*u.slideMove)}else{A=0;for(var w=0;w<x;w++){A+=(parseInt(r.eq(w).width())+u.slideMargin)}}return A},auto:function(){if(u.auto){clearInterval(v);v=setInterval(function(){z.goToNextSlide()},u.pause)}},touchMove:function(A,C){s.css("transition-duration","0ms");var D=A-C;var B=j-D;if((B)>=p-t-u.slideMargin){if(u.freeMove===false){B=p-t-u.slideMargin}else{var w=p-t-u.slideMargin;B=w+((B-w)/5)}}else{if(B<0){if(u.freeMove===false){B=0}else{B=B/5}}}this.move(z,B)},touchEnd:function(C){s.css("transition-duration","500ms");var w=false;var A=true;j=j-C;if((j)>p-t-u.slideMargin){j=p-t-u.slideMargin;if(u.autoWidth===false){w=true}}else{if(j<0){j=0}}var B=function(H){var G=0;if(!w){if(H){G=1}}if(!u.autoWidth){var E=j/((h+u.slideMargin)*u.slideMove);x=parseInt(E)+G;if(j>=(p-t-u.slideMargin)){if(E%1!==0){x++}}}else{var D=0;for(var F=0;F<r.length;F++){D+=(parseInt(r.eq(F).width())+u.slideMargin);x=F+G;if(D>=j){break}}}};if(C>=u.swipeThreshold){B(false);A=false}else{if(C<=-u.swipeThreshold){B(true);A=false}}z.mode(A)},enableDrag:function(){var C=this;if(!m){var B=0,A=0,w=false;s.on("mousedown",function(D){if(p<t){if(p!==0){return false}}if(a(D.target).attr("class")!==("ak-lSPrev")&&a(D.target).attr("class")!==("ak-lSNext")){B=D.pageX;w=true;if(D.preventDefault){D.preventDefault()}else{D.returnValue=false}s.scrollLeft+=1;s.scrollLeft-=1;clearInterval(v)}});a(window).on("mousemove",function(D){if(w){A=D.pageX;C.touchMove(A,B)}});a(window).on("mouseup",function(D){if(w){w=false;A=D.pageX;var E=A-B;if(Math.abs(E)>=u.swipeThreshold){a(window).on("click.ls",function(F){if(F.preventDefault){F.preventDefault()}else{F.returnValue=false}F.stopImmediatePropagation();F.stopPropagation();a(window).off("click.ls")})}C.touchEnd(E)}})}},enableTouch:function(){var B=this;if(m){var A={},w={};s.on("touchstart",function(C){w=C.originalEvent.targetTouches[0];A.pageX=C.originalEvent.targetTouches[0].pageX;A.pageY=C.originalEvent.targetTouches[0].pageY;clearInterval(v)});s.on("touchmove",function(C){if(p<t){if(p!==0){return false}}var F=C.originalEvent;w=F.targetTouches[0];var D=Math.abs(w.pageX-A.pageX);var E=Math.abs(w.pageY-A.pageY);if((D*3)>E){C.preventDefault()}B.touchMove(w.pageX,A.pageX)});s.on("touchend",function(){if(p<t){if(p!==0){return false}}var C;C=w.pageX-A.pageX;B.touchEnd(C)})}},build:function(){var w=this;w.initialStyle();if(this.doCss()){w.enableTouch();w.enableDrag()}a(window).on("focus",function(){w.auto()});a(window).on("blur",function(){clearInterval(v)});w.pager()}};d.build();g.init=function(){g.chbreakpoint();t=s.outerWidth();if(u.loop===true){g.clone()}g.calL();z.removeClass("ak-lSSlide");g.calSW();g.sSW();setTimeout(function(){z.addClass("ak-lSSlide")},1000);if(u.pager){g.createPager()}d.setHeight(z,false);d.slide()};z.goToPrevSlide=function(){if(x>0){x--;z.mode(false)}else{if(u.loop===true){z.mode(false)}}};z.goToNextSlide=function(){var w=true;var A=d.slideValue();w=A<p-t-u.slideMargin;if(((x*u.slideMove)<f-u.slideMove)&&w){x++;z.mode(false)}else{if(u.loop===true){x=0;z.mode(false)}}};z.mode=function(w){if(o===false){if(d.doCss()){z.addClass("ak-lSSlide");if(u.speed!==""){s.css("transition-duration",u.speed+"ms")}s.css("transition-timing-function","ease")}}d.slide();if(!s.hasClass("ak-lshover")){d.auto()}o=true};z.play=function(){z.goToNextSlide();u.auto=true;d.auto()};z.pause=function(){u.auto=false;clearInterval(v)};z.refresh=function(){g.init()};z.getCurrentSlideCount=function(){var B=x;if(u.loop){var A=s.find(".ak-lslide").length,w=z.find(".ak-lSSclone.ak-lSSleft").length;if(x<=w-1){B=A+(x-w)}else{if(x>=(A+w)){B=x-A-w}else{B=x-w}}}return B+1};z.getTotalSlideCount=function(){return s.find(".ak-lslide").length};z.goToSlide=function(w){if(u.loop){x=(w+z.find(".ak-lSSclone.ak-lSSleft").length-1)}else{x=w}z.mode(false)};z.destroy=function(){if(z.Andrew_lightSlider){z.goToPrevSlide=function(){};z.goToNextSlide=function(){};z.mode=function(){};z.play=function(){};z.pause=function(){};z.refresh=function(){};z.getCurrentSlideCount=function(){};z.getTotalSlideCount=function(){};z.goToSlide=function(){};z.Andrew_lightSlider=null;g={init:function(){}};z.parent().parent().find(".ak-lSPager").remove();z.removeClass("ak-lightSlider ak-lSSlide ak-lSSright").removeAttr("style").unwrap().unwrap();z.children().removeAttr("style");r.removeClass("ak-lslide active");z.find(".ak-lSSclone").remove();r=null;v=null;o=false;x=0}};setTimeout(function(){u.onSliderLoad.call(this,z)},10);a(window).on("resize orientationchange",function(w){setTimeout(function(){if(w.preventDefault){w.preventDefault()}else{w.returnValue=false}g.init()},200)});return this}}(jQuery));(function($){function fillZero(x){if(x<10){return x="0"+x}else{return""+x}}$.fn.Andrew_DateTime=function(opt){function cPlugin(o,emlnum){var sjObj=o;sjObj.defaults={type:"time",Format:"yyyy-mm-dd",timeFormat:"h:m:s",width:60,height:40,Year:true,Month:true,Day:true,Hour:true,Minute:true,Seconds:false,yyArr:[],mmArr:[],ddArr:[],hArr:[],mArr:[],sArr:[],yyyy:"2000",mm:"01",dd:"01",h:"01",m:"01",s:"01",val:null,yearText:"Y",monthText:"M",dayText:"D",hourText:"H",minuteText:"M",secondsText:"S",okText:"OK",cancelText:"CANCEL",thisElm:null,showNowTime:true,alwaysShow:false,timeElm:null,isparseInt:false,finalshow:true,boxClassName:"",onfun:function(sjObj){},okfun:function(sjObj){},t_box:null,df_persp:function(){return $("<div class='ak-datetime'><div class='ak-mask'></div>")},df_box:function(){return $("</div><div class='jdt_box animated slideInUp "+(sjObj.opt.alwaysShow?"alwaysShow":"")+" "+sjObj.opt.boxClassName+"' style='line-height:"+sjObj.opt.height+"px;'></div>")},df_main:function(){return $("<div class='jdt_main'>")},df_btn:function(){if(sjObj.opt.alwaysShow){return}return $("<div class='jdt_btn'><button type='button' class='jdt_no bg_white c_gray_777'>"+sjObj.opt.cancelText+"</button><button type='button' class='jdt_ok bg_white c_title'>"+sjObj.opt.okText+"</button></div>")},df_wrap:function(){return $("<div class='jdt_wrap'><table><tbody><tr></tr></tbody></table><div class='jdt_active' style='height:"+sjObj.opt.height+"px; margin-top:-"+sjObj.opt.height*3+"px;'></div></div>")},df_final:function(){return $("<div class='jdt_final c_title'></div>")},getArr:function(){for(var i=0;i<61;i++){if(i<12){this.mmArr[i]=(i+1)}if(i<31){this.ddArr[i]=(i+1)}if(i<24){this.hArr[i]=i}if(i<60){this.mArr[i]=i;this.sArr[i]=i}if(i<61&&!sjObj.opt.Year&&!sjObj.opt.Month&&!sjObj.opt.Day&&!sjObj.opt.Hour){this.mArr[i]=i}}},y:10,nowTime:new Date(),startYear:null,endYear:null,ampmText:null,dataNum:0,strStart:function(text,c){var df=this;var str;var text=text||"";if(df.width){str='<div class="jdt_class">'+text+'</div><div class="jdt_item " style="height:'+(df.height*5-1)+"px;min-width:"+df.width+'px"><ul class="jdt_ul" data-class='+c+">"}else{str='<div class="jdt_class">'+text+'</div><div class="jdt_item " style="height:'+(df.height*5-1)+'px"><ul class="jdt_ul" data-class='+c+">"}sjObj.opt.dataNum++;return str},strEnd:function(){var df=this;return"</ul><div class='jdt_bg'><div class='jdt_top' style='height:"+(df.height*2)+"px'></div><div class='jdt_mid' style='height:"+df.height+"px'></div><div class='jdt_btm' style='height:"+(df.height*2)+"px'></div></div></div>"},fillZero:function(x){if(x<10){return x="0"+x}else{return""+x}},getYear:function(){if(!this.startYear){var y=sjObj.opt.y||10;var nowTime=new Date();for(var x=this.y,i=0;x!=0;y>0?x--:x++,i++){if(y<0){sjObj.opt.yyArr[i]=nowTime.getFullYear()+x+1}else{sjObj.opt.yyArr[i]=nowTime.getFullYear()+i}}sjObj.opt.getArr()}else{if(sjObj.opt.yyArr.length>1){return}var endYear=this.endYear||parseInt(sjObj.opt.y)+parseInt(this.startYear);var y=-(endYear-parseInt(this.startYear));nowTime=new Date(endYear+"/01/01");for(var x=y,i=0;y>0?x!=0:x<1;y>0?x--:x++,i++){if(y<0){sjObj.opt.yyArr[i]=nowTime.getFullYear()+x}else{sjObj.opt.yyArr[i]=nowTime.getFullYear()+i}}sjObj.opt.getArr()}},setCenter:function(){var wid=$(window).width();var tabWid=null;var mWid=0;$(".jdt_wrap table").each(function(){tabWid+=parseFloat($(this).width())});if(tabWid>wid){$(".jdt_wrap table").each(function(){mWid=parseFloat($(this).width())>mWid?parseFloat($(this).width()):mWid});$(".jdt_box").width(mWid)}else{$(".jdt_box").width(tabWid+10)}},buildArrStr:function(Arr,txt,c){var str=this.strStart(txt,c);$.each(Arr,function(){str+='<li class="jdt_li jdt_show"  data-val='+sjObj.opt.fillZero(this)+' style="line-height:'+sjObj.opt.height+"px;height:"+sjObj.opt.height+'px">'+sjObj.opt.fillZero(this)+"</li>"});str+=sjObj.opt.strEnd();return str},buildHTml:function(){var wrap=sjObj.opt.df_wrap();sjObj.opt.t_box=sjObj.opt.df_box();var main=sjObj.opt.df_main();var persp=sjObj.opt.df_persp();if(sjObj.opt.alwaysShow){sjObj.opt.timeElm=eval(sjObj.opt.timeElm);sjObj.opt.timeElm.append(sjObj.opt.t_box.append(main.append(wrap)))}else{sjObj.opt.timeElm=$("<div class='ak-datetime'><div class='ak-mask'></div>");sjObj.opt.timeElm.append(sjObj.opt.t_box.append(sjObj.opt.finalshow?sjObj.opt.df_final:"").append(main.append(wrap)).append(sjObj.opt.df_btn));$("body").append(sjObj.opt.timeElm);document.activeElement.blur();$("main").removeClass("scrolling")}if(sjObj.opt.ampmText){main.append("<div class='jdt_wrap'><table><tbody><tr><td>"+sjObj.opt.buildAmPmStr()+"</tr></tbody></table></div>")}if(sjObj.opt.Format=="dd-mm-yyyy"){if(sjObj.opt.Day){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.ddArr,sjObj.opt.dayText,"dd")+"</td>")}if(sjObj.opt.Month){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.mmArr,sjObj.opt.monthText,"mm")+"</td>")}if(sjObj.opt.Year){$(sjObj.opt.timeElm.find("jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.yyArr,sjObj.opt.yearText,"yyyy")+"</td>")}}else{if(sjObj.opt.Format=="mm-dd-yyyy"){if(sjObj.opt.Month){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.mmArr,sjObj.opt.monthText,"mm")+"</td>")}if(sjObj.opt.Day){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.ddArr,sjObj.opt.dayText,"dd")+"</td>")}if(sjObj.opt.Year){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.yyArr,sjObj.opt.yearText,"yyyy")+"</td>")}}else{if(sjObj.opt.Format=="yyyy-mm"){if(sjObj.opt.Year){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.yyArr,sjObj.opt.yearText,"yyyy")+"</td>")}if(sjObj.opt.Month){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.mmArr,sjObj.opt.monthText,"mm")+"</td>")}}else{if(sjObj.opt.Format=="yyyy"){if(sjObj.opt.Year){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.yyArr,sjObj.opt.yearText,"yyyy")+"</td>")}}else{if(sjObj.opt.Year){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.yyArr,sjObj.opt.yearText,"yyyy")+"</td>")}if(sjObj.opt.Month){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.mmArr,sjObj.opt.monthText,"mm")+"</td>")}if(sjObj.opt.Day){$(sjObj.opt.timeElm.find(".jdt_wrap")[0]).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.ddArr,sjObj.opt.dayText,"dd")+"</td>")}}}}}if(sjObj.opt.Hour||sjObj.opt.Minute||sjObj.opt.Seconds){var eml=sjObj.opt.df_wrap();main.append(eml)}if(sjObj.opt.Hour){$(eml).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.hArr,sjObj.opt.hourText,"h")+"</td>")}if(sjObj.opt.Minute){$(eml).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.mArr,sjObj.opt.minuteText,"m")+"</td>")}if(sjObj.opt.Seconds){$(eml).find("tr").append("<td>"+sjObj.opt.buildArrStr(sjObj.opt.sArr,sjObj.opt.secondsText,"s")+"</td>")}if(sjObj.opt.showNowTime){if(emlnum){var val=sjObj.value,sjeml=sjObj}else{var val=sjObj[0].value,sjeml=sjObj[0]}if(val){if(val.indexOf("/")!=-1){val=val.replace(/\//g,"-")}if(val.indexOf(" ")!=-1){var valarr=val.split(" ")}else{var valarr=[val]}var nyr,sfm;var str="";if(valarr.length==2){nyr=valarr[0];sfm=valarr[1];str+=getnyrstr(nyr)+" "+getsfmstr(sfm)}else{if(valarr.length==1&&(valarr.indexOf("-")!=-1||valarr.indexOf("/")!=-1)){str+=getnyrstr(valarr[0])+" "+getsfmstr("")}else{if(sjObj.opt.Year||sjObj.opt.Month||sjObj.opt.Day){str+=getnyrstr(valarr[0])+" "+getsfmstr("")}else{str+=getnyrstr("")+" "+getsfmstr(valarr[0])}}}data=new Date(str.replace(/-/g,"/"))}else{var data=new Date()}var year=data.getFullYear();var month=data.getMonth()+1;var day=data.getDate();var hours=data.getHours();var Minutes=data.getMinutes();var Seconds=data.getSeconds();sjObj.opt.yyyy=fillZero(year);sjObj.opt.mm=fillZero(month);sjObj.opt.dd=fillZero(day);sjObj.opt.h=fillZero(hours);sjObj.opt.m=fillZero(Minutes);sjObj.opt.s=fillZero(Seconds);if(sjObj.opt.Year){sjObj.opt.timeElm.find("[data-class='yyyy'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(year)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Month){sjObj.opt.timeElm.find("[data-class='mm'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(month)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Day){sjObj.opt.timeElm.find("[data-class='dd'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(day)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Hour){sjObj.opt.timeElm.find("[data-class='h'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(hours)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Minute){sjObj.opt.timeElm.find("[data-class='m'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(Minutes)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Seconds){sjObj.opt.timeElm.find("[data-class='m'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(Seconds)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}}else{if(sjObj.opt.Year){sjObj.opt.timeElm.find("[data-class='yyyy'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(sjObj.opt.yyyy)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Month){sjObj.opt.timeElm.find("[data-class='mm'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(sjObj.opt.mm)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Day){sjObj.opt.timeElm.find("[data-class='dd'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(sjObj.opt.dd)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Hour){sjObj.opt.timeElm.find("[data-class='h'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(sjObj.opt.h)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Minute){sjObj.opt.timeElm.find("[data-class='m'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(sjObj.opt.m)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}if(sjObj.opt.Seconds){sjObj.opt.timeElm.find("[data-class='m'] .jdt_li").each(function(){if(parseInt($(this).attr("data-val"))==parseInt(sjObj.opt.s)){var pY=-($(this).index()-2)*sjObj.opt.height;$(this).parent().css({"transform":"translate(0,"+pY+"px)"})}})}}sjObj.opt.fillData();sjObj.opt.setCenter();sjObj.opt.bindFun()},bindFun:function(){sjObj.opt.timeElm.find(".jdt_no").unbind("click");sjObj.opt.timeElm.find(".jdt_no").on("click",function(){$(this).parent().parent().parent().find(".jdt_box").addClass("animated slideOutDown");setTimeout(function(){sjObj.opt.timeElm.remove()},500);sjObj.opt.onfun(sjObj);$("main").addClass("scrolling")});sjObj.opt.timeElm.find(".ak-mask").unbind("click");sjObj.opt.timeElm.find(".ak-mask").on("click",function(){$(this).parent().find(".jdt_box").addClass("animated slideOutDown");setTimeout(function(){sjObj.opt.timeElm.remove()},500);sjObj.opt.onfun(sjObj);$("main").addClass("scrolling")});sjObj.opt.timeElm.find(".jdt_ok").unbind("click");sjObj.opt.timeElm.find(".jdt_ok").on("click",function(){var str="";if(sjObj.opt.Year){str=sjObj.opt.Format.replace("yyyy",sjObj.opt.yyyy)}if(sjObj.opt.Month){str=str.replace("mm",sjObj.opt.mm)}else{str=str.replace("-mm","")}if(sjObj.opt.Day){str=str.replace("dd",sjObj.opt.dd)}else{str=str.replace("-dd","")}if(sjObj.opt.Day&&sjObj.opt.Hour){str+=" "}if(sjObj.opt.Hour){str+=sjObj.opt.h}if(sjObj.opt.Minute&&sjObj.opt.Hour){str+=":"}if(sjObj.opt.Minute){str+=sjObj.opt.m}if(sjObj.opt.Minute&&sjObj.opt.Seconds){str+=":"}if(sjObj.opt.Seconds){str+=sjObj.opt.s}sjObj.opt.val=sjObj.opt.isparseInt?parseInt(str):str;$(sjObj.opt.thisElm).next("label").hide();$(sjObj.opt.thisElm).val(sjObj.opt.val);$(this).parent().parent().parent().find(".jdt_box").addClass("animated slideOutDown");setTimeout(function(){sjObj.opt.timeElm.remove()},500);sjObj.opt.okfun(sjObj);$("main").addClass("scrolling")});sjObj.opt.moveElm(sjObj.opt.timeElm.find(".jdt_bg"))},fillData:function(){var str="";if(sjObj.opt.Year){str+=sjObj.opt.yyyy}if(sjObj.opt.Month){str+="-"+sjObj.opt.mm}if(sjObj.opt.Day){str+="-"+sjObj.opt.dd}if(sjObj.opt.Hour){str+=" "+sjObj.opt.h}if(sjObj.opt.Minute){str+=":"+sjObj.opt.m}if(sjObj.opt.Seconds){str+=sjObj.opt.s}if(!sjObj.opt.alwaysShow){if(sjObj.opt.isparseInt){sjObj.opt.timeElm.find(".jdt_final").html(parseInt(str))}else{sjObj.opt.timeElm.find(".jdt_final").html(str)}}else{$(sjObj.opt.thisElm).html(str).val(str)}},vardata:function(name,val){if(!val){return}if(sjObj.opt[name]!=val){sjObj.opt[name]=val;sjObj.opt.fillData()}},getFinal:function(){var currentY=0;var str="";if(sjObj.opt.showNowTime){sjObj.opt.timeElm.find(".jdt_ul").each(function(){currentY=getTranslateY(this);var dataClass=$(this).attr("data-class");var val=$($(this).find(".jdt_li")[Math.round(currentY/sjObj.opt.height)+2]).attr("data-val");sjObj.opt.vardata(dataClass,val);$(this).unbind("webkitTransitionEnd").on("webkitTransitionEnd",function(){currentY=getTranslateY(this);var val=$($(this).find(".jdt_li")[Math.round(currentY/sjObj.opt.height)+2]).attr("data-val");dataClass=$(this).attr("data-class");sjObj.opt.vardata(dataClass,val);sjObj.opt.daysJudge(dataClass)})})}else{sjObj.opt.timeElm.find(".jdt_ul").each(function(){currentY=getTranslateY(this);var dataClass=$(this).attr("data-class");var val=$($(this).find(".jdt_li")[Math.round(currentY/sjObj.opt.height)+2]).attr("data-val");sjObj.opt.vardata(dataClass,val);$(this).unbind("webkitTransitionEnd").on("webkitTransitionEnd",function(){currentY=getTranslateY(this);var val=$($(this).find(".jdt_li")[Math.round(currentY/sjObj.opt.height)+2]).attr("data-val");dataClass=$(this).attr("data-class");sjObj.opt.vardata(dataClass,val);sjObj.opt.daysJudge(dataClass)})})}},daysJudge:function(name){if(name=="mm"||name=="yyyy"){var day=new Date(sjObj.opt.yyyy,sjObj.opt.mm,0).getDate();var l=sjObj.opt.timeElm.find('[data-class="dd"]').find(".jdt_show").length;var mubiao=day-l;if(mubiao>0){for(var i=0;i<mubiao;i++){$(sjObj.opt.timeElm.find('[data-class="dd"]').find(".jdt_li")[l+i]).removeClass("jdt_hide").addClass("jdt_show")}}else{var naomovey=getTranslateY(sjObj.opt.timeElm.find('[data-class="dd"]'));for(var i=0;i>mubiao;i--){$(sjObj.opt.timeElm.find('[data-class="dd"]').find(".jdt_li")[l-1+i]).removeClass("jdt_show").addClass("jdt_hide")}if(naomovey>(day-1-2)*sjObj.opt.height){sjObj.opt.timeElm.find('[data-class="dd"]').css({"transition":"all .5s"});sjObj.opt.timeElm.find('[data-class="dd"]').css({"transform":"translate(0,"+-(day-1-2)*sjObj.opt.height+"px)"})}}}},moveElm:function(eml){return $(eml).each(function(){var sX=null,sY=null,mX=null,mY=null,eX=null,eY=null,sTime=null,eTime=null,mTime=null,nTime=null,nY=0,drt=null,nowElm=null,canStart=true,canMove=false,canEnd=false,emlLang=null,maxY=null,minY=null,lastY=null,nowY=null,moveY=null,stopInertiaMove=false,SE=null,ME=null,EE=null,moveCy=0;var stop=function(e){if(e.preventDefault){e.preventDefault()}e.returnValue=false};var moveStart=function(e){stop(e);if(!canStart){return}if(e.originalEvent.touches){SE=e.originalEvent.targetTouches[0]}else{SE=e}sX=SE.pageX;sY=SE.pageY;nowElm=$(this).prev(".jdt_ul");emlLang=nowElm.find(".jdt_show").length;lastY=sY;nY=getTranslateY(nowElm);sTime=new Date().getTime();if(!canMove&&canEnd){return false}canStart=false;canMove=false;stopInertiaMove=true;$(window).on("touchmove",function(e){if(stopInertiaMove){e.preventDefault()}})};var moveing=function(e){stop(e);if(e.originalEvent.touches){ME=e.originalEvent.targetTouches[0]}else{ME=e}mTime=new Date().getTime();mX=ME.pageX;mY=ME.pageY;drt=GetSlideDirection(sX,sY,mX,mY);if((drt==1||drt==2)&&!canStart){canMove=true;canEnd=true;stopInertiaMove=true}if(canMove){nowElm.css({"transition":"none"});nowElm.css({"transform":"translate(0,"+-(nY-(mY-sY))+"px)"});sjObj.opt.getFinal()}if(mTime-sTime>300){sTime=mTime;lastY=mY}};var moveEnd=function(e){stop(e);if(e.originalEvent.touches){EE=e.originalEvent.changedTouches[0]}else{EE=e}eX=EE.pageX;eY=EE.pageY;maxY=sjObj.opt.height*2;minY=-(emlLang-3)*sjObj.opt.height;if(canEnd){canMove=false;canEnd=false;canStart=true;nY=-(nY-(mY-sY));nowY=eY;if(nY>maxY){nowElm.css({"transition":"all .5s"});nowElm.css({"transform":"translate(0,"+maxY+"px)"})}else{if(nY<minY){nowElm.css({"transition":"all .5s"});nowElm.css({"transform":"translate(0,"+minY+"px)"})}else{eTime=new Date().getTime();var speed=((nowY-lastY)/(eTime-sTime));stopInertiaMove=false;(function(v,startTime,contentY){var dir=v>0?-1:1;var deceleration=dir*0.001;function inertiaMove(){if(stopInertiaMove){return}var nowTime=new Date().getTime();var t=nowTime-startTime;var nowV=v+t*deceleration;var moveY=(v+nowV)/2*t;if(dir*nowV>0){if(moveCy>sjObj.opt.maxY){nowElm.css({"transition":"all .5s"});sjObj.opt.nowElm.css({"transform":"translate(0,"+sjObj.opt.maxY+"px)"})}else{if(moveCy<sjObj.opt.minY){nowElm.css({"transition":"all .5s"});nowElm.css({"transform":"translate(0,"+sjObj.opt.minY+"px)"})}else{var MC=Math.round(moveCy/sjObj.opt.height);if(MC>2){MC=2}else{if(MC<-(emlLang-1)+2){MC=-(emlLang-1)+2}}nowElm.css({"transition":"all .4s"});nowElm.css({"transform":"translate(0,"+sjObj.opt.height*MC+"px)"})}}sjObj.opt.getFinal();return}moveCy=(contentY+moveY);if(moveCy>(maxY+(sjObj.opt.height*2))){nowElm.css({"transition":"all .5s"});nowElm.css({"transform":"translate(0,"+maxY+"px)"});return}else{if(moveCy<(minY-(sjObj.opt.height*2))){nowElm.css({"transition":"all .5s"});nowElm.css({"transform":"translate(0,"+minY+"px)"});return}}nowElm.css({"transform":"translate(0,"+moveCy+"px)"});sjObj.opt.getFinal();var timers=setTimeout(inertiaMove,10)}inertiaMove()})(speed,eTime,nY)}}}};$(this).unbind("touchstart mousedown").on("touchstart mousedown",moveStart);$(this).unbind("touchmove").on("touchmove",moveing);$(this).unbind("touchend").on("touchend",moveEnd);$(document).on("mousemove",moveing);$(document).on("mouseup",moveEnd)})}};sjObj.opt=$.extend({},sjObj.defaults,opt);var GetSlideAngle=function(dx,dy){return Math.atan2(dy,dx)*180/Math.PI};function getnyrstr(str){var r=sjObj.opt.Format;var valarr=str.split("-");if(valarr.length==3){r=r.replace("yyyy",valarr[0]);r=r.replace("mm",valarr[1]);r=r.replace("dd",valarr[2])}else{if(valarr.length==2){if(sjObj.opt.Year&&!sjObj.opt.Month){r=r.replace("yyyy",valarr[0]);r=r.replace("mm",sjObj.opt.mm);r=r.replace("dd",valarr[1])}else{if(sjObj.opt.Year&&!sjObj.opt.Day){r=r.replace("yyyy",valarr[0]);r=r.replace("mm",valarr[1]);r=r.replace("dd",sjObj.opt.dd)}else{if(!sjObj.opt.Year){r=r.replace("yyyy",sjObj.opt.yyyy);r=r.replace("mm",valarr[0]);r=r.replace("dd",valarr[1])}}}}else{if(valarr.length==1){if(sjObj.opt.Year){r=r.replace("yyyy",valarr[0]);r=r.replace("mm",sjObj.opt.mm);r=r.replace("dd",sjObj.opt.dd)}else{if(sjObj.opt.Month){r=r.replace("yyyy",sjObj.opt.yyyy);r=r.replace("mm",valarr[0]);r=r.replace("dd",sjObj.opt.dd)}else{if(sjObj.opt.Day){r=r.replace("yyyy",sjObj.opt.yyyy);r=r.replace("mm",sjObj.opt.mm);r=r.replace("dd",valarr[0])}else{r=r.replace("yyyy",sjObj.opt.yyyy);r=r.replace("mm",sjObj.opt.mm);r=r.replace("dd",sjObj.opt.dd)}}}}}}return r}function getsfmstr(str){var r=sjObj.opt.timeFormat;var valarr=str.split(":");if(valarr.length==3){r=r.replace("h",valarr[0]);r=r.replace("m",valarr[1]);r=r.replace("s",valarr[2])}else{if(valarr.length==2){if(sjObj.opt.Hour&&!sjObj.opt.Minute){r=r.replace("h",valarr[0]);r=r.replace("m",sjObj.opt.m);r=r.replace("s",valarr[1])}else{if(sjObj.opt.Hour&&!sjObj.opt.Seconds){r=r.replace("h",valarr[0]);r=r.replace("m",valarr[1]);r=r.replace("s",sjObj.opt.s)}else{if(!sjObj.opt.Hour){r=r.replace("h",sjObj.opt.h);r=r.replace("m",valarr[0]);r=r.replace("s",valarr[1])}}}}else{if(valarr.length==1){if(sjObj.opt.Hour){r=r.replace("h",valarr[0]);r=r.replace("m",sjObj.opt.m);r=r.replace("s",sjObj.opt.s)}else{if(sjObj.opt.Minute){r=r.replace("h",sjObj.opt.h);r=r.replace("m",valarr[0]);r=r.replace("s",sjObj.opt.s)}else{if(sjObj.opt.Hour){r=r.replace("h",sjObj.opt.h);r=r.replace("m",sjObj.opt.m);r=r.replace("s",valarr[0])}else{r=r.replace("h",sjObj.opt.h);r=r.replace("m",sjObj.opt.m);r=r.replace("s",sjObj.opt.s)}}}}}}return r}var GetSlideDirection=function(startX,startY,endX,endY){var dy=startY-endY;var dx=endX-startX;var result=0;if(Math.abs(dx)<2&&Math.abs(dy)<2){return result}var angle=GetSlideAngle(dx,dy);if(angle>=-45&&angle<45){result=4}else{if(angle>=45&&angle<135){result=1}else{if(angle>=-135&&angle<-45){result=2}else{if((angle>=135&&angle<=180)||(angle>=-180&&angle<-135)){result=3}}}}return result};var getTranslateY=function(eml){var matrix=$(eml).css("transform");var T;if(matrix=="none"){T=0}else{var arr=matrix.split(",");T=-(arr[5].split(")")[0])}return T};sjObj.innt=function(){if(!sjObj.opt.alwaysShow){$(this).unbind("click");$(this).on("click",function(e){e.stopPropagation();sjObj.opt.thisElm=this;switch(sjObj.opt.type){case"time":$(this).blur();sjObj.opt.getYear();sjObj.opt.buildHTml();sjObj.opt.getFinal();break}})}else{sjObj.opt.thisElm=this;sjObj.opt.getYear();sjObj.opt.buildHTml()}$(window).on("resize",function(){sjObj.opt.setCenter()})};sjObj.innt();return sjObj}if(this.length>1){var arr=[];$.each(this,function(){arr.push(cPlugin(this,true))});return arr}else{var obj=cPlugin(this);return obj}}}(jQuery));(function($){var jet={},regymdzz="YYYY|MM|DD|hh|mm|ss|zz",gr=/\-/g,parseInt=function(n){return window.parseInt(n,10)},config={skinCell:"",language:{},range:false,onClose:false,trigger:"click",format:"YYYY-MM-DD",minDate:"1900-01-01",maxDate:"2099-12-31"};$.fn.Andrew_MultiDate=function(options){return new Andrew_MultiDate($(this),options||{})};$.extend({Andrew_MultiDate:function(elem,options){return new Andrew_MultiDate($(elem),options||{})}});jet.isObj=function(obj){for(var i in obj){return true}return false};jet.reMatch=function(str){return str.match(/\w+|d+/g)};jet.docScroll=function(type){type=type?"scrollLeft":"scrollTop";return document.body[type]|document.documentElement[type]};jet.docArea=function(type){return document.documentElement[type?"clientWidth":"clientHeight"]};jet.isLeap=function(y){return(y%100!==0&&y%4===0)||(y%400===0)};jet.digit=function(num){return num<10?"0"+(num|0):num};jet.isNum=function(value){return/^[+-]?\d*\.?\d*$/.test(value)?true:false};jet.getDaysNum=function(y,m){var num=31;switch(parseInt(m)){case 2:num=jet.isLeap(y)?29:28;break;case 4:case 6:case 9:case 11:num=30;break}return num};jet.getYM=function(y,m,n){var nd=new Date(y,m-1);nd.setMonth(m-1+n);return{y:nd.getFullYear(),m:nd.getMonth()+1}};jet.prevMonth=function(y,m,n){return jet.getYM(y,m,0-(n||1))};jet.nextMonth=function(y,m,n){return jet.getYM(y,m,n||1)};jet.parse=function(ymdhms,format){return format.replace(new RegExp(regymdzz,"g"),function(str,index){return str=="zz"?"00":jet.digit(ymdhms[str])})};jet.isparmat=function(format){var remat=jet.reMatch(format),mat=regymdzz.split("|"),tmpArr=[];$.each(mat,function(m,mval){$.each(remat,function(r,rval){if(mval==rval){tmpArr.push(rval)}})});return tmpArr.join("-")};jet.parseOld=function(ymd,hms,format){ymd=ymd.concat(hms);var ymdObj={},mat=regymdzz.split("|"),remat=jet.reMatch(format);$.each(ymd,function(i,val){ymdObj[remat[i]]=parseInt(val)});return format.replace(new RegExp(regymdzz,"g"),function(str,index){return str=="zz"?"00":jet.digit(ymdObj[str])})};jet.checkFormat=function(format){var ymdhms=[];format.replace(new RegExp(regymdzz,"g"),function(str,index){ymdhms.push(str)});return ymdhms.join("-")};jet.splMatch=function(str){var timeArr=str.split(" ");return jet.reMatch(timeArr[0])};jet.mlen=function(format){var matlen=format.match(/\w+|d+/g).length,mathh=(format.substring(0,2)=="hh"),lens=mathh&&matlen<=3?7:matlen;return lens};jet.checkDate=function(date){var dateArr=jet.reMatch(date);if(isNaN(dateArr[0])||isNaN(dateArr[1])||isNaN(dateArr[2])){return false}if(dateArr[1]>12||dateArr[1]<1){return false}if(dateArr[2]<1||dateArr[2]>31){return false}if((dateArr[1]==4||dateArr[1]==6||dateArr[1]==9||dateArr[1]==11)&&dateArr[2]>30){return false}if(dateArr[1]==2){if(dateArr[2]>29){return false}if((dateArr[0]%100==0&&dateArr[0]%400!=0||dateArr[0]%4!=0)&&dateArr[2]>28){return false}}return true};function DateTime(){var ND=new Date(),that=this;that.reDate=function(){return new DateTime()};that.GetValue=function(){return ND};that.GetFullYear=function(){return ND.getFullYear()};that.GetMonth=function(){return ND.getMonth()+1};that.GetHours=function(){return ND.getHours()};that.GetDate=function(){return ND.getDate()};that.GetMinutes=function(){return ND.getMinutes()};that.GetSeconds=function(){return ND.getSeconds()}}jet.GetDateTime=function(obj,format){format=format||"YYYY-MM-DD";var objVal=$.extend({YYYY:null,MM:null,DD:null},obj),matArr={YYYY:"FullYear",MM:"Month",DD:"Date"};var result=new DateTime().reDate();$.each(["DD","MM","YYYY"],function(i,mat){if(!jet.isNum(parseInt(objVal[mat]))){return null}var reVal=result.GetValue();if(parseInt(objVal[mat])||parseInt(objVal[mat])==0){reVal["set"+matArr[mat]](result["Get"+matArr[mat]]()+(mat=="MM"?-1:0)+parseInt(objVal[mat]))}});var reParse=jet.parse({YYYY:result.GetFullYear(),MM:result.GetMonth(),DD:result.GetDate(),hh:result.GetHours(),mm:result.GetMinutes(),ss:result.GetSeconds()},format);return reParse};jet.isValHtml=function(elem){return/textarea|input/.test(elem[0].tagName.toLocaleLowerCase())};jet.isBool=function(obj){return(obj==undefined||obj==true?true:false)};var searandom=function(){var str="",arr=[1,2,3,4,5,6,7,8,9,0];for(var i=0;i<8;i++){str+=arr[Math.round(Math.random()*(arr.length-1))]}return str};function Andrew_MultiDate(elem,opts){this.opts=opts;this.valCell=elem;this.format=this.opts.format;this.initdates()}var jedfn=Andrew_MultiDate.prototype,jefix="jefixed",matArr=jet.reMatch(regymdzz);jedfn.initdates=function(){var that=this,opts=that.opts,newDate=new Date(),jetrigger=opts.trigger!=undefined?opts.trigger:config.trigger,zIndex=opts.zIndex==undefined?20:opts.zIndex,isinitVal=(opts.isinitVal==undefined||opts.isinitVal==false)?false:true;var randomCell="#ak-MultiDate"+searandom(),isShow=jet.isBool(opts.isShow);that.areaVal=[];opts.range=opts.range||config.range;opts.onClose=opts.onClose||config.onClose;that.fixed=jet.isBool(opts.fixed);var formatDate=function(cls,boxcell){var dateDiv=$("<div/>",{"id":boxcell.replace(/\#/g,""),"class":"ak-MultiDate"+(opts.skinCell||config.skinCell)}),reabsfix=!isShow?"relative":(that.fixed==true?"fixed":"absolute");dateDiv.css({"z-index":boxcell!="#ak-MultiDate"?"":zIndex,"position":reabsfix,"width":"100%"});if(boxcell!="#ak-MultiDate"){dateDiv.attr({"jeformat":opts.format||config.format,"jefixed":randomCell})}var min=config.minDate.split(" "),max=config.maxDate.split(" ");jet.minDate=(!/\-/g.test(opts.minDate)&&opts.minDate!=undefined?min[0]+" "+opts.minDate:opts.minDate)||config.minDate;jet.maxDate=(!/\-/g.test(opts.maxDate)&&opts.maxDate!=undefined?max[0]+" "+opts.maxDate:opts.maxDate)||config.maxDate;jet.boxelem=!isShow?boxcell:"#ak-MultiDate";that.format=!isShow?dateDiv.attr("jeformat"):(opts.format||config.format);var vals=that.getValue({});$(cls).append(dateDiv);document.activeElement.blur();if($("#multi_mask").length<1){$("body").append('<div id="multi_mask" class="ak-mask"></div>');$("#multi_mask").show()}that.renderHtml(vals[0].YYYY,vals[0].MM,vals[0].DD,opts,jet.boxelem)};if(isinitVal&&jetrigger){var ndate=opts.initDate||[],reVal;if(ndate[1]){var addval=jet.reMatch(jet.GetDateTime(ndate[0]));reVal=[{YYYY:addval[0],MM:jet.digit(addval[1]),DD:jet.digit(addval[2]),hh:jet.digit(addval[3]),mm:jet.digit(addval[4]),ss:jet.digit(addval[5])}]}else{reVal=that.getValue(jet.isObj(ndate[0])?ndate[0]:{})}that.setValue(reVal[0],opts.format||config.format)}if(!isShow){formatDate(that.valCell,randomCell)}else{var jd=["body","#ak-MultiDate"];if(jetrigger){that.valCell.on(jetrigger,function(ev){ev.stopPropagation();if($(jd[1]).length>0){return}formatDate(jd[0],jd[1]);$(jd[1]).slideDown()})}else{if($(jd[1]).length>0){return}formatDate(jd[0],jd[1]);$(jd[1]).slideDown()}}};jedfn.parseFormat=function(ymdhms,format){return jet.parse(ymdhms,format)};jedfn.parseValue=function(fnStr,matStr){var that=this,valArr=[],opts=that.opts,setVal="",elm=$(jet.boxelem),formats=matStr==undefined?($(elm.attr(jefix)).length>0?elm.attr("jeformat"):that.format):matStr,dateStr=$.isFunction(fnStr)?fnStr():fnStr;if(dateStr!=""||dateStr.length>0){var unrange=opts.range!=false,rangeArr=new Array(unrange?2:1);$.each(rangeArr,function(i){var rangLen=rangeArr.length==2,ymdObj={},parmat=jet.reMatch(formats),ranArr=rangLen?dateStr.split(opts.range):dateStr;if(rangLen){$.each(jet.reMatch(ranArr[i]),function(r,val){ymdObj[jet.mlen(that.format)==7?parmat[r]:matArr[r]]=val})}valArr.push(that.parseFormat((rangLen?ymdObj:ranArr),formats));ymdObj={}});setVal=valArr.join(unrange?opts.range:"")}return setVal};jedfn.setValue=function(fnStr,matStr,bool){var that=this,elCell=that.valCell,strVal;if((typeof fnStr=="string")&&fnStr!=""&&that.opts.range==false){var reVal=jet.reMatch(fnStr),inObj={};$.each(jet.reMatch(that.format),function(r,val){inObj[val]=parseInt(reVal[r])});strVal=inObj}else{strVal=fnStr}var type=jet.isValHtml(elCell)?"val":"text",vals=that.parseValue(strVal,matStr);that.valCell.next("label").hide();if(bool!=false){elCell[type](vals)}return vals};jedfn.getValue=function(valobj){var that=this,objCell=that.valCell,opts=that.opts,reObj,result=new DateTime().reDate(),dateY=result.GetFullYear(),dateM=result.GetMonth(),dateD=result.GetDate();if(valobj==undefined&&jet.isBool(opts.isShow)){var type=jet.isValHtml(objCell)?"val":"text";reObj=objCell[type]()}else{var isValShow=jet.isBool(opts.isShow)?(that.getValue()==""):!jet.isBool(opts.isShow),objarr=$.extend({YYYY:null,MM:null,DD:null},valobj||{}),ranMat=[],newArr=new Array(2),unObj=function(obj){return[(objarr[obj]==undefined||objarr[obj]==null),objarr[obj]]},defObj=[{YYYY:dateY,MM:dateM,DD:dateD},{YYYY:dateY,MM:dateM,DD:dateD}];if(isValShow){$.each(newArr,function(i){var inObj={};$.each(matArr,function(r,val){inObj[val]=parseInt(unObj(val)[0]?defObj[i][val]:unObj(val)[1])});ranMat.push($.extend(defObj[i],inObj))})}else{var isunRange=opts.range!=false,initVal=that.getValue(),spVal=initVal.split(opts.range),reMat=jet.reMatch(that.format);$.each(newArr,function(i){var inObj={},reVal=isunRange?jet.reMatch(spVal[i]):jet.reMatch(initVal);$.each(reMat,function(r,val){inObj[val]=parseInt(reVal[r])});var exVal=$.extend(inObj,valobj||{});ranMat.push($.extend(defObj[i],exVal))})}reObj=ranMat}return reObj};jedfn.renderHtml=function(ys,ms,ds,opts,boxcls){var that=this,boxCell=$(boxcls),isShow=jet.isBool(opts.isShow);var allvals=that.getValue({YYYY:ys,MM:ms,DD:ds}),vals=allvals[0],valx=allvals[1];that.format=isShow?that.format:boxCell.attr("jeformat");var mlens=jet.mlen(that.format),testhh=/\hh/.test(that.format);var headcon="<div class='arthead bg_title'></div><div class='artcont'></div>",artcont=$("<div/>",{"class":"maincont"}),footer=$("<div/>",{"class":"mainfoot"}),daycon=$("<div/>",{"class":"daybox"}).append(headcon),ymscon=$("<div/>",{"class":"ymsbox"}).append(headcon);artcont.append(ymscon).append(daycon);boxCell.empty().append(artcont.children().hide()).append(footer);boxCell.append($("<div/>",{"class":"ak-MultiDate-tips"}).hide());that.maincon=function(elem,is){return boxCell.find(elem+" > "+(is==0?".arthead":".artcont"))};if(mlens==7){that.eachHms(opts,boxCell)}else{if(mlens>=3&&mlens<=6){that.maincon(".daybox",0).append('<button class="yearprev yprev bg_title"></button><button class="monthprev mprev bg_title"></button><button class="monthnext mnext bg_title"></button><button class="yearnext ynext bg_title"></button>');boxCell.find(".daybox").show();that.eachDays(vals.YYYY,vals.MM,vals.DD,opts,boxCell);that.maincon(".ymsbox",0).append('<button class="yearprev yprev bg_title"></button><button class="yearnext ynext bg_title"></button><button class="close bg_title"></button>').addClass("ymfix");that.eachYM(vals.YYYY,vals.MM,opts,boxCell,".fixcon")}}if(mlens==1||mlens==2){that.maincon(".ymsbox",0).append('<button class="yearprev yprev bg_title"></button><button class="yearnext ynext bg_title"></button>');boxCell.find(".ymsbox").show();that.eachYM(vals.YYYY,vals.MM,opts,boxCell,".ak-MultiDate-cont")}if(!isShow){footer.find(".today").hide()}that.eventsDate(opts,boxCell);setTimeout(function(){opts.success&&opts.success(boxCell)},50)};jedfn.createYMHtml=function(ys,ms,opts){var year=parseInt(ys),month=parseInt(ms),headCls=this.maincon(".daybox",0);if(month<10){var month="0"+month}var ymCls=$("<p class='dis_block ovh w_100 h_in'/>").css({"width":jet.isBool(opts.multiPane)?"":"50%"}),ymText="<button type='button' class='ymbtn bg_title'>"+year+"-"+month+"</button>";headCls.append(ymCls.html(ymText));return year+"-"+month};jedfn.eachYM=function(y,m,opts,boxCell,clsCell){var that=this,yearArr=new Array(15),date=new Date(),lang=opts.language||config.language,ymscon=that.maincon(".ymsbox",1),multiPane=jet.isBool(opts.multiPane),mlens=jet.mlen(that.format),ymarr=that.getValue({}),testhh=/\hh/.test(that.format),formatYY=mlens==1;if(ymscon.find(".ymcon").length>0){ymscon.find(".ymcon").remove()}$.each(new Array(multiPane?1:2),function(s){var retSetCls=function(sym,gym,eym){var sval=sym.replace(gr,""),gval=gym.replace(gr,""),eval=eym.replace(gr,"");if(/YYYY-MM-DD/g.test(jet.isparmat(that.format))){return(parseInt(sval)==parseInt(gval))?(s==0?"actdate bg_title":""):""}else{if(parseInt(sval)==parseInt(gval)){if(!testhh){that.areaVal.push(sym);that.areaStart=true}return"actdate bg_title"}else{if(parseInt(sval)>parseInt(gval)&&parseInt(sval)<parseInt(eval)){return"contain"}else{if(parseInt(sval)==parseInt(eval)){if(!testhh){that.areaVal.push(sym);that.areaStart=true}return"actdate bg_title"}else{return""}}}}};var ymDiv=$("<div/>",{"class":"ymcon"}).addClass(s==1?"spaer":""),ymArr=[];$.each(formatYY?yearArr:lang.month,function(n,val){var ym=s==1?y+(formatYY?yearArr.length:1):y,seCls;n=s==1?(formatYY?15+n:12+n):n;if(formatYY){var minArr=jet.splMatch(jet.minDate),maxArr=jet.splMatch(jet.maxDate),minY=minArr[0],maxY=maxArr[0],year=(ym-7+n),getyear=(that.getValue()==""&&jet.isBool(opts.isShow))?date.getFullYear():that.getValue();if(year<minY||year>maxY){ymArr.push({style:"disabled",ym:year,idx:n})}else{seCls=retSetCls(year.toString(),getyear.toString(),ymarr[1].YYYY.toString());ymArr.push({style:seCls,ym:year,idx:n})}}else{var minArr=jet.splMatch(jet.minDate),maxArr=jet.splMatch(jet.maxDate),thisDate=parseInt(ym+""+jet.digit(val)+""+"01"),minTime=parseInt(minArr[0]+""+jet.digit(minArr[1])+""+jet.digit(minArr[2])),maxTime=parseInt(maxArr[0]+""+jet.digit(maxArr[1])+""+jet.digit(maxArr[2]));if(thisDate<minTime||thisDate>maxTime){ymArr.push({style:"disabled",ym:ym+"-"+jet.digit(val),idx:n})}else{var ymVal=ym+"-"+jet.digit(val),ymmVal=ymarr[0].YYYY+"-"+jet.digit(ymarr[0].MM);seCls=retSetCls(ymVal,ymmVal,(ymarr[1].YYYY+"-"+jet.digit(ymarr[1].MM)));ymArr.push({style:seCls,ym:ym+"-"+jet.digit(val),idx:n})}}});var table=$("<table/>",{"class":formatYY?"yul":"ymul"});$.each(new Array(formatYY?5:4),function(i){var tr=$("<tr/>");$.each(new Array(3),function(){var td=$("<td/>");table.append(tr.append(td))})});$.each(ymArr,function(i,val){table.find("td").eq(i).addClass(val.style).attr({idx:val.idx,"je-val":val.ym}).html(val.ym)});ymscon.append(ymDiv.append(table))});var contd=ymscon.find("td"),ymstit=that.maincon(".ymsbox",0),eqNum=formatYY?(multiPane?15-1:15*2-1):(multiPane?12-1:12*2-1),sval=contd.eq(0).text(),eval=contd.eq(eqNum).text();var mnx=[(formatYY?sval:sval.substring(0,4)),(formatYY?eval:eval.substring(0,4))];ymstit.find("p").remove();ymstit.append("<p>"+sval+" ~ "+eval+"</p>").attr({min:mnx[0],max:mnx[1]})};jedfn.dateRegExp=function(valArr){var enval=valArr.split(",")||[],re="";var doExp=function(val){var arr,tmpEval,re=/#?\{(.*?)\}/;val=val+"";while((arr=re.exec(val))!=null){arr.lastIndex=arr.index+arr[1].length+arr[0].length-arr[1].length-1;tmpEval=parseInt(eval(arr[1]));if(tmpEval<0){tmpEval="9700"+-tmpEval}val=val.substring(0,arr.index)+tmpEval+val.substring(arr.lastIndex+1)}return val};if(enval&&enval.length>0){for(var i=0;i<enval.length;i++){re+=doExp(enval[i]);if(i!=enval.length-1){re+="|"}}re=re?new RegExp("(?:"+re+")"):null}else{re=null}return re};jedfn.eachDays=function(ys,ms,ds,opts,boxCell){var that=this,isShow=jet.isBool(opts.isShow);var year=parseInt(ys),month=parseInt(ms),objCell=that.valCell,lang=opts.language||config.language,endval=opts.valiDate||[],minArr=jet.reMatch(jet.minDate),minNum=parseInt(minArr[0]+""+jet.digit(minArr[1])+""+jet.digit(minArr[2])),maxArr=jet.reMatch(jet.maxDate),maxNum=parseInt(maxArr[0]+""+jet.digit(maxArr[1])+""+jet.digit(maxArr[2]));var multiPane=jet.isBool(opts.multiPane),ymdarr=that.getValue(!isShow?{YYYY:ys,MM:ms,DD:ds}:{}),valrange=((objCell.val()||objCell.text())!="")&&opts.range!=false,ymdDate=parseInt(ymdarr[0].YYYY+""+jet.digit(ymdarr[0].MM)+""+jet.digit(ymdarr[0].DD));var setMark=function(my,mm,md){var Marks=opts.marks,contains=function(arr,obj){var len=arr.length;while(len--){if(arr[len]===obj){return true}}return false};return $.isArray(Marks)&&Marks.length>0&&contains(Marks,my+"-"+jet.digit(mm)+"-"+jet.digit(md))?'<i class="marks"></i>':""};var isfestival=function(y,m,d){var festivalStr;if(opts.festival==true&&lang.name=="cn"){var lunar=that.jeLunar(y,m-1,d),feslunar=(lunar.solarFestival||lunar.lunarFestival),lunartext=(feslunar&&lunar.jieqi)!=""?feslunar:(lunar.jieqi||lunar.showInLunar);festivalStr='<p><span class="solar">'+d+'</span><span class="lunar">'+lunartext+"</span></p>"}else{festivalStr='<p class="nolunar">'+d+"</p>"}return festivalStr};var dateLimit=function(Y,M,D,isMonth){var thatNum=parseInt(Y+""+jet.digit(M)+""+jet.digit(D));if(isMonth){if(thatNum>=minNum&&thatNum<=maxNum){return true}}else{if(minNum>thatNum||maxNum<thatNum){return true}}};var eachDays=function(yd,md){var count=0,daysArr=[],firstWeek=new Date(yd,md-1,1).getDay()||7,daysNum=jet.getDaysNum(yd,md),didx=0,prevM=jet.prevMonth(yd,md),prevDaysNum=jet.getDaysNum(yd,prevM.m),nextM=jet.nextMonth(yd,md);for(var p=prevDaysNum-firstWeek+1;p<=prevDaysNum;p++,count++){var pmark=setMark(prevM.y,prevM.m,p);var cls=dateLimit(prevM.y,prevM.m,p,false)?"disabled":"other";daysArr.push({style:cls,ymd:prevM.y+"-"+prevM.m+"-"+p,day:p,d:(isfestival(prevM.y,prevM.m,p)+pmark),idx:didx++})}for(var b=1;b<=daysNum;b++,count++){var bmark=setMark(yd,md,b),cls="";var dateval=parseInt(yd+""+jet.digit(md)+""+jet.digit(b)),rangval=parseInt(ymdarr[1].YYYY+""+jet.digit(ymdarr[1].MM)+""+jet.digit(ymdarr[1].DD)),parsdate=dateval>ymdDate,rangdate=dateval<rangval;if(dateLimit(yd,md,b,true)){if(dateval==ymdDate){cls="actdate bg_title";that.areaVal.push(yd+"-"+jet.digit(md)+"-"+jet.digit(b));that.areaStart=true}else{if(parsdate&&rangdate&&valrange){cls="contain"}else{if((dateval==rangval)&&valrange){cls="actdate bg_title";that.areaVal.push(yd+"-"+jet.digit(md)+"-"+jet.digit(b));that.areaEnd=true}else{cls=""}}}}else{cls="disabled"}daysArr.push({style:cls,ymd:yd+"-"+md+"-"+b,day:b,d:(isfestival(yd,md,b)+bmark),idx:didx++})}for(var n=1,nlen=42-count;n<=nlen;n++){var nmark=setMark(nextM.y,nextM.m,n);var cls=dateLimit(nextM.y,nextM.m,n,false)?"disabled":"other";daysArr.push({style:cls,ymd:nextM.y+"-"+nextM.m+"-"+n,day:n,d:(isfestival(nextM.y,nextM.m,n)+nmark),idx:didx++})}return daysArr};var valdigit=function(val){var spval=jet.reMatch(val),rearr=[];$.each(spval,function(i,v){rearr.push(jet.digit(v))});return rearr.join("-")};var moreArr=new Array(multiPane?1:2),isDec=(month+1>12),ymarr=[];$.each(moreArr,function(d,val){var table=$("<table/>",{"class":"daysul"}),thead=$("<thead/>"),tbody=$("<tbody/>"),t=d==1?42:0;table.append(thead).append(tbody);$.each(new Array(7),function(i){var tr=$("<tr/>");$.each(new Array(7),function(){var th=$("<th/>"),td=$("<td/>");tr.append(i==0?th:td.attr("idx",t++));i==0?thead.append(tr):tbody.append(tr)})});var nian=(isDec&&d==1)?year+1:year,yue=(isDec&&d==1)?1:(d==1?month+1:month);var arrDay=eachDays(nian,yue);var moreCls=$("<div/>",{"class":"contlist"});$.each(lang.weeks,function(i,val){table.find("th").eq(i).text(val)});ymarr.push(that.createYMHtml(nian,yue,opts));$.each(arrDay,function(i,val){var clsVal=val.style;if(endval.length>0&&endval[0]!=""){if(/\%/g.test(endval[0])){var reval=endval[0].replace(/\%/g,"").split(","),enArr=[];$.each(reval,function(r,rel){enArr.push(jet.digit(parseInt(rel)))});var isfind=$.inArray(jet.digit(val.day),enArr)==-1;clsVal=jet.isBool(endval[1])?(isfind?"disabled":clsVal):(isfind?clsVal:"disabled")}else{var valreg=that.dateRegExp(endval[0]),regday=valreg.test(jet.digit(val.day));clsVal=jet.isBool(endval[1])?(regday?"disabled":val.style):(regday?val.style:"disabled")}}table.find("td").eq(i).addClass(clsVal).attr("je-val",valdigit(val.ymd)).html(val.d)});that.maincon(".daybox",1).append(moreCls.append(table)).addClass(d==1?"spaer":"")});that.maincon(".daybox",0).attr("je-ym",ymarr.join(","))};jedfn.eventsDate=function(opts,boxCell){var that=this,multiPane=jet.isBool(opts.multiPane);that.clickYM(opts,boxCell);that.clickDays(opts,boxCell);if(jet.isBool(opts.isShow)){var datepos=opts.position||[];if(datepos.length>0){boxCell.css({"top":datepos[0],"left":datepos[1]})}else{that.dateOrien(boxCell,that.valCell);$(window).on("resize",function(){that.dateOrien(boxCell,that.valCell)})}}$("#multi_mask").unbind("click");$("#multi_mask").on("click",function(){if(jet.boxelem=="#ak-MultiDate"){var box=$(jet.boxelem);if(box.length>0){$(jet.boxelem).slideUp();setTimeout(function(){that.dateClose()},500)}if($("#ak-MultiDate_tipscon").length>0){$("#ak-MultiDate_tipscon").remove()}delete that.areaStart;delete that.areaEnd;that.areaVal=[]}})};jedfn.clickYM=function(opts,boxCell){var that=this,ymhead=that.maincon(".ymsbox",0),elemCell=that.valCell,yPre=ymhead.find(".yprev"),yNext=ymhead.find(".ynext"),ymdhead=that.maincon(".daybox",0),isShow=jet.isBool(opts.isShow),ydPre=ymdhead.find(".yprev"),ydNext=ymdhead.find(".ynext"),mdPre=ymdhead.find(".mprev"),mdNext=ymdhead.find(".mnext"),mlens=jet.mlen(that.format),isYYMM=mlens==2,isYY=mlens==1;var carr=["actdate","contain"],ymDate=new Date();var clickYmSelected=function(){var ulCell=that.maincon(".ymsbox",1).find(".ymcon"),tdCell=ulCell.find("td");tdCell.unbind("click");tdCell.on("click",function(){var lithis=$(this),thisdate=lithis.attr("je-val");if(lithis.hasClass("disabled")){return}if(opts.range==false){tdCell.removeClass(carr[0]);lithis.addClass(carr[0]);that.maincon(".ymsbox",0).attr("data-val",lithis.text())}else{if(that.areaStart&&that.areaEnd==undefined){lithis.addClass(carr[0]);that.areaEnd=true;that.areaVal.push(thisdate);tdCell.each(function(){var sefl=$(this),seVals=sefl.attr("je-val").replace(gr,""),rearea=[that.areaVal[0].replace(gr,""),that.areaVal[1].replace(gr,"")],minVal=Math.min.apply(null,rearea),maxVal=Math.max.apply(null,rearea);if(!sefl.hasClass("other")){var contrast=parseInt(seVals)>parseInt(minVal)&&parseInt(seVals)<parseInt(maxVal);if(contrast){sefl.addClass(carr[1])}}})}else{if(that.areaStart&&that.areaEnd){that.delAreaAttr();tdCell.removeClass(carr[0]).removeClass(carr[1]);lithis.addClass(carr[0]);that.areaVal.push(thisdate);that.areaStart=true}}}})};if(isYYMM||isYY){clickYmSelected();$.each([yPre,yNext],function(ym,cls){cls.unbind("click");cls.on("click",function(ev){var cthat=$(this),ymMonth=ymDate.getMonth()+1,ymMin=parseInt(cthat.parent().attr("min")),ymMax=parseInt(cthat.parent().attr("max"));var ymYear=isYY?(ym==0?ymMin:ymMax):(ym==0?--ymMin:++ymMax);that.renderHtml(ymYear,ymMonth,null,opts,boxCell);if(opts.range==false){var ymobj=isYY?{YYYY:ymYear}:{YYYY:ymYear,MM:ymMonth};var value=that.parseValue(ymobj),date={YYYY:ymYear,MM:ymMonth,DD:ymDate.getDate(),hh:ymDate.getHours(),mm:ymDate.getMinutes(),ss:ymDate.getSeconds()};if($.isFunction(opts.toggle)){opts.toggle(elemCell,value,date)}}})})}else{$.each([ydPre,ydNext],function(y,cls){cls.unbind("click");cls.on("click",function(ev){ev.stopPropagation();var gym=jet.reMatch($(this).parent().attr("je-ym"));var year=parseInt(gym[0]),month=parseInt(gym[1]),pnYear=y==0?--year:++year;that.renderHtml(pnYear,month,null,opts,boxCell);if(opts.range==false){var gv=that.getValue({})[0];var value=that.parseValue({YYYY:pnYear,MM:month,DD:gv.DD}),dateobj={YYYY:pnYear,MM:month,DD:ymDate.getDate(),hh:ymDate.getHours(),mm:ymDate.getMinutes(),ss:ymDate.getSeconds()};if($.isFunction(opts.toggle)){opts.toggle({elem:elemCell,val:value,date:dateobj})}}})});$.each([mdPre,mdNext],function(m,cls){cls.unbind("click");cls.on("click",function(ev){ev.stopPropagation();var gym=jet.reMatch($(this).parent().attr("je-ym"));var year=parseInt(gym[0]),month=parseInt(gym[1]),PrevYM=jet.prevMonth(year,month),NextYM=jet.nextMonth(year,month);m==0?that.renderHtml(PrevYM.y,PrevYM.m,null,opts,boxCell):that.renderHtml(NextYM.y,NextYM.m,null,opts,boxCell);var yearVal=m==0?PrevYM.y:NextYM.y,monthVal=m==0?PrevYM.m:NextYM.m;if(opts.range==false){var gv=that.getValue({})[0];var value=that.parseValue({YYYY:yearVal,MM:monthVal,DD:gv.DD}),dateobj={YYYY:yearVal,MM:monthVal,DD:ymDate.getDate(),hh:ymDate.getHours(),mm:ymDate.getMinutes(),ss:ymDate.getSeconds()};if($.isFunction(opts.toggle)){opts.toggle({elem:elemCell,val:value,date:dateobj})}}})})}if(mlens>=3&&mlens<=6){that.maincon(".daybox",0).on("click",".ymbtn",function(ev){boxCell.children(".ymsbox").show();boxCell.children(".daybox").hide();if(isShow){that.dateOrien(boxCell,that.valCell)}});var aloneSelym=function(){var ulCell=boxCell.find(".ymcon"),tdCell=ulCell.find("td");tdCell.unbind("click");tdCell.on("click",function(){var sefl=$(this),seval=jet.reMatch(sefl.attr("je-val"));tdCell.removeClass(carr[0]);sefl.addClass(carr[0]);boxCell.children(".ak-MultiDate-contfix").show();boxCell.children(".ak-MultiDate-ak-MultiDatewrap").hide();that.renderHtml(seval[0],seval[1],null,opts,boxCell)})};$.each([yPre,yNext],function(ym,cls){cls.unbind("click");cls.on("click",function(ev){var ymMonth=ymDate.getMonth()+1,ymMin=parseInt($(this).parent().attr("min")),ymMax=parseInt($(this).parent().attr("max"));var ymYear=isYY?(ym==0?ymMin:ymMax):(ym==0?--ymMin:++ymMax);that.eachYM(ymYear,ymMonth,opts,boxCell,".ak-MultiDate-contfix");aloneSelym();if(isShow){that.dateOrien(boxCell,that.valCell)}if($.isFunction(opts.toggle)){opts.toggle()}})});ymhead.find(".close").unbind("click");ymhead.on("click",".close",function(ev){boxCell.children(".daybox").show();boxCell.children(".ymsbox").hide();if(isShow){that.dateOrien(boxCell,that.valCell)}});aloneSelym()}};jedfn.clickDays=function(opts,boxCell){var that=this,elemCell=that.valCell,valStr="je-val",ulCls=boxCell.find(".daysul"),tdCls=ulCls.find("td"),lang=opts.language||config.language,carr=["actdate bg_title","contain"];tdCls.unbind("click");tdCls.on("click",function(ev){var lithis=$(this),thisdate=lithis.attr(valStr),ymdArr=jet.reMatch(thisdate),dayArr=[];if(lithis.hasClass("disabled")){return}ev.stopPropagation();var aloneSelected=function(){$.each(ymdArr,function(i,val){dayArr.push(parseInt(val))});if($(boxCell.attr(jefix)).length>0){that.renderHtml(dayArr[0],dayArr[1],dayArr[2],opts,boxCell)}else{if(jet.isBool(opts.onClose)){tdCls.removeClass(carr[0]);lithis.addClass(carr[0])}else{var ymdObj={},spval=jet.reMatch(lithis.attr(valStr));$.each(spval,function(i,val){ymdObj[matArr[i]]=val});var objs=/\hh/.test(that.format)?$.extend(ymdObj,that.gethmsVal(boxCell)):ymdObj;var vals=that.setValue(objs);var box=$(jet.boxelem);if(box.length>0){$(jet.boxelem).slideUp();setTimeout(function(){that.dateClose()},500)}if($.isFunction(opts.okfun)||opts.okfun!=null){opts.okfun&&opts.okfun({elem:elemCell,val:vals,date:objs})}}}};var areaSelected=function(){if(that.areaStart&&that.areaEnd==undefined){lithis.addClass(carr[0]);that.areaEnd=true;that.areaVal.push(thisdate);tdCls.each(function(){var sefl=$(this),seVals=sefl.attr("je-val").replace(gr,""),rearea=[that.areaVal[0].replace(gr,""),that.areaVal[1].replace(gr,"")],minVal=Math.min.apply(null,rearea),maxVal=Math.max.apply(null,rearea);if(!sefl.hasClass("other")&&!sefl.hasClass("disabled")){var contrast=parseInt(seVals)>parseInt(minVal)&&parseInt(seVals)<parseInt(maxVal);if(contrast){sefl.addClass(carr[1])}}})}else{if(that.areaStart&&that.areaEnd){that.delAreaAttr();tdCls.removeClass(carr[0]).removeClass(carr[1]);lithis.addClass(carr[0]);that.areaVal.push(thisdate);that.areaStart=true}}};opts.range==false?aloneSelected():areaSelected()})};jedfn.locateScroll=function(cell){$.each(cell,function(){var hmsCls=$(this),achmsCls=hmsCls.find(".action");var acNUm=(achmsCls.length>0)?(achmsCls[0].offsetTop-114):0;hmsCls[0].scrollTop=acNUm})};jedfn.dateOrien=function(boxCls,valCls){boxCls.css({"bottom":0,"left":0})};jedfn.tips=function(text,time){var that=this,tipCls=$(jet.boxelem).find(".ak-MultiDate-tips");tipCls.html("").html(text||"").show();clearTimeout(that.tipTime);that.tipTime=setTimeout(function(){tipCls.html("").hide()},(time||2.5)*1000)};jedfn.dateClose=function(){if($($(jet.boxelem).attr(jefix)).length==0){$(jet.boxelem).remove()}$("#multi_mask").remove()};jedfn.dateContrast=function(ac,bc){var sarr=ac.split("-"),earr=bc.split("-"),start=parseInt(sarr[0]+""+jet.digit(parseInt(sarr[1])-1)+""+jet.digit(sarr[2]||"01")),end=parseInt(earr[0]+""+jet.digit(parseInt(earr[1])-1)+""+jet.digit(sarr[2]||"01"));return(start>=end)?false:true};jedfn.delAreaAttr=function(){delete this.areaStart;delete this.areaEnd;this.areaVal=[]};$.nowDate=function(str,format){format=format||"YYYY-MM-DD hh:mm:ss";if(typeof(str)==="number"){str={DD:str}}return jet.GetDateTime(str,format)};$.splitDate=function(str){var sdate=str.match(/\w+|d+/g);return{YYYY:parseInt(sdate[0]),MM:parseInt(sdate[1])||0,DD:parseInt(sdate[2])||0,hh:parseInt(sdate[3])||0,mm:parseInt(sdate[4])||0,ss:parseInt(sdate[5])||0}};$.getLunar=function(date,format){var that=this;format=format||"YYYY-MM-DD hh:mm:ss";if(/YYYY-MM-DD/g.test(jet.isparmat(format))){var charDate=date.substr(0,4).replace(/^(\d{4})/g,"$1,")+date.substr(4).replace(/(.{2})/g,"$1,"),reArr=jet.isNum(date)?jet.reMatch(charDate):jet.reMatch(date),lunars=that.jeLunar(reArr[0],reArr[1]-1,reArr[2]);return{nMonth:lunars.lnongMonth,nDays:lunars.lnongDate,yYear:parseInt(lunars.solarYear),yMonth:parseInt(lunars.solarMonth),yDays:parseInt(lunars.solarDate),cWeek:lunars.inWeekDays,nWeek:lunars.solarWeekDay}}};return Andrew_MultiDate}(jQuery));(function(V){function N(ah){return"string"==typeof ah}function af(ah){return"number"==typeof ah&&!isNaN(ah)}function M(ah){return"undefined"==typeof ah}function H(ah,ai){var aj=[];return af(ai)&&aj.push(ai),aj.slice.apply(ah,aj)}function I(ah,ai){var aj=H(arguments,2);return function(){return ah.apply(ai,aj.concat(H(arguments)))}}function ab(ah){var ai=[],al=ah.rotate,aj=ah.scaleX,ak=ah.scaleY;return af(al)&&ai.push("rotate("+al+"deg)"),af(aj)&&af(ak)&&ai.push("scale("+aj+","+ak+")"),ai.length?ai.join(" "):"none"}function C(ah){return ah.offsetWidth}function L(ah){return N(ah)?ah.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""}function F(ah,ai){var aj;return ah.naturalWidth?ai(ah.naturalWidth,ah.naturalHeight):(aj=document.createElement("img"),aj.onload=function(){ai(this.width,this.height)},void (aj.src=ah.src))}function ae(ai){var ak=ai.length,ah=0,aj=0;return ak&&(V.each(ai,function(al,am){ah+=am.pageX,aj+=am.pageY}),ah/=ak,aj/=ak),{pageX:ah,pageY:aj}}function ad(ah){switch(ah){case 2:return R;case 3:return W;case 4:return a}}function O(ai,ah){this.$element=V(ai),this.options=V.extend({},O.defaults,V.isPlainObject(ah)&&ah),this.isImg=!1,this.isBuilt=!1,this.isShown=!1,this.isViewed=!1,this.isFulled=!1,this.isPlayed=!1,this.wheeling=!1,this.playing=!1,this.fading=!1,this.tooltiping=!1,this.transitioning=!1,this.action=!1,this.target=!1,this.timeout=!1,this.index=0,this.length=0,this.init()}var G=V(window),P=V(document),A="viewer",B=document.createElement(A),Q="fix",J="scrolling",ac="dis_block_im",S="dis_none_im",R="ak-viewer-hide-xs-down",W="ak-viewer-hide-sm-down",a="ak-viewer-hide-md-down",T="ak-viewer-fade",d="ak-viewer-in",x="ak-viewer-move",E="ak-viewer-active",g="ak-viewer-invisible",w="ak-viewer-transition",o="ak-viewer-fullscreen",s="ak-viewer-fullscreen-exit",u="ak-viewer-close",c="img",r="mousedown touchstart pointerdown MSPointerDown",b="mousemove touchmove pointermove MSPointerMove",k="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",K="wheel mousewheel DOMMouseScroll",q="transitionend",l="load."+A,v="keydown."+A,aa="click."+A,D="resize."+A,Y="build."+A,Z="built."+A,f="show."+A,t="shown."+A,m="hide."+A,n="hidden."+A,y="view."+A,j="viewed."+A,p="undefined"!=typeof B.style.transition,e=Math.round,h=Math.sqrt,U=Math.abs,z=Math.min,ag=Math.max,X=Number;O.prototype={constructor:O,init:function(){var am=this.options,ak=this.$element,al=ak.is(c),ai=al?ak:ak.find(c),aj=ai.length,ah=V.proxy(this.ready,this);aj&&(V.isFunction(am.build)&&ak.one(Y,am.build),this.trigger(Y).isDefaultPrevented()||(p||(am.transition=!1),this.isImg=al,this.length=aj,this.count=0,this.$images=ai,this.$body=V("main"),am.inline?(ak.one(Z,V.proxy(function(){this.view()},this)),ai.each(function(){this.complete?ah():V(this).one(l,ah)})):ak.on(aa,V.proxy(this.start,this))))},ready:function(){this.count++,this.count===this.length&&this.build()},build:function(){var ao,ak,am,ai,aj,ah,an=this.options,al=this.$element;this.isBuilt||(this.$parent=ao=al.parent(),this.$viewer=ak=V(O.template),this.$canvas=ak.find(".ak-viewer-canvas"),this.$footer=ak.find(".ak-viewer-footer"),this.$title=am=ak.find(".ak-viewer-title"),this.$toolbar=ai=ak.find(".ak-viewer-toolbar"),this.$navbar=aj=ak.find(".ak-viewer-navbar"),this.$button=ah=ak.find(".ak-viewer-button"),this.$tooltip=ak.find(".ak-viewer-tooltip"),this.$player=ak.find(".ak-viewer-player"),this.$list=ak.find(".ak-viewer-list"),am.addClass(an.title?ad(an.title):S),ai.addClass(an.toolbar?ad(an.toolbar):S),ai.find("li[class*=zoom]").toggleClass(g,!an.zoomable),ai.find("li[class*=flip]").toggleClass(g,!an.scalable),an.rotatable||ai.find("li[class*=rotate]").addClass(g).appendTo(ai),aj.addClass(an.navbar?ad(an.navbar):S),an.inline?(ah.addClass(o),ak.css("z-index",an.zIndexInline),"static"===ao.css("position")&&ao.css("position","relative")):(ah.addClass(u),ak.css("z-index",an.zIndex).addClass([Q,T,S].join(" "))),V("body").append(ak),an.inline&&(this.render(),this.bind(),this.isShown=!0),this.isBuilt=!0,V.isFunction(an.built)&&al.one(Z,an.built),this.trigger(Z))},unbuild:function(){var ah=this.options,ai=this.$element;this.isBuilt&&(ah.inline&&ai.removeClass(S),this.$viewer.remove())},bind:function(){var ai=this.options,ah=this.$element;V.isFunction(ai.view)&&ah.on(y,ai.view),V.isFunction(ai.viewed)&&ah.on(j,ai.viewed),this.$viewer.on(aa,V.proxy(this.click,this)).on(K,V.proxy(this.wheel,this)),this.$canvas.on(r,V.proxy(this.mousedown,this)),P.on(b,this._mousemove=I(this.mousemove,this)).on(k,this._mouseup=I(this.mouseup,this)).on(v,this._keydown=I(this.keydown,this)),G.on(D,this._resize=I(this.resize,this))},unbind:function(){var ai=this.options,ah=this.$element;V.isFunction(ai.view)&&ah.off(y,ai.view),V.isFunction(ai.viewed)&&ah.off(j,ai.viewed),this.$viewer.off(aa,this.click).off(K,this.wheel),this.$canvas.off(r,this.mousedown),P.off(b,this._mousemove).off(k,this._mouseup).off(v,this._keydown),G.off(D,this._resize)},render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.container={width:G.innerWidth(),height:G.innerHeight()}},initViewer:function(){var ai,aj=this.options,ah=this.$parent;aj.inline&&(this.parent=ai={width:ag(ah.width(),aj.minWidth),height:ag(ah.height(),aj.minHeight)}),(this.isFulled||!ai)&&(ai=this.container),this.viewer=V.extend({},ai)},renderViewer:function(){this.options.inline&&!this.isFulled&&this.$viewer.css(this.viewer)},initList:function(){var ah=this.options,ai=this.$element,aj=this.$list,ak=[];this.$images.each(function(am){var al=this.src,ao=this.alt||L(al),an=ah.url;al&&(N(an)?an=this.getAttribute(an):V.isFunction(an)&&(an=an.call(this,this)),ak.push('<li><img src="'+al+'" data-action="view" data-index="'+am+'" data-original-url="'+(an||al)+'" alt="'+ao+'"></li>'))}),aj.html(ak.join("")).find(c).one(l,{filled:!0},V.proxy(this.loadImage,this)),this.$items=aj.children(),ah.transition&&ai.one(j,function(){aj.addClass(w)})},renderList:function(ah){var ai=ah||this.index,aj=this.$items.eq(ai).width(),ak=aj+1;this.$list.css({width:ak*(this.length+1),marginLeft:(this.viewer.width-aj)/2-ak*ai})},resetList:function(){this.$list.empty().removeClass(w).css("margin-left",0)},initImage:function(ao){var ak=this.options,am=this.$image,ai=this.viewer,aj=this.$footer.height(),ah=ai.width,an=ag(ai.height-aj,aj),al=this.image||{};F(am[0],V.proxy(function(ar,at){var aw,aq,ap=ar/at,au=ah,av=an;an*ap>ah?av=ah/ap:au=an*ap,au=z(0.9*au,ar),av=z(0.9*av,at),aq={naturalWidth:ar,naturalHeight:at,aspectRatio:ap,ratio:au/ar,width:au,height:av,left:(ah-au)/2,top:(an-av)/2},aw=V.extend({},aq),ak.rotatable&&(aq.rotate=al.rotate||0,aw.rotate=0),ak.scalable&&(aq.scaleX=al.scaleX||1,aq.scaleY=al.scaleY||1,aw.scaleX=1,aw.scaleY=1),this.image=aq,this.initialImage=aw,V.isFunction(ao)&&ao()},this))},renderImage:function(ai){var aj=this.image,ah=this.$image;ah.css({width:aj.width,height:aj.height,marginLeft:aj.left,marginTop:aj.top,transform:ab(aj)});V.isFunction(ai)&&(this.transitioning?ah.one(q,ai):ai())},resetImage:function(){this.$image.remove();this.$image=null},start:function(ai){var ah=ai.target;V(ah).is("img")&&(this.target=ah,this.show())},click:function(ai){var ak=V(ai.target),ah=ak.data("action"),aj=this.image;switch(ah){case"mix":this.isPlayed?this.stop():this.options.inline?this.isFulled?this.exit():this.full():this.hide();break;case"view":this.view(ak.data("index"));break;case"zoom-in":this.zoom(0.1,!0);break;case"zoom-out":this.zoom(-0.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev();break;case"play":this.play();break;case"next":this.next();break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-aj.scaleX||-1);break;case"flip-vertical":this.scaleY(-aj.scaleY||-1);break;default:this.isPlayed&&this.stop()}},load:function(){var ai=this.options,aj=this.viewer,ah=this.$image;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),ah.removeClass(g).css("cssText","width:0;height:0;margin-left:"+aj.width/2+"px;margin-top:"+aj.height/2+"px;max-width:none!important;visibility:visible;"),this.initImage(V.proxy(function(){ah.toggleClass(w,ai.transition).toggleClass(x,ai.movable),this.renderImage(V.proxy(function(){this.isViewed=!0,this.trigger(j)},this))},this))},loadImage:function(an){var ak=an.target,al=V(ak),ai=al.parent(),aj=ai.width(),ah=ai.height(),am=an.data&&an.data.filled;F(ak,function(ar,aq){var ao=ar/aq,at=aj,ap=ah;ah*ao>aj?am?at=ah*ao:ap=aj/ao:am?ap=aj/ao:at=ah*ao,al.css({width:at,height:ap,marginLeft:(aj-at)/2,marginTop:(ah-ap)/2})})},resize:function(){this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.initImage(V.proxy(function(){this.renderImage()},this)),this.isPlayed&&this.$player.find(c).one(l,V.proxy(this.loadImage,this)).trigger(l)},wheel:function(ai){var ak=ai.originalEvent||ai,ah=X(this.options.zoomRatio)||0.1,aj=1;this.isViewed&&(ai.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(V.proxy(function(){this.wheeling=!1},this),50),ak.deltaY?aj=ak.deltaY>0?1:-1:ak.wheelDelta?aj=-ak.wheelDelta/120:ak.detail&&(aj=ak.detail>0?1:-1),this.zoom(-aj*ah,!0,ai)))},keydown:function(ah){var ai=this.options,aj=ah.which;if(this.isFulled&&ai.keyboard){switch(aj){case 27:this.isPlayed?this.stop():ai.inline?this.isFulled&&this.exit():this.hide();break;case 32:this.isPlayed&&this.stop();break;case 37:this.prev();break;case 38:ah.preventDefault(),this.zoom(ai.zoomRatio,!0);break;case 39:this.next();break;case 40:ah.preventDefault(),this.zoom(-ai.zoomRatio,!0);break;case 48:case 49:(ah.ctrlKey||ah.shiftKey)&&(ah.preventDefault(),this.toggle())}}},mousedown:function(am){var an,ak=this.options,al=am.originalEvent,ai=al&&al.touches,aj=am,ah=ak.movable?"move":!1;if(this.isViewed){if(ai){if(an=ai.length,an>1){if(!ak.zoomable||2!==an){return}aj=ai[1],this.startX2=aj.pageX,this.startY2=aj.pageY,ah="zoom"}else{this.isSwitchable()&&(ah="switch")}aj=ai[0]}ah&&(am.preventDefault(),this.action=ah,this.startX=aj.pageX||al&&al.pageX,this.startY=aj.pageY||al&&al.pageY)}},mousemove:function(an){var ao,ak=this.options,al=this.action,ai=this.$image,aj=an.originalEvent,ah=aj&&aj.touches,am=an;if(this.isViewed){if(ah){if(ao=ah.length,ao>1){if(!ak.zoomable||2!==ao){return}am=ah[1],this.endX2=am.pageX,this.endY2=am.pageY}am=ah[0]}al&&(an.preventDefault(),"move"===al&&ak.transition&&ai.hasClass(w)&&ai.removeClass(w),this.endX=am.pageX||aj&&aj.pageX,this.endY=am.pageY||aj&&aj.pageY,this.change(an))}},mouseup:function(ah){var ai=this.action;ai&&(ah.preventDefault(),"move"===ai&&this.options.transition&&this.$image.addClass(w),this.action=!1)},show:function(){var ai,ah=this.options;ah.inline||this.transitioning||(this.isBuilt||this.build(),V.isFunction(ah.show)&&this.$element.one(f,ah.show),this.trigger(f).isDefaultPrevented()||(this.$body.removeClass(J),ai=this.$viewer.removeClass(S),this.$element.one(t,V.proxy(function(){this.view(this.target?this.$images.index(this.target):this.index),this.target=!1},this)),ah.transition?(this.transitioning=!0,ai.addClass(w),C(ai[0]),ai.one(q,V.proxy(this.shown,this)).addClass(d)):(ai.addClass(d),this.shown())))},hide:function(){var ai=this.options,ah=this.$viewer;ai.inline||this.transitioning||!this.isShown||(V.isFunction(ai.hide)&&this.$element.one(m,ai.hide),this.trigger(m).isDefaultPrevented()||(this.isViewed&&ai.transition?(this.transitioning=!0,this.$image.one(q,V.proxy(function(){ah.one(q,V.proxy(this.hidden,this)).removeClass(d)},this)),this.zoomTo(0,!1,!1,!0)):(ah.removeClass(d),this.hidden())))},view:function(an){var ak,al,ai,aj,ah,am=this.$title;an=Number(an)||0,!this.isShown||this.isPlayed||0>an||an>=this.length||this.isViewed&&an===this.index||this.trigger(y).isDefaultPrevented()||(al=this.$items.eq(an),ai=al.find(c),aj=ai.data("originalUrl"),ah=ai.attr("alt"),this.$image=ak=V('<img src="'+aj+'" alt="'+ah+'">'),this.isViewed&&this.$items.eq(this.index).removeClass(E),al.addClass(E),this.isViewed=!1,this.index=an,this.image=null,this.$canvas.html(ak.addClass(g)),this.renderList(),am.empty(),this.$element.one(j,V.proxy(function(){var aq=this.image,ap=aq.naturalWidth,ao=aq.naturalHeight;am.html(ah+" ("+ap+" &times; "+ao+")")},this)),ak[0].complete?this.load():(ak.one(l,V.proxy(this.load,this)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(V.proxy(function(){ak.removeClass(g),this.timeout=!1},this),1000)))},prev:function(){this.view(ag(this.index-1,0))},next:function(){this.view(z(this.index+1,this.length-1))},move:function(ah,ai){var aj=this.image;this.moveTo(M(ah)?ah:aj.left+X(ah),M(ai)?ai:aj.top+X(ai))},moveTo:function(ah,ai){var aj=this.image,ak=!1;M(ai)&&(ai=ah),ah=X(ah),ai=X(ai),this.isViewed&&!this.isPlayed&&this.options.movable&&(af(ah)&&(aj.left=ah,ak=!0),af(ai)&&(aj.top=ai,ak=!0),ak&&this.renderImage())},zoom:function(ah,ai,aj){var ak=this.image;ah=X(ah),ah=0>ah?1/(1-ah):1+ah,this.zoomTo(ak.width*ah/ak.naturalWidth,ai,aj)},zoomTo:function(al,ai,ah,ap){var aq,ar,aj,au,an,at=this.options,ak=0.01,ao=100,am=this.image,av=am.width,aw=am.height;al=ag(0,al),af(al)&&this.isViewed&&!this.isPlayed&&(ap||at.zoomable)&&(ap||(ak=ag(ak,at.minZoomRatio),ao=z(ao,at.maxZoomRatio),al=z(ag(al,ak),ao)),al>0.95&&1.05>al&&(al=1),ar=am.naturalWidth*al,aj=am.naturalHeight*al,ah&&(aq=ah.originalEvent)?(au=this.$viewer.offset(),an=aq.touches?ae(aq.touches):{pageX:ah.pageX||aq.pageX||0,pageY:ah.pageY||aq.pageY||0},am.left-=(ar-av)*((an.pageX-au.left-am.left)/av),am.top-=(aj-aw)*((an.pageY-au.top-am.top)/aw)):(am.left-=(ar-av)/2,am.top-=(aj-aw)/2),am.width=ar,am.height=aj,am.ratio=al,this.renderImage(),ai&&this.tooltip())},rotate:function(ah){this.rotateTo((this.image.rotate||0)+X(ah))},rotateTo:function(ah){var ai=this.image;ah=X(ah),af(ah)&&this.isViewed&&!this.isPlayed&&this.options.rotatable&&(ai.rotate=ah,this.renderImage())},scale:function(ah,ai){var aj=this.image,ak=!1;M(ai)&&(ai=ah),ah=X(ah),ai=X(ai),this.isViewed&&!this.isPlayed&&this.options.scalable&&(af(ah)&&(aj.scaleX=ah,ak=!0),af(ai)&&(aj.scaleY=ai,ak=!0),ak&&this.renderImage())},scaleX:function(ah){this.scale(ah,this.image.scaleY)},scaleY:function(ah){this.scale(this.image.scaleX,ah)},play:function(){var an,al=this.options,ai=this.$player,aj=V.proxy(this.loadImage,this),ah=[],am=0,ak=0;this.isShown&&!this.isPlayed&&(al.fullscreen&&this.requestFullscreen(),this.isPlayed=!0,ai.addClass(ac),this.$items.each(function(ar){var aq=V(this),ap=aq.find(c),ao=V('<img src="'+ap.data("originalUrl")+'" alt="'+ap.attr("alt")+'">');am++,ao.addClass(T).toggleClass(w,al.transition),aq.hasClass(E)&&(ao.addClass(d),ak=ar),ah.push(ao),ao.one(l,{filled:!1},aj),ai.append(ao)}),af(al.interval)&&al.interval>0&&(an=V.proxy(function(){this.playing=setTimeout(function(){ah[ak].removeClass(d),ak++,ak=am>ak?ak:0,ah[ak].addClass(d),an()},al.interval)},this),am>1&&an()))},stop:function(){this.isPlayed&&(this.options.fullscreen&&this.exitFullscreen(),this.isPlayed=!1,clearTimeout(this.playing),this.$player.removeClass(ac).empty())},full:function(){var ai=this.options,aj=this.$image,ah=this.$list;this.isShown&&!this.isPlayed&&!this.isFulled&&ai.inline&&(this.isFulled=!0,this.$body.removeClass(J),this.$button.addClass(s),ai.transition&&(aj.removeClass(w),ah.removeClass(w)),this.$viewer.addClass(Q).removeAttr("style").css("z-index",ai.zIndex),this.initContainer(),this.viewer=V.extend({},this.container),this.renderList(),this.initImage(V.proxy(function(){this.renderImage(function(){ai.transition&&setTimeout(function(){aj.addClass(w),ah.addClass(w)},0)})},this)))},exit:function(){var ai=this.options,aj=this.$image,ah=this.$list;this.isFulled&&(this.isFulled=!1,this.$body.removeClass(J),this.$button.removeClass(s),ai.transition&&(aj.removeClass(w),ah.removeClass(w)),this.$viewer.removeClass(Q).css("z-index",ai.zIndexInline),this.viewer=V.extend({},this.parent),this.renderViewer(),this.renderList(),this.initImage(V.proxy(function(){this.renderImage(function(){ai.transition&&setTimeout(function(){aj.addClass(w),ah.addClass(w)},0)})},this)))},tooltip:function(){var ai=this.options,ak=this.$tooltip,ah=this.image,aj=[ac,T,w].join(" ");this.isViewed&&!this.isPlayed&&ai.tooltip&&(ak.text(e(100*ah.ratio)+"%"),this.tooltiping?clearTimeout(this.tooltiping):ai.transition?(this.fading&&ak.trigger(q),ak.addClass(aj),C(ak[0]),ak.addClass(d)):ak.addClass(ac),this.tooltiping=setTimeout(V.proxy(function(){ai.transition?(ak.one(q,V.proxy(function(){ak.removeClass(aj),this.fading=!1},this)).removeClass(d),this.fading=!0):ak.removeClass(ac),this.tooltiping=!1},this),1000))},toggle:function(){1===this.image.ratio?this.zoomTo(this.initialImage.ratio,!0):this.zoomTo(1,!0)},reset:function(){this.isViewed&&!this.isPlayed&&(this.image=V.extend({},this.initialImage),this.renderImage())},update:function(){var ai,ak=this.$element,ah=this.$images,aj=[];if(this.isImg){if(!ak.parent().length){return this.destroy()}}else{this.$images=ah=ak.find(c),this.length=ah.length}this.isBuilt&&(V.each(this.$items,function(an){var am=V(this).find("img")[0],al=ah[an];al?al.src!==am.src&&aj.push(an):aj.push(an)}),this.$list.width("auto"),this.initList(),this.isShown&&(this.length?this.isViewed&&(ai=V.inArray(this.index,aj),ai>=0?(this.isViewed=!1,this.view(ag(this.index-(ai+1),0))):this.$items.eq(this.index).addClass(E)):(this.$image=null,this.isViewed=!1,this.index=0,this.image=null,this.$canvas.empty(),this.$title.empty())))},destroy:function(){var ah=this.$element;this.options.inline?this.unbind():(this.isShown&&this.unbind(),ah.off(aa,this.start)),this.unbuild(),ah.removeData(A)},trigger:function(ai,aj){var ah=V.Event(ai,aj);return this.$element.trigger(ah),ah},shown:function(){var ah=this.options;this.transitioning=!1,this.isFulled=!0,this.isShown=!0,this.isVisible=!0,this.render(),this.bind(),V.isFunction(ah.shown)&&this.$element.one(t,ah.shown),this.trigger(t)},hidden:function(){var ah=this.options;this.transitioning=!1,this.isViewed=!1,this.isFulled=!1,this.isShown=!1,this.isVisible=!1,this.unbind(),this.$body.addClass(J),this.$viewer.addClass(S),this.resetList(),this.resetImage(),V.isFunction(ah.hidden)&&this.$element.one(n,ah.hidden),this.trigger(n)},requestFullscreen:function(){var ah=document.documentElement;!this.isFulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(ah.requestFullscreen?ah.requestFullscreen():ah.msRequestFullscreen?ah.msRequestFullscreen():ah.mozRequestFullScreen?ah.mozRequestFullScreen():ah.webkitRequestFullscreen&&ah.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},change:function(ah){var ai=this.endX-this.startX,aj=this.endY-this.startY;switch(this.action){case"move":this.move(ai,aj);break;case"zoom":this.zoom(function(ao,ap,am,an){var ak=h(ao*ao+ap*ap),al=h(am*am+an*an);return(al-ak)/ak}(U(this.startX-this.startX2),U(this.startY-this.startY2),U(this.endX-this.endX2),U(this.endY-this.endY2)),!1,ah),this.startX2=this.endX2,this.startY2=this.endY2;break;case"switch":this.action="switched",U(ai)>U(aj)&&(ai>1?this.prev():-1>ai&&this.next())}this.startX=this.endX,this.startY=this.endY},isSwitchable:function(){var ah=this.image,ai=this.viewer;return ah.left>=0&&ah.top>=0&&ah.width<=ai.width&&ah.height<=ai.height}};O.defaults={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5000,minWidth:200,minHeight:100,zoomRatio:0.1,minZoomRatio:0.01,maxZoomRatio:100,zIndex:99,zIndexInline:0,url:"src",build:null,built:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null};O.template='<div class="ak-viewer-container">'+'<div class="ak-viewer-canvas"></div>'+'<div class="ak-viewer-footer animated slideInUp h_10em bg_black07">'+'<div class="ak-viewer-title"></div>'+'<ul class="ak-viewer-toolbar">'+'<li class="ak-viewer-one-to-one bg_black07" data-action="one-to-one"></li>'+'<li class="ak-viewer-zoom-in bg_black07" data-action="zoom-in"></li>'+'<li class="ak-viewer-zoom-out bg_black07" data-action="zoom-out"></li>'+'<li class="ak-viewer-prev bg_black07" data-action="prev"></li>'+'<li class="ak-viewer-next bg_black07" data-action="next"></li>'+'<li class="ak-viewer-rotate-left bg_black07" data-action="rotate-left"></li>'+'<li class="ak-viewer-rotate-right bg_black07" data-action="rotate-right"></li>'+'<li class="ak-viewer-flip-horizontal bg_black07" data-action="flip-horizontal"></li>'+'<li class="ak-viewer-flip-vertical bg_black07" data-action="flip-vertical"></li>'+'<li class="ak-viewer-reset bg_black07" data-action="reset"></li>'+"</ul>"+'<div class="ak-viewer-navbar bg_black04">'+'<ul class="ak-viewer-list"></ul>'+"</div>"+"</div>"+'<div class="ak-viewer-tooltip"></div>'+'<button type="button" class="ak-viewer-button bg_black07" data-action="mix"></button>'+'<div class="ak-mask"></div>'+"</div>";O.other=V.fn.Andrew_Viewer;V.fn.Andrew_Viewer=function(aj){var ai,ah=H(arguments,1);return this.each(function(){var am,al=V(this),ak=al.data(A);if(!ak){if(/destroy|hide|exit|stop|reset/.test(aj)){return}al.data(A,ak=new O(this,aj))}N(aj)&&V.isFunction(am=ak[aj])&&(ai=am.apply(ak,ah))}),M(ai)?this:ai};V.fn.Andrew_Viewer.Constructor=O;V.fn.Andrew_Viewer.setDefaults=O.setDefaults,V.fn.Andrew_Viewer.noConflict=function(){return V.fn.Andrew_Viewer=O.other,this}}(jQuery));(function(f){f.fn.Andrew_TouchSwipe=function(a){var b=f(this),c=b.data(O);if(c&&typeof a==="string"){if(c[a]){return c[a].apply(this,Array.prototype.slice.call(arguments,1))}else{f.error("Method "+a+" does not exist on jQuery.Andrew_TouchSwipe")}}else{if(!c&&(typeof a==="object"||!a)){return G.apply(this,arguments)}}return b};f.fn.Andrew_TouchSwipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};var R="left",S="right",aa="up",F="down",ac="in",n="out",T="none",K="auto",U="swipe",J="pinch",Q="tap",W="doubletap",ad="longtap",E="hold",L="horizontal",I="vertical",X="all",N=10,Z="start",V="move",Y="end",P="cancel",ae="ontouchstart" in window,H=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,ab=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,O="TouchSwipe";f.fn.Andrew_TouchSwipe.phases={PHASE_START:Z,PHASE_MOVE:V,PHASE_END:Y,PHASE_CANCEL:P};f.fn.Andrew_TouchSwipe.directions={LEFT:R,RIGHT:S,UP:aa,DOWN:F,IN:ac,OUT:n};f.fn.Andrew_TouchSwipe.pageScroll={NONE:T,HORIZONTAL:L,VERTICAL:I,AUTO:K};f.fn.Andrew_TouchSwipe.fingers={ONE:1,TWO:2,THREE:3,ALL:X};function G(a){if(a&&(a.allowPageScroll===undefined&&(a.swipe!==undefined||a.swipeStatus!==undefined))){a.allowPageScroll=T}if(a.click!==undefined&&a.tap===undefined){a.tap=a.click}if(!a){a={}}a=f.extend({},f.fn.Andrew_TouchSwipe.defaults,a);return this.each(function(){var b=f(this);var c=b.data(O);if(!c){c=new M(this,a);b.data(O,c)}})}function M(bW,ax){var x=(ae||ab||!ax.fallbackToMouseEvents),v=x?(ab?(H?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",z=x?(ab?(H?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",h=x?(ab?(H?"MSPointerUp":"pointerup"):"touchend"):"mouseup",k=x?null:"mouseleave",bN=(ab?(H?"MSPointerCancel":"pointercancel"):"touchcancel");var bk=0,bB=null,bp=0,bZ=0,br=0,A=1,ba=0,bH=0,s=null;var bz=f(bW);var b="start";var e=0;var bA=null;var j=0,bY=0,bV=0,bn=0,r=0;var bu=null,bl=null;try{bz.bind(v,bD);bz.bind(bN,bR)}catch(bg){f.error("events not supported "+v+","+bN+" on jQuery.Andrew_TouchSwipe")}this.enable=function(){bz.bind(v,bD);bz.bind(bN,bR);return bz};this.disable=function(){bG();return bz};this.destroy=function(){bG();bz.data(O,null);return bz};this.option=function(af,ag){if(ax[af]!==undefined){if(ag===undefined){return ax[af]}else{ax[af]=ag}}else{f.error("Option "+af+" does not exist on jQuery.Andrew_TouchSwipe.options")}return null};function bD(ag){if(bP()){return}if(f(ag.target).closest(ax.excludedElements,bz).length>0){return}var af=ag.originalEvent?ag.originalEvent:ag;var ah,ai=ae?af.touches[0]:af;b=Z;if(ae){e=af.touches.length}else{ag.preventDefault()}bk=0;bB=null;bH=null;bp=0;bZ=0;br=0;A=1;ba=0;bA=bh();s=bq();l();if(!ae||(e===ax.fingers||ax.fingers===X)||bt()){bi(0,ai);j=az();if(e==2){bi(1,af.touches[1]);bZ=br=ay(bA[0].start,bA[1].start)}if(ax.swipeStatus||ax.pinchStatus){ah=q(af,b)}}else{ah=false}if(ah===false){b=P;q(af,b);return ah}else{if(ax.hold){bl=setTimeout(f.proxy(function(){bz.trigger("hold",[af.target]);if(ax.hold){ah=ax.hold.call(bz,af,af.target)}},this),ax.longTapThreshold)}bc(true)}return null}function bX(ai){var af=ai.originalEvent?ai.originalEvent:ai;if(b===Y||b===P||be()){return}var aj,ak=ae?af.touches[0]:af;var ah=bJ(ak);bY=az();if(ae){e=af.touches.length}if(ax.hold){clearTimeout(bl)}b=V;if(e==2){if(bZ==0){bi(1,af.touches[1]);bZ=br=ay(bA[0].start,bA[1].start)}else{bJ(af.touches[1]);br=ay(bA[0].end,bA[1].end);bH=a0(bA[0].end,bA[1].end)}A=bT(bZ,br);ba=Math.abs(bZ-br)}if((e===ax.fingers||ax.fingers===X)||!ae||bt()){bB=bF(ah.start,ah.end);bf(ai,bB);bk=by(ah.start,ah.end);bp=bE();bI(bB,bk);if(ax.swipeStatus||ax.pinchStatus){aj=q(af,b)}if(!ax.triggerOnTouchEnd||ax.triggerOnTouchLeave){var al=true;if(ax.triggerOnTouchLeave){var ag=bs(this);al=aw(ah.end,ag)}if(!ax.triggerOnTouchEnd&&al){b=bO(V)}else{if(ax.triggerOnTouchLeave&&!al){b=bO(Y)}}if(b==P||b==Y){q(af,b)}}}else{b=P;q(af,b)}if(aj===false){b=P;q(af,b)}}function t(ag){var af=ag.originalEvent;if(ae){if(af.touches.length>0){D();return true}}if(be()){e=bn}bY=az();bp=bE();if(p()||!bd()){b=P;q(af,b)}else{if(ax.triggerOnTouchEnd||(ax.triggerOnTouchEnd==false&&b===V)){ag.preventDefault();b=Y;q(af,b)}else{if(!ax.triggerOnTouchEnd&&bU()){b=Y;bL(af,b,Q)}else{if(b===V){b=P;q(af,b)}}}}bc(false);return null}function bR(){e=0;bY=0;j=0;bZ=0;br=0;A=1;l();bc(false)}function u(ag){var af=ag.originalEvent;if(ax.triggerOnTouchLeave){b=bO(Y);q(af,b)}}function bG(){bz.unbind(v,bD);bz.unbind(bN,bR);bz.unbind(z,bX);bz.unbind(h,t);if(k){bz.unbind(k,u)}bc(false)}function bO(af){var ag=af;var ah=bQ();var ai=bd();var aj=p();if(!ah||aj){ag=P}else{if(ai&&af==V&&(!ax.triggerOnTouchEnd||ax.triggerOnTouchLeave)){ag=Y}else{if(!ai&&af==Y&&ax.triggerOnTouchLeave){ag=P}}}return ag}function q(af,ah){var ag=undefined;if(w()||g()){ag=bL(af,ah,U)}else{if((o()||bt())&&ag!==false){ag=bL(af,ah,J)}}if(bK()&&ag!==false){ag=bL(af,ah,W)}else{if(bb()&&ag!==false){ag=bL(af,ah,ad)}else{if(bj()&&ag!==false){ag=bL(af,ah,Q)}}}if(ah===P){bR(af)}if(ah===Y){if(ae){if(af.touches.length==0){bR(af)}}else{bR(af)}}return ag}function bL(af,ai,ag){var ah=undefined;if(ag==U){bz.trigger("swipeStatus",[ai,bB||null,bk||0,bp||0,e,bA]);if(ax.swipeStatus){ah=ax.swipeStatus.call(bz,af,ai,bB||null,bk||0,bp||0,e,bA);if(ah===false){return false}}if(ai==Y&&bv()){bz.trigger("swipe",[bB,bk,bp,e,bA]);if(ax.swipe){ah=ax.swipe.call(bz,af,bB,bk,bp,e,bA);if(ah===false){return false}}switch(bB){case R:bz.trigger("swipeLeft",[bB,bk,bp,e,bA]);if(ax.swipeLeft){ah=ax.swipeLeft.call(bz,af,bB,bk,bp,e,bA)}break;case S:bz.trigger("swipeRight",[bB,bk,bp,e,bA]);if(ax.swipeRight){ah=ax.swipeRight.call(bz,af,bB,bk,bp,e,bA)}break;case aa:bz.trigger("swipeUp",[bB,bk,bp,e,bA]);if(ax.swipeUp){ah=ax.swipeUp.call(bz,af,bB,bk,bp,e,bA)}break;case F:bz.trigger("swipeDown",[bB,bk,bp,e,bA]);if(ax.swipeDown){ah=ax.swipeDown.call(bz,af,bB,bk,bp,e,bA)}break}}}if(ag==J){bz.trigger("pinchStatus",[ai,bH||null,ba||0,bp||0,e,A,bA]);if(ax.pinchStatus){ah=ax.pinchStatus.call(bz,af,ai,bH||null,ba||0,bp||0,e,A,bA);if(ah===false){return false}}if(ai==Y&&bS()){switch(bH){case ac:bz.trigger("pinchIn",[bH||null,ba||0,bp||0,e,A,bA]);if(ax.pinchIn){ah=ax.pinchIn.call(bz,af,bH||null,ba||0,bp||0,e,A,bA)}break;case n:bz.trigger("pinchOut",[bH||null,ba||0,bp||0,e,A,bA]);if(ax.pinchOut){ah=ax.pinchOut.call(bz,af,bH||null,ba||0,bp||0,e,A,bA)}break}}}if(ag==Q){if(ai===P||ai===Y){clearTimeout(bu);clearTimeout(bl);if(c()&&!y()){r=az();bu=setTimeout(f.proxy(function(){r=null;bz.trigger("tap",[af.target]);if(ax.tap){ah=ax.tap.call(bz,af,af.target)}},this),ax.doubleTapThreshold)}else{r=null;bz.trigger("tap",[af.target]);if(ax.tap){ah=ax.tap.call(bz,af,af.target)}}}}else{if(ag==W){if(ai===P||ai===Y){clearTimeout(bu);r=null;bz.trigger("doubletap",[af.target]);if(ax.doubleTap){ah=ax.doubleTap.call(bz,af,af.target)}}}else{if(ag==ad){if(ai===P||ai===Y){clearTimeout(bu);r=null;bz.trigger("longtap",[af.target]);if(ax.longTap){ah=ax.longTap.call(bz,af,af.target)}}}}}return ah}function bd(){var af=true;if(ax.threshold!==null){af=bk>=ax.threshold}return af}function p(){var af=false;if(ax.cancelThreshold!==null&&bB!==null){af=(bx(bB)-bk)>=ax.cancelThreshold}return af}function bm(){if(ax.pinchThreshold!==null){return ba>=ax.pinchThreshold}return true}function bQ(){var af;if(ax.maxTimeThreshold){if(bp>=ax.maxTimeThreshold){af=false}else{af=true}}else{af=true}return af}function bf(ah,ag){if(ax.allowPageScroll===T||bt()){ah.preventDefault()}else{var af=ax.allowPageScroll===K;switch(ag){case R:if((ax.swipeLeft&&af)||(!af&&ax.allowPageScroll!=L)){ah.preventDefault()}break;case S:if((ax.swipeRight&&af)||(!af&&ax.allowPageScroll!=L)){ah.preventDefault()}break;case aa:if((ax.swipeUp&&af)||(!af&&ax.allowPageScroll!=I)){ah.preventDefault()}break;case F:if((ax.swipeDown&&af)||(!af&&ax.allowPageScroll!=I)){ah.preventDefault()}break}}}function bS(){var ag=bC();var ah=d();var af=bm();return ag&&ah&&af}function bt(){return !!(ax.pinchStatus||ax.pinchIn||ax.pinchOut)}function o(){return !!(bS()&&bt())}function bv(){var ah=bQ();var af=bd();var ai=bC();var ak=d();var aj=p();var ag=!aj&&ak&&ai&&af&&ah;return ag}function g(){return !!(ax.swipe||ax.swipeStatus||ax.swipeLeft||ax.swipeRight||ax.swipeUp||ax.swipeDown)}function w(){return !!(bv()&&g())}function bC(){return((e===ax.fingers||ax.fingers===X)||!ae)}function d(){return bA[0].end.x!==0}function bU(){return !!(ax.tap)}function c(){return !!(ax.doubleTap)}function bw(){return !!(ax.longTap)}function m(){if(r==null){return false}var af=az();return(c()&&((af-r)<=ax.doubleTapThreshold))}function y(){return m()}function B(){return((e===1||!ae)&&(isNaN(bk)||bk<ax.threshold))}function a(){return((bp>ax.longTapThreshold)&&(bk<N))}function bj(){return !!(B()&&bU())}function bK(){return !!(m()&&c())}function bb(){return !!(a()&&bw())}function D(){bV=az();bn=event.touches.length+1}function l(){bV=0;bn=0}function be(){var ag=false;if(bV){var af=az()-bV;if(af<=ax.fingerReleaseThreshold){ag=true}}return ag}function bP(){return !!(bz.data(O+"_intouch")===true)}function bc(af){if(af===true){bz.bind(z,bX);bz.bind(h,t);if(k){bz.bind(k,u)}}else{bz.unbind(z,bX,false);bz.unbind(h,t,false);if(k){bz.unbind(k,u,false)}}bz.data(O+"_intouch",af===true)}function bi(ag,ah){var af=ah.identifier!==undefined?ah.identifier:0;bA[ag].identifier=af;bA[ag].start.x=bA[ag].end.x=ah.pageX||ah.clientX;bA[ag].start.y=bA[ag].end.y=ah.pageY||ah.clientY;return bA[ag]}function bJ(ah){var af=ah.identifier!==undefined?ah.identifier:0;var ag=bo(af);ag.end.x=ah.pageX||ah.clientX;ag.end.y=ah.pageY||ah.clientY;return ag}function bo(af){for(var ag=0;ag<bA.length;ag++){if(bA[ag].identifier==af){return bA[ag]}}}function bh(){var ag=[];for(var af=0;af<=5;af++){ag.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return ag}function bI(ag,af){af=Math.max(af,bx(ag));s[ag].distance=af}function bx(af){if(s[af]){return s[af].distance}return undefined}function bq(){var af={};af[R]=C(R);af[S]=C(S);af[aa]=C(aa);af[F]=C(F);return af}function C(af){return{direction:af,distance:0}}function bE(){return bY-j}function ay(af,ag){var ah=Math.abs(af.x-ag.x);var ai=Math.abs(af.y-ag.y);return Math.round(Math.sqrt(ah*ah+ai*ai))}function bT(ah,ag){var af=(ag/ah)*1;return af.toFixed(2)}function a0(){if(A<1){return n}else{return ac}}function by(af,ag){return Math.round(Math.sqrt(Math.pow(ag.x-af.x,2)+Math.pow(ag.y-af.y,2)))}function bM(ah,aj){var ak=ah.x-aj.x;var af=aj.y-ah.y;var ai=Math.atan2(af,ak);var ag=Math.round(ai*180/Math.PI);if(ag<0){ag=360-Math.abs(ag)}return ag}function bF(ag,ah){var af=bM(ag,ah);if((af<=45)&&(af>=0)){return R}else{if((af<=360)&&(af>=315)){return R}else{if((af>=135)&&(af<=225)){return S}else{if((af>45)&&(af<135)){return F}else{return aa}}}}}function az(){var af=new Date();return af.getTime()}function bs(ah){ah=f(ah);var af=ah.offset();var ag={left:af.left,right:af.left+ah.outerWidth(),top:af.top,bottom:af.top+ah.outerHeight()};return ag}function aw(ag,af){return(ag.x>af.left&&ag.x<af.right&&ag.y>af.top&&ag.y<af.bottom)}}}(jQuery));(function(e){var g=window;var k=document;var b=e(g);var d=e(k);e.fn.Andrew_DropLoad=function(p){return new h(this,p)};var h=function(q,p){var r=this;r.$element=q;r.upInsertDOM=false;r.loading=false;r.isLockUp=false;r.isLockDown=false;r.isData=true;r._scrollTop=0;r._threshold=0;r.init(p)};h.prototype.init=function(p){var q=this;q.opts=e.extend(true,{},{scrollArea:q.$element,domUp:{domClass:"ak-dropload-up",domRefresh:" refresh",domUpdate:" update",domLoad:"loading..."},domDown:{domClass:"ak-dropload-down",domRefresh:" refresh",domLoad:"loading...",domNoData:"noData"},autoLoad:true,distance:50,threshold:"",loadUpFn:"",loadDownFn:""},p);if(q.opts.loadDownFn!=""){e("."+q.opts.domDown.domClass).remove();q.$element.append('<div class="'+q.opts.domDown.domClass+'"><div class="ak-dropload-refresh">'+q.opts.domDown.domRefresh+"</div></div>");q.$domDown=e("."+q.opts.domDown.domClass)}if(!!q.$domDown&&q.opts.threshold===""){q._threshold=Math.floor(q.$domDown.height()*1/3)}else{q._threshold=q.opts.threshold}if(q.opts.scrollArea==g){q.$scrollArea=b;q._scrollContentHeight=d.height();q._scrollWindowHeight=k.documentElement.clientHeight}else{q.$scrollArea=q.opts.scrollArea;q._scrollContentHeight=q.$element[0].scrollHeight;q._scrollWindowHeight=q.$element.height()}c(q);b.on("resize",function(){if(q.opts.scrollArea==g){q._scrollWindowHeight=g.innerHeight}else{q._scrollWindowHeight=q.$element.height()}});q.$element.on("touchstart",function(r){if(!q.loading){f(r);j(r,q)}});q.$element.on("touchmove",function(r){if(!q.loading){f(r,q);l(r,q)}});q.$element.on("touchend",function(){if(!q.loading){a(q)}});q.$scrollArea.on("scroll",function(){q._scrollTop=q.$scrollArea.scrollTop();if(q.opts.loadDownFn!=""&&!q.loading&&!q.isLockDown&&(q._scrollContentHeight-q._threshold)<=(q._scrollWindowHeight+q._scrollTop)){n(q)}})};function f(p){if(!p.touches){p.touches=p.originalEvent.touches}}function j(q,p){p._startY=q.touches[0].pageY;p.touchScrollTop=p.$scrollArea.scrollTop()}function l(r,p){p._curY=r.touches[0].pageY;p._moveY=p._curY-p._startY;if(p._moveY>0){p.direction="down"}else{if(p._moveY<0){p.direction="up"}}var q=Math.abs(p._moveY);if(p.opts.loadUpFn!=""&&p.touchScrollTop<=0&&p.direction=="down"&&!p.isLockUp){r.preventDefault();p.$domUp=e("."+p.opts.domUp.domClass);if(!p.upInsertDOM){e("."+p.opts.domUp.domClass).remove();p.$element.prepend('<div class="'+p.opts.domUp.domClass+'"></div>');p.upInsertDOM=true}m(p.$domUp,0);if(q<=p.opts.distance){p._offsetY=q;p.$domUp.html('<div class="ak-dropload-refresh">'+p.opts.domUp.domRefresh+"</div>")}else{if(q>p.opts.distance&&q<=p.opts.distance*2){p._offsetY=p.opts.distance+(q-p.opts.distance)*0.5;p.$domUp.html('<div class="ak-dropload-update">'+p.opts.domUp.domUpdate+"</div>")}else{p._offsetY=p.opts.distance+p.opts.distance*0.5+(q-p.opts.distance*2)*0.2}}p.$domUp.css({"height":p._offsetY})}}function a(p){var q=Math.abs(p._moveY);if(p.opts.loadUpFn!=""&&p.touchScrollTop<=0&&p.direction=="down"&&!p.isLockUp){m(p.$domUp,300);if(q>p.opts.distance){p.$domUp.css({"height":p.$domUp.children().height()});p.$domUp.html('<div class="ak-dropload-load"><span class="loading"></span>'+p.opts.domUp.domLoad+"</div>");p.loading=true;p.opts.loadUpFn(p)}else{p.$domUp.css({"height":"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){p.upInsertDOM=false;e(this).remove()})}p._moveY=0}}function c(p){if(p.opts.autoLoad){if((p._scrollContentHeight-p._threshold)<=p._scrollWindowHeight){n(p)}}}function o(p){if(p.opts.scrollArea==g){p._scrollContentHeight=d.height()}else{p._scrollContentHeight=p.$element[0].scrollHeight}}function n(p){p.direction="up";p.$domDown.html('<div class="ak-dropload-load"><span class="loading"></span>'+p.opts.domDown.domLoad+"</div>");p.loading=true;p.opts.loadDownFn(p)}h.prototype.lock=function(q){var p=this;if(q===undefined){if(p.direction=="up"){p.isLockDown=true}else{if(p.direction=="down"){p.isLockUp=true}else{p.isLockUp=true;p.isLockDown=true}}}else{if(q=="up"){p.isLockUp=true}else{if(q=="down"){p.isLockDown=true;p.direction="up"}}}};h.prototype.unlock=function(){var p=this;p.isLockUp=false;p.isLockDown=false;p.direction="up"};h.prototype.noData=function(p){var q=this;if(p===undefined||p==true){q.isData=false}else{if(p==false){q.isData=true}}};h.prototype.resetload=function(){var p=this;if(p.direction=="down"&&p.upInsertDOM){p.$domUp.css({"height":"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){p.loading=false;p.upInsertDOM=false;e(this).remove()});o(p);c(p)}else{if(p.direction=="up"){p.loading=false;if(p.isData){p.$domDown.html('<div class="ak-dropload-refresh">'+p.opts.domDown.domRefresh+"</div>");o(p);c(p)}else{p.$domDown.html('<div class="ak-dropload-noData">'+p.opts.domDown.domNoData+"</div>")}}}};function m(q,p){q.css({"-webkit-transition":"all "+p+"ms","transition":"all "+p+"ms"})}}(jQuery));(function(a){window.Andrew_Select=(function(){function b(e,d){return e.getElementsByClassName(d)}function c(d){this.Andrew_Select;this.wheelsData=d.wheels;this.jsonType=false;this.jsonData=[];this.checkDataType();this.renderWheels(this.wheelsData);this.displayJson=[];this.cascade=false;this.startY;this.moveEndY;this.moveY;this.oldMoveY;this.offset=0;this.offsetSum=0;this.oversizeBorder;this.curDistance=[];this.clickStatus=false;this.init(d)}c.prototype={constructor:c,init:function(d){var f=this;f.trigger=document.querySelector(d.trigger);if(f.trigger==undefined||f.trigger==null||f.trigger==""){return}a("body").append(f.Andrew_Select);document.activeElement.blur();f.wheel=b(f.Andrew_Select,"wheel");f.slider=b(f.Andrew_Select,"selectContainer");f.wheels=f.Andrew_Select.querySelector(".wheels");f.liHeight=f.Andrew_Select.querySelector("li").offsetHeight;f.ensureBtn=f.Andrew_Select.querySelector(".ensure");f.closeBtn=f.Andrew_Select.querySelector(".cancel");f.grayLayer=f.Andrew_Select.querySelector(".ak-mask");f.popUp=f.Andrew_Select.querySelector(".content");f.callback=d.callback?d.callback:function(){};f.transitionEnd=d.transitionEnd?d.transitionEnd:function(){};f.initPosition=d.position?d.position:[];a(window).resize(function(){f.liHeight=f.Andrew_Select.querySelector("li").offsetHeight;f.setCurDistance(f.initPosition)});f.titleText=d.title?d.title:"";f.button_ensure=d.ensure?d.ensure:"";f.button_cancel=d.cancel?d.cancel:"";f.setTitle(f.titleText);f.setEnsure(f.button_ensure);f.setCancel(f.button_cancel);f.checkCascade();if(f.cascade){f.initCascade()}if(f.initPosition.length==0){for(var e=0;e<f.slider.length;e++){f.initPosition.push(0)}}f.setCurDistance(f.initPosition);f.addListenerAll();f.closeBtn.addEventListener("click",function(){a(f.Andrew_Select).removeClass("ak-Select-show");setTimeout(function(){a(f.grayLayer).addClass("dis_none_im");a(f.popUp).children().addClass("dis_opa_0")},500);a("main").addClass("scrolling")});f.ensureBtn.addEventListener("click",function(){a(f.Andrew_Select).removeClass("ak-Select-show");setTimeout(function(){a(f.grayLayer).addClass("dis_none_im");a(f.popUp).children().addClass("dis_opa_0")},500);a("main").addClass("scrolling");var h="";for(var g=0;g<f.wheel.length;g++){g==f.wheel.length-1?h+=f.getValue(g):h+=f.getValue(g)+" "}a(f.trigger).next("label").hide();f.trigger.value=h;f.callback(f.getJson(),f.getIndexArr())});a(f.trigger).unbind("click");f.trigger.addEventListener("click",function(){a(f.grayLayer).removeClass("dis_none_im");a(f.Andrew_Select).addClass("ak-Select-show");a("main").removeClass("scrolling");if(a(f.Andrew_Select).hasClass("ak-Select-show")){a(f.popUp).children().removeClass("dis_opa_0")}});f.grayLayer.addEventListener("click",function(){a(f.Andrew_Select).removeClass("ak-Select-show");setTimeout(function(){a(f.grayLayer).addClass("dis_none_im");a(f.popUp).children().addClass("dis_opa_0")},500);a("main").addClass("scrolling")});f.popUp.addEventListener("click",function(g){g.stopPropagation();a("main").addClass("scrolling")});f.fixRowStyle()},setTitle:function(d){var e=this;e.titleText=d;a(e.Andrew_Select).find(".title").html(e.titleText)},setEnsure:function(d){var e=this;e.button_ensure=d;a(e.Andrew_Select).find(".ensure").html(e.button_ensure)},setCancel:function(d){var e=this;e.button_cancel=d;a(e.Andrew_Select).find(".cancel").html(e.button_cancel)},renderWheels:function(f){var h=this;h.Andrew_Select=document.createElement("div");a(h.Andrew_Select).addClass("ak-Select");a(h.Andrew_Select).html('<div id="select_mask" class="ak-mask dis_none_im"></div>'+'<div class="content">'+'<div class="panel dis_opa_0">'+'<div class="title c_title"></div>'+'<div class="fixWidth">'+'<div class="wheels">'+"</div>"+'<div class="selectLine"></div>'+'<div class="shadowMask"></div>'+"</div>"+"</div>"+'<div class="btnBar dis_opa_0">'+'<div class="fixWidth">'+'<button type="button" class="cancel bg_white c_gray_777"></button>'+'<button type="button" class="ensure bg_white c_title"></button>'+"</div>"+"</div>"+"</div>");var d="";for(var g=0;g<f.length;g++){d+='<div class="wheel"><ul class="selectContainer">';if(h.jsonType){for(var e=0;e<f[g].data.length;e++){d+='<li data-id="'+f[g].data[e].id+'">'+f[g].data[e].value+"</li>"}}else{for(var e=0;e<f[g].data.length;e++){d+="<li>"+f[g].data[e]+"</li>"}}d+="</ul></div>"}a(h.Andrew_Select).find(".wheels").html(d)},addListenerAll:function(){var e=this;for(var d=0;d<e.slider.length;d++){(function(f){e.addListenerWheel(e.wheel[f],f);e.addListenerLi(f)})(d)}},addListenerWheel:function(f,d,e){var g=this;f.addEventListener("touchstart",function(){g.touch(e,this.firstChild,d)},false);f.addEventListener("touchend",function(){g.touch(e,this.firstChild,d)},false);f.addEventListener("touchmove",function(){g.touch(e,this.firstChild,d)},false);f.addEventListener("mousedown",function(){g.dragClick(e,this.firstChild,d)},false);f.addEventListener("mousemove",function(){g.dragClick(e,this.firstChild,d)},false);f.addEventListener("mouseup",function(){g.dragClick(e,this.firstChild,d)},true)},addListenerLi:function(e){var g=this;var f=g.slider[e].getElementsByTagName("li");for(var d=0;d<f.length;d++){(function(h){f[h].addEventListener("click",function(){g.singleClick(this,h,e)},false)})(d)}},checkDataType:function(){var d=this;if(typeof(d.wheelsData[0].data[0])=="object"){d.jsonType=true;d.jsonData=d.wheelsData[0].data}},checkCascade:function(){var f=this;if(f.jsonType){var e=f.wheelsData[0].data;for(var d=0;d<e.length;d++){if("childs" in e[d]&&e[d].childs.length>0){f.cascade=true;break}}}else{f.cascade=false}},initCascade:function(){var d=this;d.displayJson.push(d.generateArrData(d.jsonData));d.checkArrDeep(d.jsonData[0]);d.updateWheels()},generateArrData:function(f){var e=[];for(var d=0;d<f.length;d++){e.push({"id":f[d].id,"value":f[d].value})}return e},checkArrDeep:function(d){var e=this;if("childs" in d&&d.childs.length>0){e.displayJson.push(e.generateArrData(d.childs));e.checkArrDeep(d.childs[0])}},checkRange:function(e,h){var j=this;var g=j.displayJson.length-1-e;for(var f=0;f<g;f++){j.displayJson.pop()}var d;for(var f=0;f<=e;f++){if(f==0){d=j.jsonData[h[0]]}else{d=d.childs[h[f]]}}j.checkArrDeep(d);j.updateWheels();j.fixRowStyle();j.setCurDistance(j.resetPostion(e,h))},resetPostion:function(e,h){var j=this;var d=h;var g;if(j.slider.length>h.length){g=j.slider.length-h.length;for(var f=0;f<g;f++){d.push(0)}}else{if(j.slider.length<h.length){g=h.length-j.slider.length;for(var f=0;f<g;f++){d.pop()}}}for(var f=e+1;f<d.length;f++){d[f]=0}return d},updateWheels:function(){var f=this;if(f.wheel.length>f.displayJson.length){var e=f.wheel.length-f.displayJson.length;for(var d=0;d<e;d++){f.wheels.removeChild(f.wheel[f.wheel.length-1])}}for(var d=0;d<f.displayJson.length;d++){(function(l){var h="";if(f.wheel[l]){for(var k=0;k<f.displayJson[l].length;k++){h+='<li data-id="'+f.displayJson[l][k].id+'">'+f.displayJson[l][k].value+"</li>"}f.slider[l].innerHTML=h}else{var g=document.createElement("div");a(g).addClass("wheel");h='<ul class="selectContainer">';for(var k=0;k<f.displayJson[l].length;k++){h+='<li data-id="'+f.displayJson[l][k].id+'">'+f.displayJson[l][k].value+"</li>"}h+="</ul>";a(g).html(h);f.addListenerWheel(g,l);f.wheels.appendChild(g)}f.addListenerLi(l)})(d)}},updateWheel:function(f,g){var h=this;var d="";for(var e=0;e<g.length;e++){d+="<li>"+g[e]+"</li>"}h.slider[f].innerHTML=d;h.addListenerLi(f)},fixRowStyle:function(){var f=this;var e=(100/f.wheel.length).toFixed(2);for(var d=0;d<f.wheel.length;d++){f.wheel[d].style.width=e+"%"}},getIndex:function(d){return Math.round((2*this.liHeight-d)/this.liHeight)},getIndexArr:function(){var f=this;var d=[];for(var e=0;e<f.curDistance.length;e++){d.push(f.getIndex(f.curDistance[e]))}return d},getJson:function(){var g=this;var d=[];var f=g.getIndexArr();if(g.cascade){for(var e=0;e<g.wheel.length;e++){d.push(g.displayJson[e][f[e]])}}else{if(g.jsonType){for(var e=0;e<g.curDistance.length;e++){d.push(g.wheelsData[e].data[g.getIndex(g.curDistance[e])])}}else{for(var e=0;e<g.curDistance.length;e++){d.push(g.getValue(e))}}}return d},calcDistance:function(d){return 2*this.liHeight-d*this.liHeight},setCurDistance:function(f){var g=this;var d=[];for(var e=0;e<g.slider.length;e++){d.push(g.calcDistance(f[e]));g.movePosition(g.slider[e],d[e])}g.curDistance=d},fixPosition:function(d){return -(this.getIndex(d)-2)*this.liHeight},movePosition:function(d,e){d.style.webkitTransform="translate3d(0,"+e+"px, 0)";d.style.transform="translate3d(0,"+e+"px, 0)"},locatePostion:function(e,d){this.curDistance[e]=this.calcDistance(d);this.movePosition(this.slider[e],this.curDistance[e])},updateCurDistance:function(e,d){this.curDistance[d]=parseInt(e.style.transform.split(",")[1])},getDistance:function(d){return parseInt(d.style.transform.split(",")[1])},getValue:function(e){var f=this;var d=f.getIndex(f.curDistance[e]);return f.slider[e].getElementsByTagName("li")[d].innerHTML},touch:function(g,f,e){var h=this;g=g||window.event;switch(g.type){case"touchstart":h.startY=g.touches[0].clientY;h.oldMoveY=h.startY;break;case"touchend":h.moveEndY=g.changedTouches[0].clientY;h.offsetSum=h.moveEndY-h.startY;h.updateCurDistance(f,e);h.curDistance[e]=h.fixPosition(h.curDistance[e]);h.movePosition(f,h.curDistance[e]);h.oversizeBorder=-(f.getElementsByTagName("li").length-3)*h.liHeight;if(h.curDistance[e]+h.offsetSum>2*h.liHeight){h.curDistance[e]=2*h.liHeight;setTimeout(function(){h.movePosition(f,h.curDistance[e])},100)}else{if(h.curDistance[e]+h.offsetSum<h.oversizeBorder){h.curDistance[e]=h.oversizeBorder;setTimeout(function(){h.movePosition(f,h.curDistance[e])},100)}}h.transitionEnd(h.getIndexArr(),h.getJson());if(h.cascade){var d=h.getIndexArr();d[e]=h.getIndex(h.curDistance[e]);h.checkRange(e,d)}break;case"touchmove":g.preventDefault();h.moveY=g.touches[0].clientY;h.offset=h.moveY-h.oldMoveY;h.updateCurDistance(f,e);h.curDistance[e]=h.curDistance[e]+h.offset;h.movePosition(f,h.curDistance[e]);h.oldMoveY=h.moveY;break}},dragClick:function(g,f,e){var h=this;g=g||window.event;if(typeof g!=="undefined"){switch(g.type){case"mousedown":h.startY=g.clientY;h.oldMoveY=h.startY;h.clickStatus=true;break;case"mouseup":h.moveEndY=g.clientY;h.offsetSum=h.moveEndY-h.startY;h.updateCurDistance(f,e);h.curDistance[e]=h.fixPosition(h.curDistance[e]);h.movePosition(f,h.curDistance[e]);h.oversizeBorder=-(f.getElementsByTagName("li").length-3)*h.liHeight;if(h.curDistance[e]+h.offsetSum>2*h.liHeight){h.curDistance[e]=2*h.liHeight;setTimeout(function(){h.movePosition(f,h.curDistance[e])},100)}else{if(h.curDistance[e]+h.offsetSum<h.oversizeBorder){h.curDistance[e]=h.oversizeBorder;setTimeout(function(){h.movePosition(f,h.curDistance[e])},100)}}h.clickStatus=false;h.transitionEnd(h.getIndexArr(),h.getJson());if(h.cascade){var d=h.getIndexArr();d[e]=h.getIndex(h.curDistance[e]);h.checkRange(e,d)}break;case"mousemove":g.preventDefault();if(h.clickStatus){h.moveY=g.clientY;h.offset=h.moveY-h.oldMoveY;h.updateCurDistance(f,e);h.curDistance[e]=h.curDistance[e]+h.offset;h.movePosition(f,h.curDistance[e]);h.oldMoveY=h.moveY}break}}},singleClick:function(g,e,f){var h=this;if(h.cascade){var d=h.getIndexArr();d[f]=e;h.checkRange(f,d)}else{h.curDistance[f]=(2-e)*h.liHeight;h.movePosition(g.parentNode,h.curDistance[f])}}};return c})()}(jQuery));